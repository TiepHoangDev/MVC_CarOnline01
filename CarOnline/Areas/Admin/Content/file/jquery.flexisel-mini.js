(function(a){a.fn.flexisel=function(l,c){var f=a.extend({visibleItems:4,animationSpeed:200,autoPlay:false,autoPlaySpeed:3000,pauseOnHover:true,setMaxWidthAndHeight:false,enableResponsiveBreakpoints:true,clone:true,responsiveBreakpoints:{portrait:{changePoint:480,visibleItems:1},landscape:{changePoint:640,visibleItems:2},tablet:{changePoint:768,visibleItems:3}}},l);var g=a(this);var e=a.extend(f,l);var i;var j=true;var h=e.visibleItems;var k=g.children().length;var b=[];var d={init:function(){return this.each(function(){d.appendHTML();d.setEventHandlers();d.initializeItems()})},initializeItems:function(){var p=g.parent();var o=p.height();var n=g.children();d.sortResponsiveObject(e.responsiveBreakpoints);var m=p.width();i=(m)/h;n.width(i);if(e.clone){n.last().insertBefore(n.first());n.last().insertBefore(n.first());g.css({left:-i})}g.fadeIn();a(window).trigger("resize")},appendHTML:function(){g.addClass("nbs-flexisel-ul");g.wrap("<div class='nbs-flexisel-container'><div class='nbs-flexisel-inner'></div></div>");g.find("li").addClass("nbs-flexisel-item");var p=g.parent();if(e.setMaxWidthAndHeight){var o=a(".nbs-flexisel-item img").width();var n=a(".nbs-flexisel-item img").height();a(".nbs-flexisel-item img").css("max-width",o);a(".nbs-flexisel-item img").css("max-height",n)}a("<div class='nbs-flexisel-nav-left'></div><div class='nbs-flexisel-nav-right'></div>").insertAfter(p);if(e.clone){var m=g.children().clone();g.append(m)}},setEventHandlers:function(){var o=g.parent();var q=o.parent();var n=g.children();var p=q.find(".nbs-flexisel-nav-left");var m=q.find(".nbs-flexisel-nav-right");a(window).on("resize",function(s){d.setResponsiveEvents();var r=a(o).width();var t=a(o).height();i=(r)/h;n.width(i);if(e.clone){g.css({left:-i})}else{g.css({left:0})}if(!e.clone&&k<=h){p.add(m).css("visibility","hidden")}else{p.add(m).css("visibility","visible");var u=(p.height())/2;var v=(t/2)-u;p.css("top",c+"px");m.css("top",c+"px")}});a(p).on("click",function(r){d.scrollLeft()});a(m).on("click",function(r){d.scrollRight()});if(e.pauseOnHover==true){a(".nbs-flexisel-item").on({mouseenter:function(){j=false},mouseleave:function(){j=true}})}if(e.autoPlay==true){setInterval(function(){if(j==true){d.scrollRight()}},e.autoPlaySpeed)}},setResponsiveEvents:function(){var m=a("html").width();if(e.enableResponsiveBreakpoints){var o=b[b.length-1].changePoint;for(var n in b){if(m>=o){h=e.visibleItems;break}else{if(m<b[n].changePoint){h=b[n].visibleItems;break}else{continue}}}}},sortResponsiveObject:function(o){var m=[];for(var n in o){m.push(o[n])}m.sort(function(q,p){return q.changePoint-p.changePoint});b=m},scrollLeft:function(){if(g.position().left<0){if(j==true){j=false;var o=g.parent();var m=o.width();i=(m)/h;var n=g.children();g.animate({left:"+="+i},{queue:false,duration:e.animationSpeed,easing:"linear",complete:function(){if(e.clone){n.last().insertBefore(n.first())}d.adjustScroll();j=true}})}}},scrollRight:function(){var q=g.parent();var m=q.width();i=(m)/h;var p=(i-m);var o=(g.position().left+((k-h)*i)-m);if((p<=Math.ceil(o))&&(!e.clone)){if(j==true){j=false;g.animate({left:"-="+i},{queue:false,duration:e.animationSpeed,easing:"linear",complete:function(){d.adjustScroll();j=true}})}}else{if(e.clone){if(j==true){j=false;var n=g.children();g.animate({left:"-="+i},{queue:false,duration:e.animationSpeed,easing:"linear",complete:function(){n.first().insertAfter(n.last());d.adjustScroll();j=true}})}}}},adjustScroll:function(){var o=g.parent();var n=g.children();var m=o.width();i=(m)/h;n.width(i);if(e.clone){g.css({left:-i})}}};if(d[l]){return d[l].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof l==="object"||!l){return d.init.apply(this)}else{a.error('Method "'+method+'" does not exist in flexisel plugin!')}}}})(jQuery);