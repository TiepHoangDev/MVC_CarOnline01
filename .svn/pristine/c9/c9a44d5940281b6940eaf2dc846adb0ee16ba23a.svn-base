var validUserName=["acura","alfaromeo","asia","astonmartin","audi","bentley","bmw","buick","byd","cadillac","changan","chery","chevrolet","chrysler","citroen","daewoo","daihatsu","dodge","eagle","ferrari","fiat","ford","gaz","geely","geo","gmc","haima","honda","hummer","hyundai","infiniti","isuzu","jaguar","jeep","kia","lada","lamborghini","lancia","landrover","lexus","lifan","lincoln","lotus","luxgen","man","maserati","maybach","mazda","mekong","mercury","mercedesbenz","mg","mini","mitsubishi","nissan","oldsmobile","opel","peugeot","plymouth","pontiac","porsche","proton","renault","rover","saab","samsung","santana","saturn","scion","seat","skoda","smart","ssangyong","subaru","suzuki","sym","thaco","toyota","vinaxuki","volkswagen","volvo","tata","hino","uaz","xechuyêndùng","xechuyendung","pmc","xetải","rolls-royce","tobe","veammotor","mclaren","admin","banxehoi","bxh","auto","salon","saloon","salons","showroom","ôtô","oto","KlA","Kía","F0rd","H0nda","T0yota","toy0ta","t0y0ta","Huyndai","Hyudai","Huydai","Chervolet","Cherv0let","Chevr0let","Nisan","VOV","Car","Cars"];function contains(b){b=b.replace(/([^\w\dàáảãạâầấẩẫậăằắẳẵặèéẻẽẹêềếểễệđìíỉĩịòóỏõọôồốổỗộơờớởỡợùúủũụưừứửữựỳýỷỹỵÀÁẢÃẠÂẦẤẨẪẬĂẰẮẲẴẶÈÉẺẼẸÊỀẾỂỄỆĐÌÍỈĨỊÒÓỎÕỌÔỒỐỔỖỘƠỜỚỞỠỢÙÚỦŨỤƯỪỨỬỮỰỲÝỶỸỴÂĂĐÔƠƯ\d]+)/g,"").replace("/","").toLowerCase();for(var a=0;a<validUserName.length;a++){if(b.indexOf(validUserName[a])!=-1){return false}}return true}String.prototype.mystringtrim=function(b){var a=this;if(a==null||b==null){return a}if(a.length==0||b.length==0){return a}if(a.substring(a.length-1)==b){a=a.substring(0,a.length-1)}if(a.substring(0,1)==b){a=a.substring(1)}return a.toString()};$.fn.mousehover=function(){$(this).mouseenter(function(){$(this).addClass("itemcaractive");var a=$(this).find(".luuxe");var b=a.attr("id").replace("SavingAuto","");if(a.hasClass("iconsaved")){a.removeClass("iconsaved").addClass("iconremove");a.html("Bỏ lưu");a.attr("onclick","DeleteSavingAuto("+b+")")}}).mouseleave(function(){$(this).removeClass("itemcaractive");var a=$(this).find(".luuxe");var b=a.attr("id");if(a.hasClass("iconremove")){a.removeClass("iconremove").addClass("iconsaved");a.html("Đã lưu");a.removeAttr("onclick")}})};function onlynumber(a){a.value=a.value.replace(/[^0-9\.]/g,"");$(a).attr("style","");$("#"+$(a).attr("id")+"_validatett").remove();$("#errorflag").html();if(a.value!=""&&a.value.length<10){$(a).attr("style","border:1px solid red");marginleft=$(a).position().left;$(a).parent().after('<div id="'+$(a).attr("id")+'_validatett" class="validatetooltipsellform" style="margin-left:'+marginleft+'px">Số điện thoại không đúng</div>');$("#errorflag").html($(a).attr("id"));return}else{if(a.value==""){$(a).attr("style","border:1px solid red");marginleft=$(a).position().left;$(a).parent().after('<div id="'+$(a).attr("id")+'_validatett" class="validatetooltipsellform" style="margin-left:'+marginleft+'px">Số điện thoại không được để trống</div>');$("#errorflag").html($(a).attr("id"));return}}}function onlyemail(a){$(a).attr("style","");$("#"+$(a).attr("id")+"_validatett").remove();$("#errorflag").html();if(a.value!=""&&!/.+@.+\.[a-zA-Z]{2,4}$/.test(a.value)){$(a).attr("style","border:1px solid red");marginleft=$(a).position().left;$(a).parent().after('<div id="'+$(a).attr("id")+'_validatett" class="validatetooltipsellform" style="margin-left:'+marginleft+'px">Sai định dạng email</div>');$("#errorflag").html($(a).attr("id"));return}else{if(a.value==""){$(a).attr("style","border:1px solid red");marginleft=$(a).position().left;$(a).parent().after('<div id="'+$(a).attr("id")+'_validatett" class="validatetooltipsellform" style="margin-left:'+marginleft+'px">Email không được để trống</div>');$("#errorflag").html($(a).attr("id"));return}}}function MyDateDiff(j,h,c){var b=1000,d=b*60,e=d*60,g=e*24,a=g*7;j=new Date(j);h=new Date(h);var f=h-j;if(isNaN(f)){return NaN}switch(c){case"years":return h.getFullYear()-j.getFullYear();case"months":return((h.getFullYear()*12+h.getMonth())-(j.getFullYear()*12+j.getMonth()));case"weeks":return Math.floor(f/a);case"days":return Math.floor(f/g);case"hours":return Math.floor(f/e);case"minutes":return Math.floor(f/d);case"seconds":return Math.floor(f/b);default:return undefined}}function VNDate2Date(b){var a=b.split("/");return date=a[1]+"/"+a[0]+"/"+a[2]}function getFormattedDate(b){var c=b.getFullYear();var d=(1+b.getMonth()).toString();d=d.length>1?d:"0"+d;var a=b.getDate().toString();a=a.length>1?a:"0"+a;return a+"/"+d+"/"+c}$.fn.formatCurrencyWidthDot=function(){var a=$(this).val().replace(/\./g,"").replace(/,/g,"");$(this).val(a).formatCurrency({roundToDecimalPlace:-1,symbol:""});a=$(this).val().replace(/,/g,".");$(this).val(a)};function formatDollar(a){return a.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1.")}function removeSpecial(a){return a.replace(/[`~!@#$%^&*()_|+\=?;:'"<>\{\}\[\]\\\/]/gi,"")}function activemenuheader(){var a=window.location.href.toLowerCase();if(a==a.substring(0,a.length-1)+"/"){$("#tc").parent().addClass("activemenu")}else{var c=null;a=a.replace("http://banxehoi.net/","").replace("http://banxehoi.com/","").replace("https://banxehoi.com/","");if(a.indexOf("/")!=-1){a="/"+a.substring(0,a.indexOf("/"))}else{a="/"+a}if(a=="/phien-ban"){a="/ban-xe"}else{if(a.indexOf("/xe-moi")!=-1&&a.substring(0,7)=="/xe-moi"){a="/tin-tuc/xe-moi"}else{if(a.indexOf("/xe-")!=-1&&a.substring(0,4)=="/xe-"){a="/ban-xe"}}}$(".pagemenu ul li a").not("#tc").each(function(){if(a.indexOf("/dang-tin-ban-xe")!=-1){return}if($(this).attr("data-key")!=null&&a.indexOf($(this).attr("data-key").toLowerCase())>-1){if(c==null){c=this}else{if(c.href.length<this.href.length){c=this}}}});if(c==null){return}c=$(c).parent();var b=c.parent().attr("class");if(b&&b.indexOf("sub-menu")!=-1){$(c).addClass("activemenu");c=c.parent().parent()}c.addClass("activemenu")}}$(document).ready(function(){if($("div").hasClass("autodetail")){var a=$(".autodetail .notedetail").attr("data-title");$(".autodetail .notedetail").html('<span class="red">* Lưu ý:</span> Quý vị đang xem nội dung tin rao "'+a+'". Mọi thông tin liên quan tới tin rao này là do người đăng tin đăng tải và chịu trách nhiệm. Banxehoi.com luôn cố gắng để có chất lượng thông tin tốt nhất, nhưng <span>Banxehoi.com</span> không chịu trách nhiệm về bất kỳ nội dung nào liên quan tới tin rao này. Nếu quý vị phát hiện có sai sót hay vấn đề gì xin hãy thông báo cho <span>Banxehoi.com <a id="report2" class="fancybox.ajax" href="https://banxehoi.com/member/report/index" rel="nofollow">tại đây</a></span>')}$(".autodetail .autoitem .viewmore a").click(function(){var d=$(this).attr("data-link");var c=$(this).parent().parent();if($(c).find(".divthree").is(":visible")){location.href=d}if($(c).find(".divsecond").is(":visible")){$(c).find(".divthree").show("slow")}else{$(c).find(".divsecond").show("slow")}$(".sell-car-griditem").syncHeight(".sell-car-griditem");$(".fixheightinfo").syncHeight(".fixheightinfo");$(".sell-car-griditem .tit").syncHeight(".sell-car-griditem .tit")});$("#btn_close").click(function(){var c=$("#boxProductSaved ul").height()+15;var d=$("#boxProductSaved").css("bottom");if(d==-c+"px"||d=="-15px"){$("#boxProductSaved ul").show();$("#boxProductSaved #btn_close").removeClass().addClass("hideAll");$("#boxProductSaved").animate({bottom:"0"},200,function(){$.cookie("statusBox",1,{path:"/",expires:7})})}else{$("#boxProductSaved").animate({bottom:-c},200,function(){$("#boxProductSaved #btn_close").removeClass().addClass("showAll");$.cookie("statusBox",0,{path:"/",expires:7})})}});CreateSavingAutoBar();CheckCurrentDetailAutoIsSaved();ShowHideAutoSavingBar();CheckCurrentListAutoIsSaved();var b=$("#chat-width-bds-noreg").length>0?parseInt($("#chat-width-bds-noreg").css("right"),10):parseInt($(".chat-container").css("right"),10);if($(".chatPopup").is(":visible")){b=parseInt($(".chatPopup").css("right"),10)+145}$("#boxProductSaved").css("right",b+272)});function CheckCurrentDetailAutoIsSaved(){var a=$("#AutoID").val();if(typeof a=="undefined"){return}if(a==null){return}if(a==0){return}var b=$.cookie(_savingAutoIDCookieName);if(typeof b!="undefined"){if(b.search(a)>-1){$("#SavingAuto"+a).text("Đã lưu").removeAttr("onclick").addClass("iconsaved")}}}function CheckCurrentListAutoIsSaved(){var a=$.cookie(_savingAutoIDCookieName);if(a!=null){$(".sell-car-griditem .luuxe").each(function(){var b=$(this).attr("id").replace("SavingAuto","");if(a.search(b)>-1){$("#SavingAuto"+b).text("Đã lưu").removeAttr("onclick").addClass("iconsaved")}});$(".sellcar-item .luuxe").each(function(){var b=$(this).attr("id").replace("SavingAuto","");if(a.search(b)>-1){$("#SavingAuto"+b).text("Đã lưu").removeAttr("onclick").addClass("iconsaved")}})}}function ShowHideAutoSavingBar(){var a=$.cookie(_savingAutoIDCookieName);if(typeof a!="undefined"){a=a.mystringtrim(",")}if(a==null||a==""){$("#boxProductSaved").hide()}else{$("#boxProductSaved #countproduct").html("("+a.split(",").length+")");$("#boxProductSaved").show();if($.cookie("statusBox")==0){$("#boxProductSaved ul").hide();$("#boxProductSaved #btn_close").removeClass().addClass("showAll")}}}var _savingAutoIDCookieName="SavingAutoIDs";var _savingAutoStorateName="SavingAutos";function CreateSavingAutoBar(){var b=$("#chat-width-bds-noreg").length>0?parseInt($("#chat-width-bds-noreg").css("right"),10):parseInt($(".chat-container").css("right"),10);if($(".chatPopup").is(":visible")){b=parseInt($(".chatPopup").css("right"),10)+145}$("#boxProductSaved").css("right",b+272);var a=$.cookie(_savingAutoIDCookieName);if(typeof a!="undefined"){a=a.mystringtrim(",")}if(a!=null){ShowHideAutoSavingBar()}else{if(userId!=""){$.ajax({type:"POST",url:"/member/xe-da-luu/list-by-user",success:function(c){if(c!=null){var d="";if(c.length>0){$.each(c,function(e,f){d+=f+","});d=d.substring(0,d.length-1);$.cookie(_savingAutoIDCookieName,d,{path:"/",expires:7,domain:domainOfCookieName});ShowHideAutoSavingBar()}}}})}}}function ShowPopupSaved(){var a=$.cookie(_savingAutoIDCookieName);if(a!=null){$("#boxProductSaved #showautosaved").fancybox({fitToView:false,href:"/member/xe-da-luu/list/"+a,padding:0,closeBtn:false,autoCenter:false})}}function AddSavingAuto(b,a){var c=$.cookie(_savingAutoIDCookieName);if(c!=null){if(c.search(a)==-1){$.cookie(_savingAutoIDCookieName,a+","+c,{path:"/",expires:7,domain:domainOfCookieName})}}else{$.cookie(_savingAutoIDCookieName,a,{path:"/",expires:7,domain:domainOfCookieName})}if(userId==""){$(b).text("Đã lưu").removeAttr("onclick").addClass("iconsaved");CreateSavingAutoBar()}else{$.ajax({type:"POST",cache:false,url:"/member/xe-da-luu/add",data:{autoID:a},success:function(d){if(d=="false"){alert("Lỗi không lưu được tin!")}else{$(b).text("Đã lưu").removeAttr("onclick").addClass("iconsaved");CreateSavingAutoBar()}}})}}function DeleteSavingAutoDatabase(a){if(userId!=""){$.ajax({type:"POST",cache:false,url:"/member/xe-da-luu/delete",data:{autoID:a},success:function(){}})}}function DeleteSavingAutoByID(a){$("#SavingAuto"+a).removeClass("iconsaved").removeClass("iconremove").text("Lưu xe").attr("onclick","AddSavingAuto(this,'"+a+"');");var b=$.cookie(_savingAutoIDCookieName);if(typeof b!="undefined"){b=b.replace(a+",","").replace(a,"").replace(",,",",");b=b.mystringtrim(",");if(b!=""&&b!=","){$.cookie(_savingAutoIDCookieName,b,{path:"/",expires:7,domain:domainOfCookieName})}else{$.removeCookie(_savingAutoIDCookieName,{domain:domainOfCookieName,path:"/"})}}DeleteSavingAutoDatabase(a);ShowHideAutoSavingBar()}function DeleteSavingAuto(a){if(confirm("Bạn có chắc chắn muốn xóa ?")){DeleteSavingAutoByID(a)}}function DeleteSavingAutoInPopup(b,a){if(confirm("Bạn có chắc chắn muốn xóa ?")){$(b).parent().parent().remove();DeleteSavingAutoByID(a)}}function DeleteAllSavingAuto(){if(confirm("Bạn có chắc chắn muốn xóa tất cả ?")){var a=$.cookie(_savingAutoIDCookieName);if(typeof a!="undefined"){a=a.mystringtrim(",");if(userId!=""){$.ajax({type:"POST",cache:false,url:"/member/xe-da-luu/deleteall",data:{autoIDs:a},success:function(){}})}}$.removeCookie(_savingAutoIDCookieName,{domain:domainOfCookieName,path:"/"});$("#boxProductSaved #countproduct").html("(0)");$("#boxProductSaved").hide();$(".luuxe").each(function(){var b=$(this).attr("id").replace("SavingAuto","");$("#SavingAuto"+b).removeClass("iconsaved").removeClass("iconremove").text("Lưu xe").attr("onclick","AddSavingAuto(this,'"+b+"');")})}}function DeleteSavingAutoInManager(b,a){DeleteSavingAutoByID(a);$(b).parent().parent().remove()}var CompareAutoIDCookieName="CompareAutoID";function DeleteAllCookieCompare(){$.removeCookie(CompareAutoIDCookieName,{domain:domainOfCookieName,path:"/"})}function AddCookieCompare(a){$.cookie(CompareAutoIDCookieName,a,{path:"/",expires:7,domain:domainOfCookieName})}function GetCompareFromCookie(){return $.cookie(CompareAutoIDCookieName)}$(document).ready(function(){$("#closecompare").click(function(){if(confirm("Bạn có chắc chắn muốn xóa ?")){var c=GetCompareFromCookie();DeleteAllCookieCompare();$(".AutoCompare #countcompare").html("");$(".AutoCompare").hide();$(".sosanh").each(function(){var d=$(this).attr("data-id");if(c.search(d)>-1){$(this).attr("onclick","AutoCompared(this,'"+d+"');")}})}});GetComparetlist();checkStatusCompare();checkCookieCompare();var a=$("#chat-width-bds-noreg").length>0?parseInt($("#chat-width-bds-noreg").css("right"),10):parseInt($(".chat-container").css("right"),10);if($(".chatPopup").is(":visible")){a=parseInt($(".chatPopup").css("right"),10)+145}$("#boxProductSaved").css("right",a+272);if($("#boxProductSaved").is(":visible")){$(".AutoCompare").css("right",parseInt($("#boxProductSaved").css("right"),10)+185)}else{$(".AutoCompare").css("right",a+272)}var b=$.cookie("LogoffCookie");if(typeof b!="undefined"&&b!=undefined&&b=="true"){$.removeCookie("LogoffCookie",{path:"/",domain:domainOfCookieName});$.removeCookie(_savingAutoIDCookieName,{path:"/",domain:domainOfCookieName})}});function checkStatusCompare(){if(productId==0){productId=$("#ProductId").val()}var a=GetCompareFromCookie();if(a!=null&&a!="undefined"){if(a.search(productId)>-1){changeHtml(productId)}}}function checkCookieCompare(){var a=GetCompareFromCookie();if(a=="undefined"){$("#AutoCompare").hide()}else{HideBoxCompare()}}function changeHtml(a){$("."+a).removeAttr("onclick")}function GetComparetlist(){var d=GetCompareFromCookie();var c="";if(d!=null){d=d.trim(",");var a="";$(".AutoCompare #countcompare").html(c);if($("body").data("GetComparelist_"+d)!=null){a=$("body").data("GetComparelist_"+d);if(a.length>0){$(".AutoCompare #countcompare").html("("+a.length+")")}}else{a=d.split(",");$("body").data("GetComparelist_"+d,a);if(a.length>0){$(".AutoCompare #countcompare").html("("+a.length+")")}}}else{$(".AutoCompare #countcompare").html("")}var b=$("#chat-width-bds-noreg").length>0?parseInt($("#chat-width-bds-noreg").css("right"),10):parseInt($(".chat-container").css("right"),10);if($(".chatPopup").is(":visible")){b=parseInt($(".chatPopup").css("right"),10)+145}$("#boxProductSaved").css("right",b+272);if($("#boxProductSaved").is(":visible")){$(".AutoCompare").css("right",parseInt($("#boxProductSaved").css("right"),10)+185)}else{$(".AutoCompare").css("right",b+272)}}function DeleteCompare(a,b){if(confirm("Bạn có chắc chắn muốn xóa ?")){$(a).parent().remove();var c=GetCompareFromCookie();c=c.replace(b,"").replace(",,",",");if(c!=""&&c!=","){AddCookieCompare(c)}else{DeleteAllCookieCompare()}if($("#AutoCompare ul li").length==0){$("#AutoCompare").hide()}AddCompareAuto(b)}}function OpenBoxCompare(){$(".AutoCompare").show()}function HideBoxCompare(){$(".AutoCompare").show();var a=GetCompareFromCookie();if(a==null||a=="undefined"){$(".AutoCompare").hide()}}function AutoCompared(b,a){var c=GetCompareFromCookie();if(c!=null&&c!="undefined"&&c!=""&&c.search(a)==-1){AddCookieCompare(a+","+c)}else{AddCookieCompare(a)}GetComparetlist();$(b).removeAttr("onclick");OpenBoxCompare()}function CheckCompareList(a){var b=a;if(b!=null){$(".sellcar-item .sosanh").each(function(){var c=$(this).attr("data-id");if(b.search(c)>-1){$(this).attr("onclick","AutoCompared(this,'"+c+"');")}})}}function CheckCompareListIdGrid(){if(userId==""){var b=GetCompareFromCookie();if(b!=null){$(".sell-car-griditem .save").each(function(){var c=$(this).attr("id");if(b.search(c)>-1){$("#"+c).text("Đã lưu").removeAttr("onclick").removeClass("icon").addClass("iconsaved")}})}}else{var a="";$(".sell-car-griditem .save").each(function(){a+=$(this).attr("id")+","});if(a!=""){$.ajax({type:"POST",cache:false,url:"/Auto/getlistCompareID",data:{productIds:a},success:function(c){a="";if(c!=null){likeReturn=c;$.each(likeReturn,function(d,e){a+=e.AutoID+","});$(".sell-car-griditem .save").each(function(){var d=$(this).attr("id");if(a.search(d)>-1){$("#"+d).text("Đã lưu").removeAttr("onclick").removeClass("icon").addClass("iconsaved")}})}}})}}}function ShowPopupCompare(){var a=GetCompareFromCookie();if(a!=null||a!="undefined"){a=a.split(",");if(a.length>1){$("#showcompare, #showcompare1").fancybox({fitToView:false,href:"/so-sanh",padding:0,closeBtn:false,autoCenter:false})}else{alert("Bạn phải chọn nhiều xe để so sánh!");return}}else{alert("Bạn chưa chọn xe nào để so sánh");return}}function RemoveCompare(c){$(".viewcompare ."+c).remove();var b=GetCompareFromCookie();b=b.replace(c,"").replace(",,",",");b=b.trim(",");if(b!=""&&b!=","){AddCookieCompare(b)}else{DeleteAllCookieCompare()}GetComparetlist();checkCookieCompare();b=b.split(",");$(".autocount #sl").html(b.length);var a=b.length*200;$(".contentcompareitem").css("width",""+a+"px");$(".head-fly").css("width",""+a+"px");if(b.length==0||b==""){$(".AutoCompare").hide()}var b=GetCompareFromCookie();$(".sosanh").each(function(){var d=$(this).attr("data-id");if(d==c){$(this).attr("onclick","AutoCompared(this,'"+d+"');")}})}$.fn.TooltipPoint=function(){$(this).hover(function(){var d=$(this);var c=d.position().top+d.height();var a=d.position().left+d.width();var b=d.attr("data-title");if(!b){return}b=b.replace(/\\n/g,"<br/>");d.after('<div class="mytooltip" style="top:'+c+"px;left:"+a+'px; width: auto !important;">'+b+"</div>")}).mouseleave(function(){$(".mytooltip").remove()})};(function(a){a.fn.myTooltip=function(){a(this).blur(b);a(this).focus(c);function c(){var e=a(this).position().top;var d=a(this).position().left+a(this).width()+20;a(this).after('<div class="mytooltip" style="top:'+e+"px;left:"+d+'px">'+a(this).attr("title")+"</div>")}function b(){a(".mytooltip").remove()}};a.fn.myTooltipHover=function(){a(this).hover(function(){var e=a(this);var d=e.position().top+e.height();var b=e.position().left;var c=e.attr("data-title");if(!c){return}c=c.replace(/\\n/g,"<br/>");e.after('<div class="mytooltip" style="top:'+d+"px;left:"+b+"px; max-width: "+e.width()+'px !important; width: auto !important;">'+c+"</div>")}).mouseleave(function(){a(".mytooltip").remove()})};a.fn.switchColumns=function(c,b){c.after(b)};a.fn.moveColumn=function(b,f,e){var c=jQuery("tr",b);var d;c.each(function(){d=jQuery(this).children("th, td");d.eq(f).detach().insertBefore(d.eq(e))})}})(jQuery);(function(a){a.fn.myTooltipManage=function(){a(this).hover(c,b);function c(){var e=a(this).position().top+25;var d=a(this).position().left;a(this).after('<div class="mytooltipmanage" style="top:'+e+"px;left:"+d+'px">'+a(this).attr("data-title")+"</div>")}function b(){a(".mytooltipmanage").remove()}}})(jQuery);(function(a){a.fn.myTooltipSearch=function(){a(this).blur(b);a(this).focus(c);a(this).hover(c,b);function c(){var e=a(this).position().top;if(a(this).attr("id")=="price-min"){var d=a(this).position().left-100}else{var d=a(this).position().left+90}a(this).after('<div class="mytooltipsearch" style="top:'+e+"px;left:"+d+"px;width="+a(this).width()+'px !important;">'+a(this).attr("title")+"</div>")}function b(){a(".mytooltipsearch").remove()}}})(jQuery);String.prototype.trimstart=function(b){if(typeof b=="undefined"){return this}b=b?b:" ";var a=0;for(;a<this.length&&this.charAt(a)==b;a++){}return this.substring(a)};String.prototype.trimEnd=function(b){if(typeof b=="undefined"){return this}b=b?b:" ";var a=this.length-1;for(;a>=0&&this.charAt(a)==b;a--){}return this.substring(0,a+1)};String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};function isDate(b){var d=b;if(d==""){return false}var a=/^(\d{1,2})(\/|-)(\d{1,2})(\/|-)(\d{4})$/;var e=d.match(a);if(e==null){return false}dtDay=e[1];dtMonth=e[3];dtYear=e[5];if(dtMonth<1||dtMonth>12){return false}else{if(dtDay<1||dtDay>31){return false}else{if((dtMonth==4||dtMonth==6||dtMonth==9||dtMonth==11)&&dtDay==31){return false}else{if(dtMonth==2){var c=(dtYear%4==0&&(dtYear%100!=0||dtYear%400==0));if(dtDay>29||(dtDay==29&&!c)){return false}}}}}return true}function IsNumeric(d){var a="0123456789.";var c=true;var b;for(var e=0;e<d.length&&c==true;e++){b=d.charAt(e);if(a.indexOf(b)==-1){c=false}}return c}var minvalueprice=0;var maxvalueprice=99000;var minvalueyear=0;var maxvalueyear=2017;var initmakeid=0;var initmodelid=0;var typemodel="";function InputFocus(a,b){var c=b.value;if(c==a){b.value=""}}function InputBlur(a,b){var c=b.value;if(c==""){b.value=a}}function UnicodeToKoDauAndGach(a){strChar="abcdefghiklmnopqrstxyzuvxw0123456789 ";a=UnicodeToKoDau(a.toLowerCase());sReturn="";for(i=0;i<a.length;i++){if(strChar.indexOf(a.charAt(i))>-1){if(a.charAt(i)!=" "){sReturn+=a.charAt(i)}else{if(i>0&&a.charAt(i-1)!=" "&&a.charAt(i-1)!="-"){sReturn+="-"}}}}return sReturn}function UnicodeToKoDau(a){uniChars="àáảãạâầấẩẫậăằắẳẵặèéẻẽẹêềếểễệđìíỉĩịòóỏõọôồốổỗộơờớởỡợùúủũụưừứửữựỳýỷỹỵÀÁẢÃẠÂẦẤẨẪẬĂẰẮẲẴẶÈÉẺẼẸÊỀẾỂỄỆĐÌÍỈĨỊÒÓỎÕỌÔỒỐỔỖỘƠỜỚỞỠỢÙÚỦŨỤƯỪỨỬỮỰỲÝỶỸỴÂĂĐÔƠƯ";KoDauChars="aaaaaaaaaaaaaaaaaeeeeeeeeeeediiiiiooooooooooooooooouuuuuuuuuuuyyyyyAAAAAAAAAAAAAAAAAEEEEEEEEEEEDIIIIIOOOOOOOOOOOOOOOOOUUUUUUUUUUUYYYYYAADOOU";retVal="";for(i=0;i<a.length;i++){pos=uniChars.indexOf(a.charAt(i));if(pos>=0){retVal+=KoDauChars.charAt(pos)}else{retVal+=a.charAt(i)}}return retVal}function OnchangeHangxe(b,c){var a=null;if(b!=null&&b!=""&&b!=0){$.ajax({type:"POST",cache:false,url:"/model/jsonmodels/"+b+"",success:function(d){if(d.length>0){a=d;$("body").data("Model_"+b,a)}},timeout:5000,complete:function(){if(a!=null){$(".combogriditem").combogriditem("0","Tất cả loại",a);$("#Makename").val(UnicodeToKoDauAndGach(c))}}})}}$.fn.newsslide=function(movepx){this.each(function(){$(".osgslideimg").hide();$(".osgslidecontent").hide();var objId=$(this).attr("id");var src,rel,alt,title,url;var htmlafter="";htmlafter+='<div class="newsslide">';htmlafter+='    <div class="newsitemslide">';htmlafter+='    <div class="wp-newsitemslide">';htmlafter+='        <div class="slide_animation">';$(".itemslidemodel").each(function(){src=$(this).find(".osgslideimg").attr("src");rel=$(this).find(".osgslidecontent").attr("rel");alt=$(this).find(".osgslideimg").attr("alt");title=$(this).find(".osgslidecontent").attr("title");url=$(this).find(".osgslidecontent").attr("href");htmlafter+='  <div class=itemcontent><a href="'+url+'" title="'+title+'"><img class="imgslide" src="'+src+'" alt="'+alt+'"/></a>';htmlafter+='<a href="'+url+'" title="'+title+'">'+title+"</a></div>"});htmlafter+="        </div>";htmlafter+="        </div>";htmlafter+='        <img src="https://img1.banxehoi.com/Static/Images/rightdetail.png" class="dart dartleft" style="left:0px"/>';htmlafter+='        <img src="https://img1.banxehoi.com/Static/Images/leftdetail.png" class="dart dartright" style="right:0px"/>';htmlafter+="    </div>";htmlafter+="</div>";$(this).append(htmlafter);var currenttab=1;var maxtab=eval($("#maxtab").val());$(".dart").click(function(){if($(this).hasClass("dartleft")){currenttab--;if(currenttab>0){var leftpx=(currenttab-1)*(-movepx);$("#"+objId+" .slide_animation").animate({left:leftpx},500)}if(currenttab<1){currenttab=1}var index=currenttab-1}else{if($(this).hasClass("dartright")){currenttab++;if(currenttab<=maxtab){$(this).parent().parent().parent().parent().parent().parent();var leftpx=(currenttab-1)*(-movepx);$("#"+objId+" .slide_animation").animate({left:leftpx},500)}if(currenttab>maxtab){currenttab=maxtab}var index=currenttab+1}}})})};$.fn.osgslide=function(d,a,c,e,b){this.each(function(){var f=$(this).attr("id");$("#"+f+" .osgslideimg").hide();var g="";g+='<div class="imageslide">';g+='    <div class="imagecontainer">';g+='        <a href="javascript:void(0)"><img id="osgslidemainimage"  alt="'+$("#"+f+" .osgslideimg:eq(0)").attr("alt")+'" title="'+$("#"+f+" .osgslideimg:eq(0)").attr("alt")+'" rel="osgslide-display-none-index-0" src="'+$("#"+f+" .osgslideimg:eq(0)").attr("src").replace("/"+d+"/","/"+a+"/")+'"></a>';g+="    </div>";g+='    <div class="imageitemslide">';g+='    <div class="wp-imageitemslide">';g+='        <div class="slide_animation">';$("#"+f+" .osgslideimg").each(function(j){var l=$(this).attr("src");var h=$(this).attr("rel");var k=$(this).attr("alt");g+='            <img id="imgslide_'+j+'" class="imgslide" src="'+l+'" rel="'+h+'" alt="'+k+'" title="'+k+'"/>'});g+="        </div>";g+="        </div>";g+='        <img src="https://img1.banxehoi.com/Static/Images/leftv5.png" class="dart dartleft" style="left:14px"/>';g+='        <img src="https://img1.banxehoi.com/Static/Images/rightv5.png" class="dart dartright" style="right:15px"/>';g+="    </div>";g+="</div>";$(this).append(g);$(this).append('<input class="currenttab" value="1" type="hidden" />');$(this).append('<input class="currentimage" value="0" type="hidden" />');$("#"+f+" .dart").click(function(){var j=$("#"+f+" .currenttab").val();var h=$("#"+f+" .currentimage").val();if($(this).hasClass("dartleft")){j--;if(j>=1){if($(this).parent().parent().parent().parent().parent().parent().hasClass("slidesalon")){var k=(j-1)*(-c)}else{var k=(j-1)*(-c)}$("#"+f+" .slide_animation").animate({left:k},500)}if(j<1){j=1}h--;if(h<0){h=0}}else{if($(this).hasClass("dartright")){j++;if(j<=e){$(this).parent().parent().parent().parent().parent().parent();if($(this).parent().parent().parent().parent().parent().parent().hasClass("slidesalon")){var k=(j-1)*(-c)}else{var k=(j-1)*(-c)}$("#"+f+" .slide_animation").animate({left:k},500)}if(j>e){j=e}h++;if(h>=b){h=b-1}}}$("#"+f+" .currenttab").val(j);$("#"+f+" .currentimage").val(h);$("#"+f+" #osgslidemainimage").attr("src",$("#"+f+" .osgslideimg:eq("+h+")").attr("src").replace("/"+d+"/","/"+a+"/")).attr("rel",$("#"+f+" .osgslideimg:eq("+h+")").attr("rel"));$("#"+f+" #osgslidemainimage").parent().attr("data-src",$("#"+f+" .osgslideimg:eq("+h+")").attr("src").replace("/"+d+"/","/")).attr("data-desc",$("#"+f+" .osgslideimg:eq("+h+")").attr("title"));$("#"+f+" .imgslide").removeClass("osgslide-active");$("#"+f+" #imgslide_"+h).addClass("osgslide-active")});$("#"+f+" .imgslide").click(function(){var k=$(this).attr("src");var h=$(this).attr("rel");var j=$(this).attr("alt");$("#"+f+" #osgslidemainimage").attr("src",k.replace("/"+d+"/","/"+a+"/")).attr("rel",h);$("#"+f+" #osgslidemainimage").parent().attr("data-src",k.replace("/"+d+"/","/")).attr("data-desc",j);currentimage=h.replace("imageGallery-","");$("#"+f+" .currentimage").val(currentimage);$("#"+f+" .imgslide").removeClass("osgslide-active");$(this).addClass("osgslide-active")});$("#"+f+" #osgslidemainimage").click(function(){$(".imageGallery:eq("+$("#"+f+" .currentimage").val()+")").click()})})};function GetMoneyText2(a){if(a==0){return"0<sup>tr</sup>"}a=Math.round(a*10)/10;var b=0;if(a>=1000000000){b=a/1000000000;return b.toString().replace(".",",")+"<sup>tỷ</sup>"}if(a>=1000000){b=a/1000000;return b+"<sup>tr</sup>"}}function GetText2Money(text){if(text.indexOf("tr")!=-1){text=text.replace("tr","").trim();return eval(text)}else{if(text.indexOf("tỷ")!=-1){text=text.replace("tỷ","");return eval(text)*1000}else{return eval(text)}}}var minprice=minvalueprice;var maxprice=maxvalueprice;function getMinMaxPrice(b){if(b==""||b=="Giá"){minprice=minvalueprice;maxprice=maxvalueprice}else{if(b.indexOf("Dưới")!=-1){b=b.replace("Dưới ","");maxprice=GetText2Money(b.trim());minprice=0}else{if(b.indexOf(" trở lên")!=-1){b=b.replace(" trở lên","").replace("Từ","");maxprice=maxvalueprice;minprice=GetText2Money(b.trim())}else{var a=b.split("đến");minprice=a[0].replace("Từ","");maxprice=a[1];minprice=GetText2Money(minprice.trim());maxprice=GetText2Money(maxprice.trim())}}}}var minyear=minvalueyear;var maxyear=maxvalueyear;function getMinMaxYear(year){if(year==""||year=="Năm"){return}if(year.indexOf("Sau năm")!=-1){year=year.replace("Sau năm","").trim();minyear=eval(year);maxyear=maxvalueyear}else{if(year.indexOf("Trước năm")!=-1){year=year.replace("Trước năm","").trim();minyear=minvalueyear;maxyear=eval(year.trim())}else{var arryear=year.split("đến");minyear=arryear[0].replace("Từ năm","");minyear=eval(minyear.trim());maxyear=arryear[1];maxyear=eval(maxyear.replace("năm","").trim())}}}function SetFilterHaveImageCookie(b){if(b){document.cookie="HaveImage=1;path=/;"}else{document.cookie="HaveImage=0;path=/;"}var a=document.URL;a=a.replace(new RegExp("/p([0-9]+)"),"");location.href=a}function SetFilterNotImageCookie(b){if(b){document.cookie="HaveImage=2;path=/;"}else{document.cookie="HaveImage=0;path=/;"}var a=document.URL;a=a.replace(new RegExp("/p([0-9]+)"),"");location.href=a}function SetFilterIsTestDriver(b){if(b){document.cookie="isTestDriver=1;path=/;"}else{document.cookie="isTestDriver=0;path=/;"}var a=document.URL;a=a.replace(new RegExp("/p([0-9]+)"),"");location.href=a}function SetFilterThumbViewCookie(a){if(a){document.cookie="IsThumbView=1;path=/;"}else{document.cookie="IsThumbView=0;path=/;"}location.reload()}function SetFilterSortByCookie(index,sortCookieName){var d=new Date();d.setTime(d.getTime()+(24*60*60*1000));switch(eval(index)){case 1:orderPrice=1;orderYear=0;break;case 2:orderPrice=2;orderYear=0;break;case 3:orderPrice=0;orderYear=1;break;case 4:orderPrice=0;orderYear=2;break;case 5:orderPrice=0;orderYear=3;break;default:orderPrice=0;orderYear=0;break}document.cookie=sortCookieName+"OrderPrice="+orderPrice+";expires="+d.toUTCString()+";path=/;";document.cookie=sortCookieName+"OrderYear="+orderYear+";expires="+d.toUTCString()+";path=/;";var url=document.URL;url=url.replace(new RegExp("/p([0-9]+)"),"");location.href=url}function getCookie(d){var b=d+"=";var a=document.cookie.split(";");for(var e=0;e<a.length;e++){var f=a[e].replace(/^\s+|\s+$/g,"");if(f.indexOf(b)==0){return f.substring(b.length,f.length)}}return""}$.fn.ComboSort=function(c,b,a){this.each(function(){var g=$(this).attr("id");var e=$(this).find("input").attr("id");var d=$(this).find("input").attr("data-width");var h="";h+='    <div class="selected" style="'+d+' !important" ><div class="price">'+b+'</div><div class="selectorder"></div></div>';h+='    <div class="list-selections" style="display:none;" >';h+="<ul>";h+='    <li><a rel="0" href="javascript:void(0)">Thông thường</a></li>';h+='    <li><a rel="5" href="javascript:void(0)">Tin mới nhất</a></li>';h+='    <li><a rel="1" href="javascript:void(0)">Giá tăng dần</a></li>';h+='    <li><a rel="2" href="javascript:void(0)">Giá giảm dần</a></li>';h+='    <li><a rel="3" href="javascript:void(0)">Năm sx cũ đến mới</a></li>';h+='    <li><a rel="4" href="javascript:void(0)">Năm sx mới đến cũ</a></li>';h+="</ul>";h+="    </div>";$(".combocust").html(h);$("#"+g+" .selected").click(function(){if($(this).hasClass("active")){f()}else{$(this).addClass("active");$("#"+g+" .list-selections").show()}});$("#"+g+" .list-selections a").click(function(){var k=$(this).html();var j=$(this).attr("rel");SetFilterSortByCookie(j,a)});$(document).mouseup(function(k){var j=$("#"+g);if(!j.is(k.target)&&j.has(k.target).length===0&&$("#"+g+" .selected").hasClass("active")){f()}});function f(k,j){if(k!=null&&k!=""){$("#"+g+" .price").html(k)}if(j!=null&&j!=""){$("#"+e).val(j)}$("#"+g+" .selected").removeClass("active");$("#"+g+" .list-selections").hide()}})};function SingleClassificationName(a){switch(a){case 1<<14:return"sedan";case 1<<15:return"suv";case 1<<16:return"coupe";case 1<<17:return"cuv";case 1<<18:return"hatchback";case 1<<19:return"convertible";case 1<<20:return"truck";case 1<<21:return"van-minivan";case 1<<22:return"wagon";case 1073741824:return"mpv";case 2147483648:return"pick-up-truck";case 4294967296:return"sport-car";case 8589934592:return"city-car";case 274877906944:return"special-purpose";default:return""}}function BuildSeachLink(makeid,modelid,cityid,bitValue,minprice,maxprice,minyear,maxyear,exteriorColor,interiorColor){var medial=0;if(minprice>maxprice){medial=maxprice;maxprice=minprice;minprice=medial}if(minyear>maxyear){medial=maxyear;maxyear=minyear;minyear=medial}if(makeid==0){makeid=""}if(modelid==0){modelid=""}if(cityid==0){cityid=""}var urlFormat;var modelcity="";modelcity=(makeid==""?"":"-"+makeid)+(modelid==""?"":"-"+modelid)+(cityid==""?"":"-"+cityid);if(makeid!=""&&modelid!=""&&minyear!=minvalueyear&&minyear==maxyear){modelcity+="-nam-"+minyear;minyear=minvalueyear;maxyear=maxvalueyear}if(cityid.length==0&&makeid!=""&&minprice==minvalueprice&&maxprice==maxvalueprice){if((bitValue&(1<<29))==(1<<29)&&(bitValue-(1<<29))==0){modelcity+="-nhap-khau";bitValue=0}else{if((bitValue&(1<<2))==(1<<2)&&(bitValue-(1<<2))==0){modelcity+="-may-dau";bitValue=0}else{if((bitValue&(1<<26))==(1<<26)&&(bitValue-(1<<26))==0){modelcity+="-so-tu-dong";bitValue=0}else{if((bitValue&(1<<23))==(1<<23)&&(bitValue-(1<<23))==0){modelcity+="-cu-da-qua-su-dung";bitValue=0}else{if(SingleClassificationName(bitValue)!=""){modelcity+="-dang-"+SingleClassificationName(bitValue);bitValue=0}else{if(exteriorColor!=0&&bitValue==0){var arrColor=[{Text:"Bạc",Value:"1",ShortName:"bac"},{Text:"Tím",Value:"2",ShortName:"tim"},{Text:"Hồng",Value:"3",ShortName:"hong"},{Text:"Trắng",Value:"4",ShortName:"trang"},{Text:"Kem (Be)",Value:"5",ShortName:"kem"},{Text:"Vàng",Value:"6",ShortName:"vang"},{Text:"Nâu",Value:"7",ShortName:"nau"},{Text:"Xanh lam",Value:"8",ShortName:"lam"},{Text:"Đỏ",Value:"9",ShortName:"do"},{Text:"Xanh lục",Value:"10",ShortName:"luc"},{Text:"Xám",Value:"11",ShortName:"xam"},{Text:"Đen",Value:"12",ShortName:"den"},{Text:"Hai màu",Value:"13",ShortName:"2mau"},{Text:"Màu khác",Value:"14",ShortName:"khac"}];var count=0;var colorName="";for(var i=0;i<arrColor.length;i++){if((exteriorColor&eval(1<<arrColor[i].Value))==(1<<arrColor[i].Value)){count++;colorName=arrColor[i].ShortName}}if(count==1){modelcity+="-mau-"+colorName;exteriorColor=0}}}}}}}}if(modelcity!=""){modelcity="/xe"+modelcity}else{modelcity="/ban-xe"}var priceURL="";if(minprice==minvalueprice&&maxprice!=maxvalueprice){priceURL="/mlt"+maxprice}else{if(minprice!=minvalueprice&&maxprice==maxvalueprice){priceURL="/mgt"+minprice}else{if(minprice!=minvalueprice&&maxprice!=maxvalueprice){priceURL="/m"+minprice+"-"+maxprice}}}var filterURL="";var yearURL="";if(minyear==minvalueyear&&maxyear==maxvalueyear){yearURL="5555"}else{if(minyear==minvalueyear&&maxyear!=maxvalueyear&&minyear!=maxyear){yearURL="55"+maxyear.toString().substr(2,2)}else{if(minyear!=minvalueyear&&maxyear==maxvalueyear&&minyear!=maxyear){yearURL=minyear.toString().substr(2,2)+"55"}else{if(minyear>minvalueyear&&maxyear<maxvalueyear){yearURL=minyear.toString().substr(2,2)+maxyear.toString().substr(2,2)}else{yearURL="5555"}}}}if(yearURL!="5555"||bitValue!=0){filterURL="/f"+bitValue+yearURL}var colorURL="";if(interiorColor!=0||exteriorColor!=0){colorURL="/c"+exteriorColor+"-"+interiorColor}return modelcity+priceURL+filterURL+colorURL}function BuildSalonLink(h,g,b,d){var a,c,e;if(h==1){c="xe-moi"}else{if(h==2){c="xe-cu"}else{c=""}}var f=(h==0?"":"-"+c)+(g==0?"":"-"+b);if(d!=""){a="/salons{0}-{1}";return String.format(a,f,d)}else{a="/salons{0}";return String.format(a,f)}}String.format=function(b){var a=Array.prototype.slice.call(arguments,1);return b.replace(/{(\d+)}/g,function(c,d){return typeof a[d]!="undefined"?a[d]:c})};$.fn.combobuyprice=function(b,a){this.each(function(){var f=$(this).attr("id");var c=$(this).find("input").attr("id");var g=$("#buyprice").data("list");var h="";h+='    <div class="selected"><div class="price">'+a+"</div></div>";h+='    <div class="list" style="display:none;" >';h+="<ul>";for(var e=0;e<g.length;e++){h+='<li><a rel="'+g[e].value+'" href="javascript:void(0)">'+g[e].text+"</a></li>"}h+="</ul>";h+="    </div>";if(type=1){$(".combocustprice").html(h)}else{$(".combocustcity").html(h)}$("#"+f+" .selected").click(function(){if($(this).hasClass("active")){d()}else{$(this).addClass("active");$("#"+f+" .list").show()}});$("#"+f+" .list a").click(function(){var k=$(this).html();var j=$(this).attr("rel");SetFilterSortByCookiePrice(j);d(k,j)});$(document).mouseup(function(k){var j=$("#"+f);if(!j.is(k.target)&&j.has(k.target).length===0&&$("#"+f+" .selected").hasClass("active")){d()}});function d(k,j){if(k!=null&&k!=""){$("#"+f+" .price").html(k)}if(j!=null&&j!=""){$("#"+c).val(j)}$("#"+f+" .selected").removeClass("active");$("#"+f+" .list").hide()}})};function SetFilterSortByCookiePrice(b){document.cookie="SearchPrice="+b+";path=/;";var a=document.URL;a=a.replace(new RegExp("/p([0-9]+)"),"");location.href=a}$.fn.combobuycity=function(b,a){this.each(function(){var f=$(this).attr("id");var c=$(this).find("input").attr("id");var g=$("#buycity").data("list");var h="";h+='    <div class="selected"><div class="price">'+a+"</div></div>";h+='    <div class="list" style="display:none;" >';h+="<ul>";for(var e=0;e<g.length;e++){h+='<li><a rel="'+g[e].value+'" href="javascript:void(0)">'+g[e].text+"</a></li>"}h+="</ul>";h+="    </div>";$(".combocustcity").html(h);$("#"+f+" .selected").click(function(){if($(this).hasClass("active")){d()}else{$(this).addClass("active");$("#"+f+" .list").show()}});$("#"+f+" .list a").click(function(){var k=$(this).html();var j=$(this).attr("rel");SetFilterSortByCookieCity(j);d(k,j)});$(document).mouseup(function(k){var j=$("#"+f);if(!j.is(k.target)&&j.has(k.target).length===0&&$("#"+f+" .selected").hasClass("active")){d()}});function d(k,j){if(k!=null&&k!=""){$("#"+f+" .price").html(k)}if(j!=null&&j!=""){$("#"+c).val(j)}$("#"+f+" .selected").removeClass("active");$("#"+f+" .list").hide()}})};function SetFilterSortByCookieCity(b){document.cookie="SearchCity="+b+";path=/;";var a=document.URL;a=a.replace(new RegExp("/p([0-9]+)"),"");location.href=a}function setcookieStatus(a){document.cookie="cookieSecondHand="+a+";path=/;";location.reload()}$.fn.anotherfilter=function(){this.each(function(){$(this).find(".af-text").click(function(){$(this).parent().toggleClass("another-filler-active")});$(this).find("li").find("a").click(function(){$(this).parent().toggleClass("active")});$(this).find("img.af-search-button").click(function(){execSearch()});$(document).mouseup(function(b){var a=$(".another-filler-active");if(!a.is(b.target)&&a.has(b.target).length===0&&$(a).hasClass("another-filler-active")){$(a).removeClass("another-filler-active")}})})};$.fn.capchar=function(){$(this).click(function(){$(".verifycode").attr("src","/member/captcha/"+Math.random())})};$.fn.comboColorOut=function(b,a){this.each(function(){var f=$(this).attr("id");var d="ExteriorColor";var c=$("#ColorIDOut").attr("data-width");var g=$("#ColorIDOut").data("list");var h="";h+='    <div style="width:'+c+'" class="segmentedsection"><span class="segtext" style="width:'+c+'">'+a+'</span><span class="segdart"></span></div>';h+='    <div class="af-color" style="display:none;width:345px;" >';for(i=0;i<g.length;i++){if(b==g[i].value){h+='<div class="af-color-item" >';h+='  <a class="selected" style="background: url(\'https://img1.banxehoi.com/Static/Images/color-'+g[i].ExtValue+".png') no-repeat left;\" rel="+g[i].BitValue+">"+g[i].Key+"</a> ";h+=" </div>"}else{h+='<div class="af-color-item" >';h+="  <a style=\"background: url('https://img1.banxehoi.com/Static/Images/color-"+g[i].ExtValue+".png') no-repeat left;\" rel="+g[i].BitValue+">"+g[i].Key+"</a> ";h+=" </div>"}if(i%2==1){h+='<div class="af-line"></div>'}}h+="    </div>";$(".combogridcolorout").html(h);$("#"+f+" .segmentedsection").click(function(){if($(this).hasClass("segmentedsectionactive")){e()}else{$(this).addClass("segmentedsectionactive");$("#"+f+" .af-color").show()}});$("#"+f+" .af-color a").click(function(){var k=$(this).html();var j=$(this).attr("rel");$("#"+f+" .af-color a").removeClass("selected");$(this).addClass("selected");e(k,j)});$(document).mouseup(function(k){var j=$("#"+f);if(!j.is(k.target)&&j.has(k.target).length===0&&$("#"+f+" .segmentedsection").hasClass("segmentedsectionactive")){e()}});function e(k,j){if(k!=null&&k!=""){$("#"+f+" .segtext").html(k);$("#OutColor").val(k)}if(j!=null&&j!=""){$("#"+d).val(j)}$("#"+f+" .segmentedsection").removeClass("segmentedsectionactive");$("#"+f+" .af-color").hide()}})};$.fn.comboColorIn=function(b,a){this.each(function(){var f=$(this).attr("id");var d="InteriorColor";var c=$("#ColorIDIn").attr("data-width");var g=$("#ColorIDIn").data("list");var h="";h+='    <div style="width:'+c+'" class="segmentedsection"><span class="segtext" style="width:'+c+'">'+a+'</span><span class="segdart"></span></div>';h+='    <div class="af-color" style="display:none;width:345px;" >';for(i=0;i<g.length;i++){if(b==g[i].value){h+='<div class="af-color-item" >';h+='  <a class="selected" style="background: url(\'https://img1.banxehoi.com/Static/Images/color-'+g[i].ExtValue+".png') no-repeat left;\" rel="+g[i].BitValue+">"+g[i].Key+"</a> ";h+=" </div>"}else{h+='<div class="af-color-item" >';h+="  <a style=\"background: url('https://img1.banxehoi.com/Static/Images/color-"+g[i].ExtValue+".png') no-repeat left;\" rel="+g[i].BitValue+">"+g[i].Key+"</a> ";h+=" </div>"}if(i%2==1){h+='<div class="af-line"></div>'}}h+="    </div>";$(".combogridcolorin").html(h);$("#"+f+" .segmentedsection").click(function(){if($(this).hasClass("segmentedsectionactive")){e()}else{$(this).addClass("segmentedsectionactive");$("#"+f+" .af-color").show()}});$("#"+f+" .af-color a").click(function(){var k=$(this).html();var j=$(this).attr("rel");$("#"+f+" .af-color a").removeClass("selected");$(this).addClass("selected");e(k,j)});$(document).mouseup(function(k){var j=$("#"+f);if(!j.is(k.target)&&j.has(k.target).length===0&&$("#"+f+" .segmentedsection").hasClass("segmentedsectionactive")){e()}});function e(k,j){if(k!=null&&k!=""){$("#"+f+" .segtext").html(k);$("#InColor").val(k)}if(j!=null&&j!=""){$("#"+d).val(j)}$("#"+f+" .segmentedsection").removeClass("segmentedsectionactive");$("#"+f+" .af-color").hide()}})};var HasState=function(itemValue,bitValue){bitValue=eval(bitValue);itemValue=eval(itemValue);bitValue=parseInt(bitValue).toString(2);itemValue=parseInt(itemValue).toString(2);return CheckBit(bitValue,itemValue)};var CheckBit=function(b,a){if(a.length>0){for(var d=a.length-1;d>=0;d--){if(a[d]=="1"){var c=b.length-a.length+d;if(c>=0&&b.length>c&&b[c]=="1"){return true}else{return false}}}}return true};var FormatText=function(a){return a.replaceAll("<span>","").replaceAll("</span>","").replaceAll('<span class="gray">',"")};$.fn.combogridmake=function(initValueMake,initTextMake,initShortMake,datawidth,isGetAll,type,className,relName,isDisableModify,functionOnChange){this.each(function(){var objId=$(this).attr("id");var url="/Make/JsonAllMake";if(initTextMake==""){initTextMake="Chọn"}$.ajax({type:"POST",cache:false,url:url,success:function(data){if(data!=null){var htmlbefore='<input id="MakeID" type="hidden" name="MakeID" class="'+className+'" rel="'+relName+'" value="'+initValueMake+'">';htmlbefore+='<input id="ShortMakeName" type="hidden" name="ShortMakeName" value="'+initShortMake+'">';htmlbefore+='<input id="MakeName" type="hidden" name="MakeName" value="'+initTextMake+'">';htmlbefore+='<div style="width:'+datawidth+'px" class="dvcombo"><span class="combotext" style="width:'+eval(datawidth-28)+'px">'+initTextMake+'</span><span class="dartdown"></span></div>';var htmlafter='<div class="makecombogridcontainer combogridcontainer" style="display:none;width:320px;" >';htmlafter+='    <div id="combogridcontainer_col1" class="combogridcontainer_col"></div>';htmlafter+='    <div id="combogridcontainer_col2" class="combogridcontainer_col"></div>';htmlafter+='    <div id="combogridcontainerexpand" style="display:none">';htmlafter+='        <div id="combogridcontainer_col3" class="combogridcontainer_col"></div>';htmlafter+='        <div id="combogridcontainer_col4" class="combogridcontainer_col"></div>';htmlafter+='        <div id="combogridcontainer_col5" class="combogridcontainer_col"></div>';htmlafter+='        <div id="combogridcontainer_col6" class="combogridcontainer_col"></div>';htmlafter+='        <div id="combogridcontainer_col7" class="combogridcontainer_col"></div>';htmlafter+="    </div>";htmlafter+="</div>";$("#"+objId).html(htmlbefore);$("body").append(htmlafter);var htmlcol1='    <div class="combogridcontainer_item"><a href="javascript:void(0)" rel="0" data-title="" >Tất cả</a></div>';var htmlcol2="";var htmlcol3="";var htmlcol4="";var htmlcol5="";var htmlcol6="";var htmlcol7="";var isExpand=false;for(var i=0;i<data.length;i++){var htmlSelected="";if(initValueMake==data[i].MakeID){htmlSelected='class="selected"';$("#MakeName").val(data[i].MakeName);$("#ShortMakeName").val(data[i].ShortMakeName);$("#"+objId+" .combotext").html(data[i].MakeName);if(i>=24){isExpand=true}}var htmlItem='    <div class="combogridcontainer_item"><a '+htmlSelected+' href="javascript:void(0)" data-title="'+data[i].ShortMakeName+'" rel="'+data[i].MakeID+'" >'+data[i].MakeName+"</a></div>";if(i<14){htmlcol1+=htmlItem}else{if(i<24){htmlcol2+=htmlItem}else{if(i>=24&&i<41){htmlcol3+=htmlItem}else{if(i>=41&&i<58){htmlcol4+=htmlItem}else{if(i>=58&&i<75){htmlcol5+=htmlItem}else{if(i>=75&&i<92){htmlcol6+=htmlItem}else{if(i>=92&&i<data.length){htmlcol7+=htmlItem}}}}}}}}htmlcol2+='    <div class="combogridcontainer_item special"><a href="javascript:void(0)" id="expandColumn">Hãng xe khác &#187;</a></div>';$(".makecombogridcontainer #combogridcontainer_col1").append(htmlcol1);$(".makecombogridcontainer #combogridcontainer_col2").append(htmlcol2);$(".makecombogridcontainer #combogridcontainer_col3").append(htmlcol3);$(".makecombogridcontainer #combogridcontainer_col4").append(htmlcol4);$(".makecombogridcontainer #combogridcontainer_col5").append(htmlcol5);$(".makecombogridcontainer #combogridcontainer_col6").append(htmlcol6);htmlcol7+='    <div class="combogridcontainer_item special"><a href="javascript:void(0)" id="colapeColumn">&#171; Thu gọn</a></div>';$(".makecombogridcontainer #combogridcontainer_col7").append(htmlcol7);if(isExpand){$("#expandColumn").hide();$(".makecombogridcontainer").css("width",1050);$("#combogridcontainerexpand").show()}var finishcombomake=function(text,value,shortname){if(value==0){$("#"+objId+" .combotext").html("Hãng xe")}if(value!=0&&text!=null&&text!=""){$("#"+objId+" .combotext").html(FormatText(text));$("#MakeName").val(FormatText(text))}if(value!=null&&value!=""){$("#MakeID").val(value)}if(shortname!=null){$("#ShortMakeName").val(shortname)}$("#"+objId+" .dvcombo").removeClass("segmentedsectionactive");$(".makecombogridcontainer").hide();if(functionOnChange!=null){functionOnChange()}};$(document).mouseup(function(e){if(e.target.id=="expandColumn"){return}if(e.target.id=="colapeColumn"){return}var container=$("#"+objId);if(!container.is(e.target)&&container.has(e.target).length===0&&$("#"+objId+" .dvcombo").hasClass("segmentedsectionactive")){finishcombomake()}});$("#"+objId+" .dvcombo").click(function(){if(isDisableModify){return}if($(this).hasClass("segmentedsectionactive")){finishcombomake()}else{$(this).addClass("segmentedsectionactive");$(".makecombogridcontainer").show();$(".makecombogridcontainer").css("top",$(this).offset().top+29);if(type==1||type==3||type==4||6){$(".makecombogridcontainer").css("left",$(this).offset().left)}else{if(type==2&&$("#combogridcontainerexpand").css("display")=="none"){$(".makecombogridcontainer").css("left",$(this).offset().left-199)}else{if(type==2&&$("#combogridcontainerexpand").css("display")!="none"){$(".makecombogridcontainer").css("left",$(this).offset().left-776)}else{if(type==5&&$("#combogridcontainerexpand").css("display")=="none"){$(".makecombogridcontainer").css("left",$(this).offset().left-48)}}}}}});$(".makecombogridcontainer a").click(function(){if($(this).attr("id")=="expandColumn"){return}if($(this).attr("id")=="colapeColumn"){return}var text=$(this).html();var value=$(this).attr("rel");var shortname=$(this).attr("data-title");$(".makecombogridcontainer a").removeClass("selected");$(this).addClass("selected");if(value>0){$("#ModelSearch").combogridmodel(value,"0","Dòng xe","",datawidth,isGetAll,type,"cb_required","Dòng xe",isDisableModify,functionOnChange)}else{$("#ModelSearch").combogridmodel(0,"0","Dòng xe","",datawidth,isGetAll,type,"cb_required","Dòng xe",isDisableModify,functionOnChange)}finishcombomake(text,value,shortname)});$("#expandColumn").click(function(){$("#expandColumn").hide();$(".makecombogridcontainer").css("width",1050);$("#combogridcontainerexpand").show();if(type==2){$(".makecombogridcontainer").css("left",$(".makecombogridcontainer").offset().left-577)}else{if(type==5){$(".makecombogridcontainer").css("left",$(".makecombogridcontainer").offset().left-730)}else{if(type==6){$(".makecombogridcontainer").css("left",$(".makecombogridcontainer").offset().left-200)}}}});$("#colapeColumn").click(function(){$("#expandColumn").show();$(".makecombogridcontainer").css("width",320);$("#combogridcontainerexpand").hide();if(type==2){$(".makecombogridcontainer").css("left",$("#"+objId+" .dvcombo").offset().left-199)}else{if(type==5){$(".makecombogridcontainer").css("left",$("#"+objId+" .dvcombo").offset().left-48)}else{if(type==6){$(".makecombogridcontainer").css("left",$(".makecombogridcontainer").offset().left+200)}}}})}}})})};$.fn.combogridmodel=function(initValueMake,initValueModel,initTextModel,initShortModel,datawidth,isGetAll,type,className,relName,isDisableModify,functionOnChange){if(initTextModel==""){initTextModel="Chọn"}var objId=$(this).attr("id");var url="/model/jsonallmodels/"+eval(initValueMake);$.getJSON(url,function(data){var htmlbefore='<input id="ModelID" type="hidden" name="ModelID" class="'+className+'" rel="'+relName+'" value="'+initValueModel+'">';htmlbefore+='<input id="ShortModelName" type="hidden" name="ShortModelName" value="'+initShortModel+'">';htmlbefore+='<input id="ModelName" type="hidden" name="ModelName" value="'+initTextModel+'">';htmlbefore+='<div style="width:'+datawidth+'px" class="dvcombo"><span class="combotext" style="width:'+eval(datawidth-28)+'px">'+initTextModel+'</span><span class="dartdown"></span></div>';var htmlafter="";if(type==1||type==3){htmlafter+='<div class="modelcombogridcontainer combogridcontainer" style="display:none;width:149px;" >'}else{if(type==2||type==4||type==5){htmlafter+='<div class="modelcombogridcontainer combogridcontainer" style="display:none;width:121px;" >'}else{htmlafter+='<div class="modelcombogridcontainer combogridcontainer" style="display:none;width:121px;" >'}}htmlafter+='    <div id="combogridcontainer_col1" class="combogridcontainer_col"></div>';htmlafter+='    <div id="combogridcontainer_col2" class="combogridcontainer_col"></div>';htmlafter+='    <div id="combogridcontainer_col3" class="combogridcontainer_col"></div>';htmlafter+='    <div id="combogridcontainer_col4" class="combogridcontainer_col"></div>';htmlafter+='    <div id="combogridcontainer_col5" class="combogridcontainer_col"></div>';htmlafter+='    <div id="combogridcontainer_col6" class="combogridcontainer_col"></div>';htmlafter+='    <div id="combogridcontainer_col7" class="combogridcontainer_col"></div>';htmlafter+="</div>";$("#"+objId).html(htmlbefore);$(".modelcombogridcontainer").remove();$("body").append(htmlafter);var htmlcol1='    <div class="combogridcontainer_item"><a href="javascript:void(0)" data-title="" rel="'+0+'" >Tất cả</a></div>';var htmlcol2="";var htmlcol3="";var htmlcol4="";var htmlcol5="";var htmlcol6="";var htmlcol7="";for(var i=0;i<data.length;i++){var htmlSelected="";if(initValueModel==data[i].ModelID){htmlSelected='class="selected"';$("#ModelName").val(FormatText(data[i].ModelName));$("#ShortModelName").val(data[i].ShortModelName);$("#"+objId+" .combotext").html(FormatText(data[i].ModelName))}var htmlItem='     <div class="combogridcontainer_item"><a href="javascript:void(0)" '+htmlSelected+' data-title="'+data[i].ShortModelName+'" rel="'+data[i].ModelID+'" >'+data[i].ModelName+"</a></div>";if(i<14){htmlcol1+=htmlItem}else{if(i<29){htmlcol2+=htmlItem}else{if(i>=29&&i<44){htmlcol3+=htmlItem}else{if(i>=44&&i<59){htmlcol4+=htmlItem}else{if(i>=59&&i<74){htmlcol5+=htmlItem}else{if(i>=74&&i<89){htmlcol6+=htmlItem}else{if(i>=89&&i<104){htmlcol7+=htmlItem}}}}}}}}$(".modelcombogridcontainer #combogridcontainer_col1").append(htmlcol1);if(htmlcol2!=""){$(".modelcombogridcontainer").css("width",300);$(".modelcombogridcontainer #combogridcontainer_col2").append(htmlcol2)}if(htmlcol3!=""){$(".modelcombogridcontainer").css("width",450);$(".modelcombogridcontainer #combogridcontainer_col3").append(htmlcol3)}if(htmlcol4!=""){$(".modelcombogridcontainer").css("width",600);$(".modelcombogridcontainer #combogridcontainer_col4").append(htmlcol4)}if(htmlcol5!=""){$(".modelcombogridcontainer").css("width",750);$(".modelcombogridcontainer #combogridcontainer_col5").append(htmlcol5)}if(htmlcol6!=""){$(".modelcombogridcontainer").css("width",900);$(".modelcombogridcontainer #combogridcontainer_col6").append(htmlcol6)}if(htmlcol7!=""){$(".modelcombogridcontainer").css("width",1050);$(".modelcombogridcontainer #combogridcontainer_col7").append(htmlcol7)}$("#"+objId+" .dvcombo").click(function(){if(initValueMake>0){if(isDisableModify){return}if($(this).hasClass("segmentedsectionactive")){finishmodel()}else{$(this).addClass("segmentedsectionactive");$(".modelcombogridcontainer").show();$(".modelcombogridcontainer").css("top",$(this).offset().top+29);if(type==1){$(".modelcombogridcontainer").css("left",$(this).offset().left)}else{if((type==3||type==6)&&$(".modelcombogridcontainer #combogridcontainer_col5").html().length==0){$(".modelcombogridcontainer").css("left",$(this).offset().left)}else{if((type==3||type==6)&&$(".modelcombogridcontainer #combogridcontainer_col5").html().length>0){var leftindex=$(this).offset().left-eval($(".modelcombogridcontainer").css("width").replace("px",""))+588;$(".modelcombogridcontainer").css("left",leftindex)}}}if(type==2){var leftindex=$(this).offset().left-eval($(".modelcombogridcontainer").css("width").replace("px",""))+121;$(".modelcombogridcontainer").css("left",leftindex)}if(type==4){var element=$(".modelcombogridcontainer");var screenWidth=window.screen.width;var elementWidth=element.width();var comboLeft=$(this).offset().left;var left=comboLeft;if(screenWidth-comboLeft<elementWidth){left=comboLeft-Math.abs(screenWidth-elementWidth-comboLeft-50)}element.css("left",left)}if(type==5){var leftindex=$(this).offset().left-eval($(".modelcombogridcontainer").css("width").replace("px",""))+272;$(".modelcombogridcontainer").css("left",leftindex)}}}else{alert("Bạn phải chọn hãng xe!");return}});$(".modelcombogridcontainer a").click(function(){var text=$(this).html();var value=$(this).attr("rel");var shortmodelname=$(this).attr("data-title");$(".modelcombogridcontainer a").removeClass("selected");$(this).addClass("selected");finishmodel(text,value,shortmodelname)})});$(document).mouseup(function(e){var container=$("#"+objId);if(!container.is(e.target)&&container.has(e.target).length===0&&$("#"+objId+" .dvcombo").hasClass("segmentedsectionactive")){finishmodel()}else{$(".mytooltipmodel").remove()}});var finishmodel=function(text,value,shortmodelname){if(value==0){$("#"+objId+" .combotext").html("Dòng xe")}if(value!=0&&text!=null&&text!=""){$("#"+objId+" .combotext").html(FormatText(text));$("#ModelName").val(FormatText(text))}if(value!=null&&value!=""){$("#ModelID").val(value)}if(shortmodelname!=null){$("#ShortModelName").val(shortmodelname)}$("#"+objId+" .dvcombo").removeClass("segmentedsectionactive");$(".modelcombogridcontainer").hide();if(functionOnChange!=null){functionOnChange()}}};$.fn.combogridcityfilter=function(data,initCityId,initShortName,initCityName,datawidth,type,className,relName,isUseArea,urlMB,urlMT,urlMN,urlTQ){this.each(function(){var objId=$(this).attr("id");if(initCityName==""){initCityName="Tỉnh / Thành phố"}if(data!=null){var htmlbefore='<div style="width:'+datawidth+'px" class="dvcombo"><span class="combotext" style="width:'+eval(datawidth-28)+'px">'+initCityName+'</span><span class="dartdown"></span></div>';var htmlafter='<div class="citycombogridcontainerfilter combogridcontainerfilter" style="display:none;width:450px;" >';htmlafter+='    <div id="combogridcontainer_col1" class="combogridcontainer_col"></div>';htmlafter+='    <div id="combogridcontainer_col2" class="combogridcontainer_col"></div>';htmlafter+='    <div id="combogridcontainer_col3" class="combogridcontainer_col"></div>';htmlafter+="</div>";$("#"+objId).html(htmlbefore);$("body").append(htmlafter);var htmlcol1="";if(isUseArea){htmlcol1+='    <div class="combogridcontainer_item_filter"><a href="'+urlTQ+'"><span>Toàn quốc</span></a></div> ';htmlcol1+='    <div class="combogridcontainer_item_filter"><a rel="10" data-title="mien-bac" href="'+urlMB+'"><span>Miền Bắc</span></a></div>'}else{htmlcol1+='    <div class="combogridcontainer_item_filter"><span>Miền Bắc</span></div>'}var htmlcol2="";if(isUseArea){htmlcol2+='<div class="combogridcontainer_item_filter"></div><div class="combogridcontainer_item_filter"><a rel="11" data-title="mien-trung" href="'+urlMT+'"><span>Miền Trung</span></a></div>'}else{htmlcol2+='    <div class="combogridcontainer_item_filter"><span>Miền Trung</span></div>'}var htmlcol3="";if(isUseArea){htmlcol3+=' <div class="combogridcontainer_item_filter"></div><div class="combogridcontainer_item_filter"><a  rel="12" data-title="mien-nam" href="'+urlMN+'"><span>Miền Nam</span></a></div>'}else{htmlcol3+='    <div class="combogridcontainer_item_filter"><span>Miền Nam</span></div>'}var dataCity=data[0].jsonMBData;for(var i=0;i<dataCity.length;i++){var htmlSelected="";if(initCityId==dataCity[i].Value){htmlSelected='class="selected"';$("#CityName").val(dataCity[i].Text);$("#ShortCityName").val(dataCity[i].ShortName);$("#"+objId+" .combotext").html(dataCity[i].Text)}var htmlItem='    <div class="combogridcontainer_item_filter"><a '+htmlSelected+' href="'+dataCity[i].Link+'" data-title="'+dataCity[i].ShortName+'" rel="'+dataCity[i].Value+'" >'+dataCity[i].Text+"</a></div>";htmlcol1+=htmlItem}dataCity=data[1].jsonMTData;for(var i=0;i<dataCity.length;i++){var htmlSelected=initCityId==dataCity[i].Value?'class="selected"':"";var htmlItem='    <div class="combogridcontainer_item_filter"><a '+htmlSelected+' href="'+dataCity[i].Link+'"  data-title="'+dataCity[i].ShortName+'" rel="'+dataCity[i].Value+'" >'+dataCity[i].Text+"</a></div>";htmlcol2+=htmlItem}dataCity=data[2].jsonMNData;for(var i=0;i<dataCity.length;i++){var htmlSelected=initCityId==dataCity[i].Value?'class="selected"':"";var htmlItem='    <div class="combogridcontainer_item_filter"><a '+htmlSelected+' href="'+dataCity[i].Link+'"  data-title="'+dataCity[i].ShortName+'" rel="'+dataCity[i].Value+'" >'+dataCity[i].Text+"</a></div>";htmlcol3+=htmlItem}$(".citycombogridcontainerfilter #combogridcontainer_col1").append(htmlcol1);$(".citycombogridcontainerfilter #combogridcontainer_col2").append(htmlcol2);$(".citycombogridcontainerfilter #combogridcontainer_col3").append(htmlcol3);var finishcombocity=function(text,value,shortname){if(text!=null&&text!=""){$("#"+objId+" .combotext").html(text);$("#CityName").val(text)}if(value!=null&&value!=""){$("#CityID").val(value)}if(shortname!=null&&shortname!=""){$("#ShortCityName").val(shortname)}$("#"+objId+" .dvcombo").removeClass("segmentedsectionactive");$(".citycombogridcontainerfilter").hide()};$(document).mouseup(function(e){var container=$("#"+objId);if(!container.is(e.target)&&container.has(e.target).length===0&&$("#"+objId+" .dvcombo").hasClass("segmentedsectionactive")){finishcombocity()}});$("#"+objId+" .dvcombo").click(function(){if($(this).hasClass("segmentedsectionactive")){finishcombocity()}else{$(this).addClass("segmentedsectionactive");$(".citycombogridcontainerfilter").show();$(".citycombogridcontainerfilter").css("top",$(this).offset().top+29);var leftindex=$(this).offset().left-eval($(".citycombogridcontainerfilter").css("width").replace("px",""))+150;$(".citycombogridcontainerfilter").css("left",leftindex)}})}})};$.fn.combogridcity=function(data,initCityId,initShortName,initCityName,datawidth,type,className,relName,isUseArea,functionOnChange){this.each(function(){var objId=$(this).attr("id");if(initCityName==""){initCityName="Tỉnh / Thành phố"}if(data!=null){var htmlbefore='<input id="CityID" type="hidden" name="CityID" class="targetObj '+className+'" rel="'+relName+'" value="'+initCityId+'">';htmlbefore+='<input id="ShortCityName" type="hidden" name="ShortCityName" value="'+initShortName+'">';htmlbefore+='<input id="CityName" type="hidden" name="CityName" value="'+initCityName+'">';htmlbefore+='<div style="width:'+datawidth+'px" class="dvcombo"><span class="combotext" style="width:'+eval(datawidth-28)+'px">'+initCityName+'</span><span class="dartdown"></span></div>';var htmlafter='<div class="citycombogridcontainer combogridcontainer" style="display:none;width:450px;" >';htmlafter+='    <div id="combogridcontainer_col1" class="combogridcontainer_col"></div>';htmlafter+='    <div id="combogridcontainer_col2" class="combogridcontainer_col"></div>';htmlafter+='    <div id="combogridcontainer_col3" class="combogridcontainer_col"></div>';htmlafter+="</div>";$("#"+objId).html(htmlbefore);$("body").append(htmlafter);var htmlcol1="";if(isUseArea){htmlcol1+='    <div class="combogridcontainer_item"><a href="javascript:void(0)" rel="10" data-title="mien-bac"><span>Miền Bắc</span></a></div>'}else{htmlcol1+='    <div class="combogridcontainer_item"><span>Miền Bắc</span></div>'}htmlcol1+='    <div class="combogridcontainer_item"><a href="javascript:void(0)" class="specialcity" rel="1" data-title="ha-noi">Hà Nội</a></div>';htmlcol1+='    <div class="combogridcontainer_item"><a href="javascript:void(0)" class="specialcity" rel="92" data-title="hai-phong">Hải Phòng</a></div>';var htmlcol2="";if(isUseArea){htmlcol2+='    <div class="combogridcontainer_item"><a href="javascript:void(0)" rel="11" data-title="mien-trung"><span>Miền Trung</span></a></div>'}else{htmlcol2+='    <div class="combogridcontainer_item"><span>Miền Trung</span></div>'}htmlcol2+='    <div class="combogridcontainer_item"><a href="javascript:void(0)" class="specialcity" rel="3" data-title="da-nang">Đà Nẵng</a></div>';htmlcol2+='    <div class="combogridcontainer_item"><a href="javascript:void(0)" class="specialcity" rel="123" data-title="thua-thien-hue">Thừa Thiên Huế</a></div>';htmlcol2+='    <div class="combogridcontainer_item"><a href="javascript:void(0)" class="specialcity" rel="96" data-title="khanh-hoa">Khánh Hòa</a></div>';htmlcol2+='    <div class="combogridcontainer_item"><a href="javascript:void(0)" class="specialcity" rel="101" data-title="lam-dong">Lâm Đồng</a></div>';var htmlcol3="";if(isUseArea){htmlcol3+='    <div class="combogridcontainer_item"><a href="javascript:void(0)" rel="12" data-title="mien-nam"><span>Miền Nam</span></a></div>'}else{htmlcol3+='    <div class="combogridcontainer_item"><span>Miền Nam</span></div>'}htmlcol3+='    <div class="combogridcontainer_item"><a href="javascript:void(0)" class="specialcity" rel="2" data-title="hcm">Tp.HCM</a></div>';htmlcol3+='    <div class="combogridcontainer_item"><a href="javascript:void(0)" class="specialcity" rel="66" data-title="binh-duong">Bình Dương</a></div>';htmlcol3+='    <div class="combogridcontainer_item"><a href="javascript:void(0)" class="specialcity" rel="127" data-title="ba-ria-vung-tau">Bà Rịa Vũng Tàu</a></div>';htmlcol3+='    <div class="combogridcontainer_item"><a href="javascript:void(0)" class="specialcity" rel="78" data-title="can-tho">Cần Thơ</a></div>';var dataCity=data[0].jsonMBData;if(initCityId==1){$("#CityName").val("Hà Nội");$("#ShortCityName").val("ha-noi");$("#"+objId+" .combotext").html("Hà Nội")}else{if(initCityId==92){$("#CityName").val("Hải Phòng");$("#ShortCityName").val("hai-phong");$("#"+objId+" .combotext").html("Hải Phòng")}else{if(initCityId==3){$("#CityName").val("Đà Nẵng");$("#ShortCityName").val("da-nang");$("#"+objId+" .combotext").html("Đà Nẵng")}else{if(initCityId==123){$("#CityName").val("Thừa Thiên Huế");$("#ShortCityName").val("thua-thien-hue");$("#"+objId+" .combotext").html("Thừa Thiên Huế")}else{if(initCityId==96){$("#CityName").val("Khánh Hòa");$("#ShortCityName").val("khanh-hoa");$("#"+objId+" .combotext").html("Khánh Hòa")}else{if(initCityId==101){$("#CityName").val("Lâm Đồng");$("#ShortCityName").val("lam-dong");$("#"+objId+" .combotext").html("Lâm Đồng")}else{if(initCityId==2){$("#CityName").val("Tp.HCM");$("#ShortCityName").val("hcm");$("#"+objId+" .combotext").html("Tp.HCM")}else{if(initCityId==66){$("#CityName").val("Bình Dương");$("#ShortCityName").val("binh-duong");$("#"+objId+" .combotext").html("Bình Dương")}else{if(initCityId==127){$("#CityName").val("Bà Rịa Vũng Tàu");$("#ShortCityName").val("ba-ria-vung-tau");$("#"+objId+" .combotext").html("Bà Rịa Vũng Tàu")}else{if(initCityId==78){$("#CityName").val("Cần Thơ");$("#ShortCityName").val("can-tho");$("#"+objId+" .combotext").html("Cần Thơ")}}}}}}}}}}for(var i=0;i<dataCity.length;i++){var htmlSelected="";if(initCityId==dataCity[i].Value){htmlSelected='class="selected"';$("#CityName").val(dataCity[i].Text);$("#ShortCityName").val(dataCity[i].ShortName);$("#"+objId+" .combotext").html(dataCity[i].Text)}var htmlItem='    <div class="combogridcontainer_item"><a '+htmlSelected+' href="javascript:void(0)" data-title="'+dataCity[i].ShortName+'" rel="'+dataCity[i].Value+'" >'+dataCity[i].Text+"</a></div>";htmlcol1+=htmlItem}dataCity=data[1].jsonMTData;for(var i=0;i<dataCity.length;i++){var htmlSelected="";if(initCityId==dataCity[i].Value){htmlSelected='class="selected"';$("#CityName").val(dataCity[i].Text);$("#ShortCityName").val(dataCity[i].ShortName);$("#"+objId+" .combotext").html(dataCity[i].Text)}var htmlItem='    <div class="combogridcontainer_item"><a '+htmlSelected+' href="javascript:void(0)" data-title="'+dataCity[i].ShortName+'" rel="'+dataCity[i].Value+'" >'+dataCity[i].Text+"</a></div>";htmlcol2+=htmlItem}dataCity=data[2].jsonMNData;for(var i=0;i<dataCity.length;i++){var htmlSelected="";if(initCityId==dataCity[i].Value){htmlSelected='class="selected"';$("#CityName").val(dataCity[i].Text);$("#ShortCityName").val(dataCity[i].ShortName);$("#"+objId+" .combotext").html(dataCity[i].Text)}var htmlItem='    <div class="combogridcontainer_item"><a '+htmlSelected+' href="javascript:void(0)" data-title="'+dataCity[i].ShortName+'" rel="'+dataCity[i].Value+'" >'+dataCity[i].Text+"</a></div>";htmlcol3+=htmlItem}$(".citycombogridcontainer #combogridcontainer_col1").append(htmlcol1);$(".citycombogridcontainer #combogridcontainer_col2").append(htmlcol2);$(".citycombogridcontainer #combogridcontainer_col3").append(htmlcol3);var finishcombocity=function(text,value,shortname){if(text!=null&&text!=""){$("#"+objId+" .combotext").html(text);$("#CityName").val(text)}if(value!=null&&value!=""){$("#CityID").val(value)}if(shortname!=null&&shortname!=""){$("#ShortCityName").val(shortname)}$("#"+objId+" .dvcombo").removeClass("segmentedsectionactive");$(".citycombogridcontainer").hide();if(functionOnChange!=null){functionOnChange()}};$(document).mouseup(function(e){var container=$("#"+objId);if(!container.is(e.target)&&container.has(e.target).length===0&&$("#"+objId+" .dvcombo").hasClass("segmentedsectionactive")){finishcombocity()}});$("#"+objId+" .dvcombo").click(function(){if($(this).hasClass("segmentedsectionactive")){finishcombocity()}else{$(this).addClass("segmentedsectionactive");$(".citycombogridcontainer").show();$(".citycombogridcontainer").css("top",$(this).offset().top+29);if(type==1||type==3){$(".citycombogridcontainer").css("left",$(this).offset().left)}else{if(type==2){var leftindex=$(this).offset().left-eval($(".citycombogridcontainer").css("width").replace("px",""))+121;$(".citycombogridcontainer").css("left",leftindex)}}}});$(".citycombogridcontainer a").click(function(){var text=$(this).html();var value=$(this).attr("rel");var shortname=$(this).attr("data-title");$(".citycombogridcontainer a").removeClass("selected");$(this).addClass("selected");finishcombocity(text,value,shortname)})}})};$.fn.combogridyear=function(initMinValue,initMaxValue,initText,datawidth,type){this.each(function(){var objId=$(this).attr("id");var htmlbefore='<div style="width:'+datawidth+'px" class="dvcombo"><span class="combotext" style="width:'+eval(datawidth-28)+'px">'+initText+'</span><span class="dartdown"></span></div>';$("#"+objId).html(htmlbefore);if(initMinValue==minvalueyear&&initMaxValue==maxvalueyear){initMinValue="";initMaxValue=""}var htmlafter="";if(type==1){htmlafter+='<div class="yearcombogridcontainer combogridcontainer" style="display:none;width:149px;" >'}else{if(type==2){htmlafter+='<div class="yearcombogridcontainer combogridcontainer" style="display:none;width:121px;" >'}}var inputWidth="";if(type==2){inputWidth=";width: 38px"}htmlafter+='    <div class="dualbox" >';htmlafter+='        <input type="text" id="minyear" maxlength="4" style="margin-right: 5px'+inputWidth+'" class="yearOnly" placeholder="Từ" value="'+initMinValue+'">';htmlafter+='        <input type="text" id="maxyear" maxlength="4" style="text-align: right'+inputWidth+'" class="yearOnly" placeholder="Đến" value="'+initMaxValue+'">';htmlafter+="    </div>";var colwidth="";if(type==2){colwidth=' style="width: 121px !important"'}htmlafter+='    <div id="combogridcontainer_col1" class="combogridcontainer_col" '+colwidth+">";var htmlSelected=(initMinValue==minvalueyear&&initMaxValue==1992)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"'+colwidth+'><a href="javascript:void(0)" '+htmlSelected+' data-title="'+minvalueyear+'" rel="1992" >Trước 1992</a></div>';htmlSelected=(initMinValue==1992&&initMaxValue==2000)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"'+colwidth+'><a href="javascript:void(0)" '+htmlSelected+' data-title="1992" rel="2000" >1992 - 2000</a></div>';htmlSelected=(initMinValue==2001&&initMaxValue==2005)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"'+colwidth+'><a href="javascript:void(0)" '+htmlSelected+' data-title="2001" rel="2005" >2001 - 2005</a></div>';htmlSelected=(initMinValue==2006&&initMaxValue==2010)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"'+colwidth+'><a href="javascript:void(0)" '+htmlSelected+' data-title="2006" rel="2010" >2006 - 2010</a></div>';htmlSelected=(initMinValue==2011&&initMaxValue==maxvalueyear)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"'+colwidth+'><a href="javascript:void(0)" '+htmlSelected+' data-title="2011" rel="'+maxvalueyear+'" >2011 tới nay</a></div>';htmlafter+="    </div>";htmlafter+="</div>";$("body").append(htmlafter);jQuery(".yearOnly").keyup(function(){$(this).val($(this).val().replace(/[^0-9]/g,""))});$(document).mouseup(function(e){if(e.target.id=="minyear"){return}if(e.target.id=="maxyear"){return}var container=$("#"+objId);if(!container.is(e.target)&&container.has(e.target).length===0&&$("#"+objId+" .dvcombo").hasClass("segmentedsectionactive")){finishyear()}});$("#"+objId+" .dvcombo").click(function(){if($(this).hasClass("segmentedsectionactive")){finishyear()}else{$(this).addClass("segmentedsectionactive");$(".yearcombogridcontainer").show();$(".yearcombogridcontainer").css("top",$(this).offset().top+29);$(".yearcombogridcontainer").css("left",$(this).offset().left)}});$("#minyear").focus(function(){$(this).val("");$(this).addClass("active");$("#maxyear").removeClass("active")});$("#maxyear").focus(function(){$(this).val("");$(this).addClass("active");$("#minyear").removeClass("active")});$(".yearcombogridcontainer a").click(function(){$("#minyear").val($(this).attr("data-title"));$("#maxyear").val($(this).attr("rel"));$(".yearcombogridcontainer a").removeClass("selected");$(this).addClass("selected");finishyear()});var finishyear=function(){var minval,maxval;minval=$("#minyear").val();if(minval==0||minval==""||minval=="Từ"){minval=minvalueyear}maxval=$("#maxyear").val();if(maxval==0||maxval==""||maxval=="Đến"){maxval=maxvalueyear}if(minval<1990||minval>maxvalueyear){minval=minvalueyear;$("#minyear").val(minvalueyear)}if(maxval<1990||maxval>=maxvalueyear){maxval=maxvalueyear;$("#maxyear").val(maxvalueyear)}if(minval==minvalueyear&&maxval==maxvalueyear){$("#minyear").val("");$("#maxyear").val("")}if(minval==minvalueyear&&maxval==maxvalueyear){$("#"+objId+" .combotext").html(initText)}else{if(minval==minvalueyear&&maxval!=maxvalueyear){$("#"+objId+" .combotext").html("Trước năm "+maxval)}else{if(minval!=minvalueyear&&maxval==maxvalueyear){$("#"+objId+" .combotext").html("Sau năm "+minval)}else{$("#"+objId+" .combotext").html(minval+" - "+maxval)}}}$("#"+objId+" .dvcombo").removeClass("segmentedsectionactive");$(".yearcombogridcontainer").hide()};$("#maxyear").keypress(function(e){if(e.which==13){finishyear()}});$("#minyear").keypress(function(e){if(e.which==13){$("#maxyear").focus()}})})};$.fn.combogridprice=function(initMinValue,initMaxValue,datawidth,type){var getpricename=function(minval,maxval){if(minval==minvalueprice&&maxval==maxvalueprice){return"Giá"}else{if(minval==minvalueprice&&maxval!=maxvalueprice){return"Dưới "+GetMoneyText2(maxval*1000000)}else{if(minval!=minvalueprice&&maxval==maxvalueprice){return"Trên "+GetMoneyText2(minval*1000000)}else{return GetMoneyText2(minval*1000000)+" - "+GetMoneyText2(maxval*1000000)}}}};this.each(function(){var objId=$(this).attr("id");var htmlbefore='<div style="width:'+datawidth+'px" class="dvcombo"><span class="combotext" style="width:'+eval(datawidth-28)+'px">'+getpricename(initMinValue,initMaxValue)+'</span><span class="dartdown"></span></div>';$("#"+objId).html(htmlbefore);if(initMinValue==minvalueprice&&initMaxValue==maxvalueprice){initMinValue="";initMaxValue=""}var htmlafter="";if(type==1){htmlafter+='<div class="pricecombogridcontainer combogridcontainer" style="display:none;width:149px;" >'}else{if(type==2){htmlafter+='<div class="pricecombogridcontainer combogridcontainer" style="display:none;width:121px;" >'}}var inputWidth="";if(type==2){inputWidth=";width: 38px"}htmlafter+='    <div class="dualbox" >';htmlafter+='        <input type="text" id="minprice" maxlength="5" style="margin-right: 5px'+inputWidth+'" class="priceOnly" placeholder="Từ" value="'+initMinValue+'">';htmlafter+='        <input type="text" id="maxprice" maxlength="5" style="text-align: right'+inputWidth+'" class="priceOnly" placeholder="Đến" value="'+initMaxValue+'">';htmlafter+="    </div>";var colwidth="";if(type==2){colwidth=' style="width: 52px !important"'}htmlafter+='    <div id="combogridcontainer_col1" class="combogridcontainer_col" '+colwidth+">";var htmlSelected=(initMinValue==0)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkprice" href="javascript:void(0)" '+htmlSelected+' rel="0" >0 triệu</a></div>';htmlSelected=(initMinValue==50)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkprice" href="javascript:void(0)" '+htmlSelected+' rel="50" >50 triệu</a></div>';htmlSelected=(initMinValue==100)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkprice" href="javascript:void(0)" '+htmlSelected+' rel="100" >100 triệu</a></div>';htmlSelected=(initMinValue==150)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkprice" href="javascript:void(0)" '+htmlSelected+' rel="150" >150 triệu</a></div>';htmlSelected=(initMinValue==200)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkprice" href="javascript:void(0)" '+htmlSelected+' rel="200" >200 triệu</a></div>';for(var index=3;index<=9;index++){var p=index*100;htmlSelected=(initMinValue==p)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkprice" href="javascript:void(0)" '+htmlSelected+' rel="'+p+'" >'+p+" triệu</a></div>"}htmlSelected=(initMinValue==1000)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkprice" href="javascript:void(0)" '+htmlSelected+' rel="1000" >1 tỉ</a></div>';htmlafter+="    </div>";htmlafter+='    <div id="combogridcontainer_col2" class="combogridcontainer_col" '+colwidth+">";htmlSelected=(initMinValue==50)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkpricecolright" href="javascript:void(0)" '+htmlSelected+' rel="50" >50 triệu</a></div>';htmlSelected=(initMinValue==100)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkpricecolright" href="javascript:void(0)" '+htmlSelected+' rel="100" >100 triệu</a></div>';htmlSelected=(initMinValue==150)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkpricecolright" href="javascript:void(0)" '+htmlSelected+' rel="150" >150 triệu</a></div>';htmlSelected=(initMinValue==200)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkpricecolright" href="javascript:void(0)" '+htmlSelected+' rel="200" >200 triệu</a></div>';for(var index=3;index<=9;index++){var p=index*100;htmlSelected=(initMinValue==p)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkpricecolright" href="javascript:void(0)" '+htmlSelected+' rel="'+p+'" >'+p+" triệu</a></div>"}htmlSelected=(initMinValue>1000)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkpricecolright" href="javascript:void(0)" '+htmlSelected+' rel="'+maxvalueprice+'" > &gt; 1 tỉ</a></div>';htmlafter+="    </div>";htmlafter+="</div>";$("body").append(htmlafter);jQuery(".priceOnly").keyup(function(){this.value=this.value.replace(/[^0-9]/g,"");var text;if(this.value==""){text="0"}else{var milionValue=eval($(this).val().replace(/\b0(\d+)\b/g,"$1"));text=milionValue}$(this).html(text)});$(document).mouseup(function(e){if(e.target.id=="minprice"){return}if(e.target.id=="maxprice"){return}if($(e.target).hasClass("linkprice")){return}if($(e.target).hasClass("linkpricecolright")){return}var container=$("#"+objId);if(!container.is(e.target)&&container.has(e.target).length===0&&$("#"+objId+" .dvcombo").hasClass("segmentedsectionactive")){finishprice()}});$("#"+objId+" .dvcombo").click(function(){if($(this).hasClass("segmentedsectionactive")){finishprice()}else{$(this).addClass("segmentedsectionactive");$(".pricecombogridcontainer").show();$(".pricecombogridcontainer").css("top",$(this).offset().top+29);$(".pricecombogridcontainer").css("left",$(this).offset().left)}});$("#minprice").focus(function(){$(this).val("");$(this).addClass("active");$("#maxprice").removeClass("active")});$("#maxprice").focus(function(){$(this).val("");$(this).addClass("active");$("#minprice").removeClass("active")});$(".pricecombogridcontainer a").click(function(){if($(this).hasClass("linkprice")){$("#minprice").val($(this).attr("rel"));$(".pricecombogridcontainer #combogridcontainer_col1 a").removeClass("selected");$(this).addClass("selected");$("#maxprice").focus()}else{$("#maxprice").val($(this).attr("rel"));$(".pricecombogridcontainer #combogridcontainer_col2 a").removeClass("selected");$(this).addClass("selected");finishprice()}});var finishprice=function(){var minval,maxval;minval=$("#minprice").val();if(minval==0||minval==""||minval=="Từ"){minval=minvalueprice}maxval=$("#maxprice").val();if(maxval==0||maxval==""||maxval=="Đến"){maxval=maxvalueprice}minval=eval(minval);maxval=eval(maxval);$("#"+objId+" .combotext").html(getpricename(minval,maxval));$("#"+objId+" .dvcombo").removeClass("segmentedsectionactive");$(".pricecombogridcontainer").hide()};$("#maxprice").keypress(function(e){if(e.which==13){finishprice()}});$("#minprice").keypress(function(e){if(e.which==13){$("#maxprice").focus()}})})};$.fn.selectoption=function(data,initValue,initText,datawidth,inputObjId,inputObjName,divContainerId,type,defaultText,className,relName,isMulti,isDisableModify,functionOnChange){this.each(function(){$("#"+divContainerId).remove();var objId=$(this).attr("id");$("#"+objId).html("");inputObjId=inputObjId.replace(".","\\.");inputObjName=inputObjName.replace(".","\\.");if(typeof initText=="undefined"||initText==""){initText=defaultText}var endhtml="";var htmlbefore='<input id="'+inputObjName.replace("\\","")+'" type="hidden" name="'+inputObjName.replace("\\","")+'" value="'+initText+'">';htmlbefore+='<input id="'+inputObjId.replace("\\","")+'" type="hidden" name="'+inputObjId.replace("\\","")+'" class="'+className+'" rel="'+relName+'" value="'+initValue+'">';htmlbefore+='<div style="width:'+datawidth+'px" class="dvcombo"><span class="combotext" style="width:'+eval(datawidth-28)+'px">'+initText+'</span><span class="dartdown"></span></div>';$("#"+objId).html(htmlbefore);var htmlafter="";if(type==1){htmlafter+='<div id="'+divContainerId+'" class="selectoptioncontainer" style="display:none;width:149px;padding:12px;" >'}else{if(type==2){htmlafter+='<div id="'+divContainerId+'" class="selectoptioncontainer" style="display:none;width:121px;padding:12px;" >'}else{if(type==3&&(inputObjId=="Drivetrain"||inputObjId=="ServiceType")){htmlafter+='<div id="'+divContainerId+'" class="selectoptioncontainer" style="display:none;width:214px;padding:12px;" >'}else{if(type==3){htmlafter+='<div id="'+divContainerId+'" class="selectoptioncontainer" style="display:none;width:'+eval(datawidth-24)+'px;padding:12px;" >'}else{if(type==4){htmlafter+='<div id="'+divContainerId+'" class="selectoptioncontainer" style="display:none;width:200px;padding:12px;" >'}else{if(type==5){htmlafter+='<div id="'+divContainerId+'" class="selectoptioncontainer" style="display:none;width:216px;padding:12px;" >'}}}}}}htmlafter+='    <a href="javascript:void(0)" class="selectoptioncontainer_closebutton"><img src="https://img1.banxehoi.com/Static/Images/selectoption_close.png" border="0"></a>';for(var index=0;index<data.length;index++){var htmlSelected="";if((type==4||type==3||type==5)&&eval(data[index].Value)==eval(initValue)){htmlSelected='class="selected"';$("#"+inputObjName).val(data[index].Text);$("#"+inputObjId).next().find(".combotext").html(data[index].Text)}else{if((type!=3&&type!=4&&HasState(data[index].Value,initValue))){htmlSelected='class="selected"';$("#"+inputObjName).val(data[index].Text);$("#"+inputObjId).next().find(".combotext").html(initText)}}var itemWidth=(type==3&&(inputObjId=="Drivetrain"||inputObjId=="ServiceType"))?'style="width: 210px;"':"";var selectone=isMulti?"":" optionbox";htmlafter+='    <div class="selectoptioncontainer_item'+selectone+'" '+itemWidth+"><a "+htmlSelected+' href="javascript:void(0)" data-title="'+data[index].Value+'" rel="'+data[index].Value+'" >'+data[index].Text+"</a></div>"}htmlafter+=endhtml;htmlafter+="</div>";$("body").append(htmlafter);var finishselectoption=function(){var thisvalue=0;var thistext="";$("#"+divContainerId+" .selectoptioncontainer_item").each(function(){if($(this).find("a").hasClass("selected")){thisvalue+=eval($(this).find("a").attr("rel"));thistext+=$(this).find("a").html()+", "}});if(thistext.length>0){thistext=thistext.substring(0,thistext.length-2)}else{thistext=defaultText}$("#"+inputObjId).val(thisvalue);if(thistext!=""){$("#"+inputObjId).next().find(".combotext").html(thistext);$("#"+inputObjName).val(thistext)}$("#"+objId+" .dvcombo").removeClass("segmentedsectionactive");$("#"+divContainerId).hide();if(className=="cb_required"){$("#SecondHandSearch").click()}if(functionOnChange!=null){functionOnChange()}};$("#"+divContainerId+" .selectoptioncontainer_closebutton").click(function(){finishselectoption()});$("#"+objId+" .dvcombo").click(function(){if(isDisableModify){return}if(data.length<=0){if(divContainerId=="MonthContainer"){alert("Bạn phải chọn năm.");return}else{if(divContainerId=="MakesContainer"){alert("Bạn phải chọn tháng năm.");return}}}if($(this).hasClass("segmentedsectionactive")){finishselectoption()}else{$(this).addClass("segmentedsectionactive");$("#"+divContainerId).show();$("#"+divContainerId).css("top",$(this).offset().top+29);$("#"+divContainerId).css("left",$(this).offset().left);$(document).mouseup(function(e){if($(e.target).parent().hasClass("selectoptioncontainer_item")){return}var container=$("#"+objId);if(!container.is(e.target)&&container.has(e.target).length===0&&$("#"+objId+" .dvcombo").hasClass("segmentedsectionactive")){finishselectoption()}})}});$("#"+divContainerId+" a").click(function(){if(isMulti){$(this).toggleClass("selected")}else{var isSelected=$(this).hasClass("selected");$("#"+divContainerId+" a").removeClass("selected");if(!isSelected){$(this).addClass("selected")}finishselectoption()}})})};$.fn.combogridclassification=function(data,initValue,initText,datawidth,inputObjId,inputObjName,divContainerId,type,className,relName,functionOnChange){this.each(function(){var objId=$(this).attr("id");if(typeof initText=="undefined"||initText==""){initText="Chọn"}var endhtml="";var htmlbefore='<input id="'+inputObjName+'" type="hidden" name="'+inputObjName+'" value="'+initText+'">';htmlbefore+='<input id="'+inputObjId+'" type="hidden" name="'+inputObjId+'" class="'+className+'" rel="'+relName+'" value="'+initValue+'">';htmlbefore+='<div style="width:'+datawidth+'px" class="dvcombo"><span class="combotext" style="width:'+eval(datawidth-28)+'px">'+initText+'</span><span class="dartdown"></span></div>';$("#"+objId).html(htmlbefore);var htmlafter='<div id="'+divContainerId+'" class="classificationscontainer" style="display:none;width:720px;padding:12px;" >';htmlafter+='    <a href="javascript:void(0)" class="selectoptioncontainer_closebutton"><img src="https://img1.banxehoi.com/Static/Images/selectoption_close.png" border="0"></a>';for(var i=0;i<data.length;i++){var htmlSelected="";if(type==4||type==3||type==5){if(data[i].ShortName==initValue){htmlSelected='class="selected"';$("#"+inputObjName).val(data[i].Text);$("#"+objId+" .combotext").html(data[i].Text)}}else{htmlSelected=(HasState(data[i].Value,initValue))?'class="selected"':""}var isSelected=(initValue==data[i].Value);if(type==4||type==5){isSelected=data[i].ShortName==initValue}var imgAvatar=data[i].Value;var value=(type==3||type==4||type==5||type==10)?data[i].ShortName:data[i].Value;htmlafter+='    <div class="selectoptioncontainer_item">';htmlafter+="        <a "+htmlSelected+' href="javascript:void(0)" data-title="'+value+'" rel="'+value+'" >';htmlafter+='            <img rel="'+value+'" src="https://img1.banxehoi.com/Static/Images/ClassificationsSearch/'+imgAvatar+'.png" '+(isSelected?'style="display:none"':"")+"/>";htmlafter+='            <img rel="'+value+'" src="https://img1.banxehoi.com/Static/Images/ClassificationsSearch/'+imgAvatar+'_hover.png" '+(isSelected?"":'style="display:none"')+"/>";htmlafter+="            <span>"+data[i].Text+"</span>";htmlafter+="        </a>";htmlafter+="    </div>"}htmlafter+=endhtml;htmlafter+="</div>";$("body").append(htmlafter);var finishclassifications=function(){$("#"+objId+" .dvcombo").removeClass("segmentedsectionactive");$("#"+divContainerId).hide();if(functionOnChange!=null){functionOnChange()}};$(document).mouseup(function(e){var container=$("#"+objId);if(!container.is(e.target)&&container.has(e.target).length===0&&$("#"+objId+" .dvcombo").hasClass("segmentedsectionactive")){finishclassifications()}});$("#"+divContainerId+" .selectoptioncontainer_closebutton").click(function(){finishclassifications()});$("#"+objId+" .dvcombo").click(function(){if($(this).hasClass("segmentedsectionactive")){finishclassifications()}else{$(this).addClass("segmentedsectionactive");$("#"+divContainerId).show();$("#"+divContainerId).css("top",$(this).offset().top+29);if(type==1){$("#"+divContainerId).css("left",$(this).offset().left-195)}else{if(type==3){$("#"+divContainerId).css("left",$(this).offset().left)}else{if(type==2){var leftindex=$(this).offset().left-eval($(".classificationscontainer").css("width").replace("px",""))+121;$("#"+divContainerId).css("left",leftindex)}else{if(type==4){var element=$(".classificationscontainer");var left=$(".search-carreview").offset().left;element.css("left",left)}else{if(type==5){var element=$(".classificationscontainer");var left=$(".rightboxnews").offset().left;element.css("left",left-448)}else{if(type==10){var element=$(".classificationscontainer");element.css("left","282px")}}}}}}}});$("#"+divContainerId+" a").hover(function(){if($(this).hasClass("selectoptioncontainer_closebutton")){return}$($(this).find("img")[0]).hide();$($(this).find("img")[1]).show()});$("#"+divContainerId+" a").live("mouseleave",function(){if($(this).hasClass("selected")){return}$($(this).find("img")[0]).show();$($(this).find("img")[1]).hide()});$("#"+divContainerId+" a").click(function(){if($(this).hasClass("selected")){$("#"+divContainerId+" a").removeClass("selected");$("#"+inputObjId).val("0");$("#"+objId+" .combotext").html("Kiểu dáng");$("#"+inputObjName).val("Kiểu dáng");$(this).mouseleave()}else{$("#"+inputObjId).val($(this).attr("rel"));var text=$(this).find("span").html();if(text!=null&&text!=""){$("#"+objId+" .combotext").html(text);$("#"+inputObjName).val(text)}$("#"+divContainerId+" a").removeClass("selected");$(this).addClass("selected")}$("#"+divContainerId+" a").each(function(){$(this).mouseleave()});finishclassifications()})})};$.fn.combogridcolor=function(data,initValue,initText,datawidth,inputObjId,inputObjName,divContainerId,type,defaultText,isDisableModify,functionOnChange,isMulti){this.each(function(){var objId=$(this).attr("id");if(typeof initText=="undefined"||initText==""){initText=defaultText}var endhtml="";inputObjId=inputObjId.replace(".","\\.");inputObjName=inputObjName.replace(".","\\.");var htmlbefore='<input id="'+inputObjName.replace("\\","")+'" type="hidden" name="'+inputObjName.replace("\\","")+'" value="'+initText+'">';htmlbefore+='<input id="'+inputObjId.replace("\\","")+'" type="hidden" name="'+inputObjId.replace("\\","")+'" value="'+initValue+'">';htmlbefore+='<div style="width:'+datawidth+'px" class="dvcombo"><span class="combotext" style="width:'+eval(datawidth-28)+'px">'+initText+'</span><span class="dartdown"></span></div>';var htmlafter='<div id="'+divContainerId+'" class="selectoptioncontainer" style="display:none;width:306px;padding:12px;" >';htmlafter+='    <a href="javascript:void(0)" class="selectoptioncontainer_closebutton"><img src="https://img1.banxehoi.com/Static/Images/selectoption_close.png" border="0"></a>';for(var i=0;i<data.length;i++){var htmlSelected="";if((type==3&&eval(data[i].Value)==eval(initValue))||(type!=3&&HasState(data[i].Value,initValue))){htmlSelected='class="selected"';$("#"+inputObjName).val(data[i].Text);$("#"+inputObjId).next().find(".combotext").html(data[i].Text)}var selectone=isMulti?"":" optionbox";htmlafter+='    <div class="selectoptioncontainer_item'+selectone+'"><a '+htmlSelected+' href="javascript:void(0)" data-title="'+data[i].Value+'" rel="'+data[i].Value+'" ><img rel="'+data[i].Value+'" src="https://img1.banxehoi.com/Static/Images/color-'+data[i].ShortName+'.png" /><span>'+data[i].Text+"</span></a></div>"}htmlafter+=endhtml;htmlafter+="</div>";$("#"+objId).html(htmlbefore);$("body").append(htmlafter);var finishcolor=function(){var thisvalue=0;var thistext="";$("#"+divContainerId+" .selectoptioncontainer_item").each(function(){if($(this).find("a").hasClass("selected")){thisvalue+=eval($(this).find("a").attr("rel"));thistext+=$(this).find("a").find("span").html()+", "}});if(thistext.length>0){thistext=thistext.substring(0,thistext.length-2)}else{thistext=defaultText}$("#"+inputObjId).val(thisvalue);if(thistext!=""){$("#"+inputObjId).next().find(".combotext").html(thistext);$("#"+inputObjName).val(thistext)}$("#"+objId+" .dvcombo").removeClass("segmentedsectionactive");$("#"+divContainerId).hide();if(functionOnChange!=null){functionOnChange()}};$("#"+divContainerId+" .selectoptioncontainer_closebutton").click(function(){finishcolor()});$("#"+objId+" .dvcombo").click(function(){if(isDisableModify){return}if($(this).hasClass("segmentedsectionactive")){finishcolor()}else{$(this).addClass("segmentedsectionactive");$("#"+divContainerId).show();$("#"+divContainerId).css("top",$(this).offset().top+29);if(type==1||type==3){$("#"+divContainerId).css("left",$(this).offset().left)}else{if(type==2){var leftindex=$(this).offset().left-eval($("#"+divContainerId).css("width").replace("px",""))+121;$("#"+divContainerId).css("left",leftindex)}}}$(document).mouseup(function(e){if($(e.target).parent().hasClass("selectoptioncontainer_item")||$(e.target).parent().parent().hasClass("selectoptioncontainer_item")){return}var container=$("#"+objId);if(!container.is(e.target)&&container.has(e.target).length===0&&$("#"+objId+" .dvcombo").hasClass("segmentedsectionactive")){finishcolor()}})});$("#"+divContainerId+" a").click(function(){if(isMulti){$(this).toggleClass("selected")}else{var isSelected=$(this).hasClass("selected");$("#"+divContainerId+" a").removeClass("selected");if(!isSelected){$(this).addClass("selected")}finishcolor()}})})};$.fn.combogridcitycplb=function(data,initValue,initText,datawidth,inputObjId,divContainerId,defaultText,finishCPLB){this.each(function(){var objId=$(this).attr("id");if(typeof initText=="undefined"||initText==""){initText=defaultText}var endhtml="";var htmlbefore='<input id="'+inputObjId+'" type="hidden" name="'+inputObjId+'" value="'+initValue+'">';htmlbefore+='<div style="width:'+datawidth+'px" class="dvcombo"><span class="combotext" style="width:'+eval(datawidth-28)+'px">'+initText+'</span><span class="dartdown"></span></div>';var htmlafter='<div id="'+divContainerId+'" class="selectoptioncontainer" style="display:none;width:'+eval(datawidth-24)+'px;padding:12px;" >';htmlafter+='    <a href="javascript:void(0)" class="selectoptioncontainer_closebutton"><img src="https://img1.banxehoi.com/Static/Images/selectoption_close.png" border="0"></a>';for(var i=0;i<data.length;i++){var selected="";if(data[i].Value==initValue){selected='class="selected"'}htmlafter+='    <div class="selectoptioncontainer_item"><a href="javascript:void(0)" '+selected+' data-title="'+data[i].Value+'" rel="'+data[i].Value+'" >'+data[i].Text+"</a></div>"}htmlafter+=endhtml;htmlafter+="</div>";$("#"+objId).html(htmlbefore);$("body").append(htmlafter);var finishselectoption=function(){var thisvalue=0;var thistext="";$("#"+divContainerId+" .selectoptioncontainer_item").each(function(){if($(this).find("a").hasClass("selected")){thisvalue=$(this).find("a").attr("rel");thistext+=$(this).find("a").html()+", "}});if(thistext.length>0){thistext=thistext.substring(0,thistext.length-2)}else{thistext=defaultText}$("#"+inputObjId).val(thisvalue);if(thistext!=""){$("#"+inputObjId).next().find(".combotext").html(thistext)}$("#"+objId+" .dvcombo").removeClass("segmentedsectionactive");$("#"+divContainerId).hide();finishCPLB(thisvalue)};$(document).mouseup(function(e){if($(e.target).parent().hasClass("selectoptioncontainer_item")){return}var container=$("#"+objId);if(!container.is(e.target)&&container.has(e.target).length===0&&$("#"+objId+" .dvcombo").hasClass("segmentedsectionactive")){finishselectoption()}});$("#"+divContainerId+" .selectoptioncontainer_closebutton").click(function(){finishselectoption()});$("#"+objId+" .dvcombo").click(function(){if($(this).hasClass("segmentedsectionactive")){finishselectoption()}else{$(this).addClass("segmentedsectionactive");$("#"+divContainerId).show();$("#"+divContainerId).css("top",$(this).offset().top+29);$("#"+divContainerId).css("left",$(this).offset().left)}});$("#"+divContainerId+" a").click(function(){var isSelected=$(this).hasClass("selected");$("#"+divContainerId+" a").removeClass("selected");if(!isSelected){$(this).addClass("selected")}finishselectoption()})})};$.fn.selectoptionsalon=function(data,initCityId,initShortName,initCityName,datawidth,type){this.each(function(){var objId=$(this).attr("id");var link="";if(initCityName==""){initCityName="Tỉnh / Thành phố"}if(data!=null){var htmlbefore='<div style="width:'+datawidth+'px" class="dvcombo"><span class="combotext" style="width:'+eval(datawidth-28)+'px">'+initCityName+'</span><span class="dartdown"></span></div>';var htmlafter='<div class="citycombogridcontainer combogridcontainer" style="display:none;width:450px;" >';htmlafter+='    <div id="combogridcontainer_col1" class="combogridcontainer_col"></div>';htmlafter+='    <div id="combogridcontainer_col2" class="combogridcontainer_col"></div>';htmlafter+='    <div id="combogridcontainer_col3" class="combogridcontainer_col"></div>';htmlafter+="</div>";$("#"+objId).html(htmlbefore);$("body").append(htmlafter);var htmlcol1='    <div class="combogridcontainer_item"><span>Miền Bắc</span></div>';var htmlcol2='    <div class="combogridcontainer_item"><span>Miền Trung</span></div>';var htmlcol3='    <div class="combogridcontainer_item"><span>Miền Nam</span></div>';var dataCity=data[0].jsonMBData;for(var i=0;i<dataCity.length;i++){if(dataCity[i].SecondHand!=""){link="/salons-"+dataCity[i].SecondHand+"-"+dataCity[i].ShortName}else{link="/salons-"+dataCity[i].ShortName}if(dataCity[i].Keyword!=""){link+="-"+dataCity[i].Keyword}var htmlSelected=initCityId==dataCity[i].Value?'class="selected"':"";var htmlItem='    <div class="combogridcontainer_item"><a '+htmlSelected+' href="'+link+'" data-title="'+dataCity[i].ShortName+'" rel="'+dataCity[i].Value+'" >'+dataCity[i].Text+"</a></div>";htmlcol1+=htmlItem}dataCity=data[1].jsonMTData;for(var i=0;i<dataCity.length;i++){if(dataCity[i].SecondHand!=""){link="/salons-"+dataCity[i].SecondHand+"-"+dataCity[i].ShortName}else{link="/salons-"+dataCity[i].ShortName}if(dataCity[i].Keyword!=""){link+="-"+dataCity[i].Keyword}var htmlSelected=initCityId==dataCity[i].Value?'class="selected"':"";var htmlItem='    <div class="combogridcontainer_item"><a '+htmlSelected+' href="'+link+'" data-title="'+dataCity[i].ShortName+'" rel="'+dataCity[i].Value+'" >'+dataCity[i].Text+"</a></div>";htmlcol2+=htmlItem}dataCity=data[2].jsonMNData;for(var i=0;i<dataCity.length;i++){if(dataCity[i].SecondHand!=""){link="/salons-"+dataCity[i].SecondHand+"-"+dataCity[i].ShortName}else{link="/salons-"+dataCity[i].ShortName}if(dataCity[i].Keyword!=""){link+="-"+dataCity[i].Keyword}var htmlSelected=initCityId==dataCity[i].Value?'class="selected"':"";var htmlItem='    <div class="combogridcontainer_item"><a '+htmlSelected+' href="'+link+'" data-title="'+dataCity[i].ShortName+'" rel="'+dataCity[i].Value+'" >'+dataCity[i].Text+"</a></div>";htmlcol3+=htmlItem}$(".citycombogridcontainer #combogridcontainer_col1").append(htmlcol1);$(".citycombogridcontainer #combogridcontainer_col2").append(htmlcol2);$(".citycombogridcontainer #combogridcontainer_col3").append(htmlcol3);var finishcombocity=function(text,value,shortname){if(text!=null&&text!=""){$("#"+objId+" .combotext").html(text)}if(value!=null&&value!=""){$("#CityID").val(value)}if(shortname!=null&&shortname!=""){$("#ShortCityName").val(shortname)}$("#"+objId+" .dvcombo").removeClass("segmentedsectionactive");$(".citycombogridcontainer").hide()};$(document).mouseup(function(e){var container=$("#"+objId);if(!container.is(e.target)&&container.has(e.target).length===0&&$("#"+objId+" .dvcombo").hasClass("segmentedsectionactive")){finishcombocity()}});$("#"+objId+" .dvcombo").click(function(){if($(this).hasClass("segmentedsectionactive")){finishcombocity()}else{$(this).addClass("segmentedsectionactive");$(".citycombogridcontainer").show();$(".citycombogridcontainer").css("top",$(this).offset().top+29);var leftindex=$(this).offset().left-eval($(".citycombogridcontainer").css("width").replace("px",""))+121;$(".citycombogridcontainer").css("left",leftindex)}});$(".citycombogridcontainer a").click(function(){var text=$(this).html();var value=$(this).attr("rel");var shortname=$(this).attr("data-title");$(".citycombogridcontainer a").removeClass("selected");$(this).addClass("selected");finishcombocity(text,value,shortname);SearchSalon()})}})};function GetByMakeId(b,e){for(var c=0,a=b.length;c<a;c+=1){if(b[c].MakeID===e){return b[c]}}}$.fn.showmodelbymake=function(){var timeout;this.each(function(){$(this).hover(function(){var _this=$(this);var m="";var html="";var htmlCol1="";var htmlCol2="";var htmlCol3="";var makeID=$(_this).attr("id");var link=$(_this).attr("href");m="m"+makeID;var objModel=$.grep(MakeAndModelData,function(e){return(e.MakeID==makeID)})[0].Models;if(objModel!=null&&objModel.length>0){if($(_this).parent().parent().attr("id")=="col6"||$(_this).parent().parent().attr("id")=="col7"){html+="<div id='"+m+"' class='modelbymake' style='right:"+$(_this).parent().width()+"px;'><div class='contentmakemodel'>"}else{html+="<div id='"+m+"' class='modelbymake' style='left:"+($(_this).width()+13)+"px;'><div class='contentmakemodel'>"}html+="<div class='col1'></div>";html+="<div class='col2'></div>";html+="<div class='col3'></div>";html+="</div></div>";if(!$("#"+m).is(":visible")){$(_this).append(html);for(var i=0;i<objModel.length;i++){var num=eval(Math.floor(objModel.length/3));if(eval(objModel.length%3)==2){if(i<num+1){htmlCol1+='<a href="'+link+"-"+objModel[i].ShortModelName+'">'+objModel[i].ModelName+"</a>"}else{if(i>=(num+1)&&i<=(eval(num*2)+1)){htmlCol2+='<a href="'+link+"-"+objModel[i].ShortModelName+'">'+objModel[i].ModelName+"</a>"}else{if(i>(eval(num*2)+1)&&i<objModel.length){htmlCol3+='<a href="'+link+"-"+objModel[i].ShortModelName+'">'+objModel[i].ModelName+"</a>"}}}}else{if(i<num){htmlCol1+='<a href="'+link+"-"+objModel[i].ShortModelName+'">'+objModel[i].ModelName+"</a>"}else{if(i>=num&&i<eval(num*2)){htmlCol2+='<a href="'+link+"-"+objModel[i].ShortModelName+'">'+objModel[i].ModelName+"</a>"}else{if(i>=eval(num*2)&&i<objModel.length){htmlCol3+='<a href="'+link+"-"+objModel[i].ShortModelName+'">'+objModel[i].ModelName+"</a>"}}}}}$(_this).find(".modelbymake .col1").append(htmlCol1);$(_this).find(".modelbymake .col2").append(htmlCol2);$(_this).find(".modelbymake .col3").append(htmlCol3);var parentTop=eval($(_this).parent().position().top);var topPopup=eval($(".modelbymake").height()/2);var bottom=(eval($(".submenuv2").height())-parentTop)+35;if(parentTop>=topPopup&&bottom>=topPopup){$(".modelbymake").css("top","-"+topPopup+"px")}else{if(eval(bottom)<=topPopup){$(".modelbymake").css("top","-"+eval(topPopup)+"px")}else{$(".modelbymake").css("top","0px")}}}}},function(){clearTimeout(timeout);if($(".modelbymake").is(":visible")){$(".contentmakemodel").remove();$(".modelbymake").remove()}})})};$.fn.btnsubmit=function(a){$(this).click(function(){$("#errorflag").html("");$(".validatetooltip").hide();$(""+a+"").find(":input.isPhoneNumber").trigger("blur");$(""+a+"").find(":input.required").trigger("blur");$(""+a+" textarea").trigger("blur");$(".image_uploaded").val($("#hdImage").val());if($("#errorflag").html()!=null&&$("#errorflag").html()!=""){$("#"+$("#errorflag").html()).focus();return false}else{return true}})};$.fn.cancel=function(){$(this).click(function(){location.href=$(location).attr("href")})};$.fn.cancelhome=function(){$(this).click(function(){location.href="/"})};$.fn.sendmailcontactsalon=function(){$(this).click(function(){$("#errorflag").html("");$(".validatetooltip").hide();$(".lienhe").find(":input.required").trigger("blur");$(".lienhe textarea").trigger("blur");if($("#errorflag").html()!=null&&$("#errorflag").html()!=""){$("#"+$("#errorflag").html()).focus();return false}else{var a=$(document).height();$("body").append("<div id='overlay'></div>");$("#overlay").height(a).css({opacity:0.4,position:"absolute",top:0,left:0,width:"100%","z-index":5000,background:'url("https://img1.banxehoi.com/Static/Images/loading.gif") no-repeat center black'});var b="/member/sendmail/salon";var c={To:$("#mailto").val(),name:$("#name").val(),email:$("#email").val(),sdt:$("#sdt").val(),address:$("#address").val(),content:$("#content").val(),Capchar:$("#txtImgVerifyCode").val()};$.ajax({type:"POST",url:b,data:c,success:function(d){if(d=="true"){alert("Gửi mail thành công!");$("#overlay").hide();$(".verifycode").attr("src","/member/captcha/"+Math.random());location.href=$(location).attr("href")}else{$(".verifycode").attr("src","/member/captcha/"+Math.random());alert("Mã an không đúng. Vui lòng thử lại.")}}});return true}})};$.fn.sendmailsalon=function(){$(this).click(function(){$("#errorflag").html("");$(".contact").find(":input.required").trigger("blur");$(".contact textarea").trigger("blur");if($("#errorflag").html()!=null&&$("#errorflag").html()!=""){$("#"+$("#errorflag").html()).focus();return false}else{$(".overlay").css("display","block");var a="/member/sendmail/salon";var b={To:$("#mailto").val(),name:$("#name").val(),email:$("#email").val(),sdt:$("#phone").val(),address:$("#address").val(),content:$("#content").val(),Capchar:$("#txtImgVerifyCode").val()};setTimeout(1000);$.ajax({type:"POST",url:a,data:b,async:false,success:function(c){if(c=="true"){alert("Gửi mail thành công!");$(".verifycode").attr("src","/member/captcha/"+Math.random())}else{if(c=="capcharfalse"){$(".verifycode").attr("src","/member/captcha/"+Math.random());alert("Mã xác thực không đúng, Vui lòng thử lại.")}else{$(".verifycode").attr("src","/member/captcha/"+Math.random());alert("Gửi email không thành công.")}}$(".overlay").css("display","none")}});return true}})};$.fn.sendmailcontact=function(){$(this).click(function(){$("#errorflag").html("");$(".container-pageinfo").find(":input.required").trigger("blur");$(".contact textarea").trigger("blur");if($("#errorflag").html()!=null&&$("#errorflag").html()!=""){$("#"+$("#errorflag").html()).focus();return false}else{$(".overlay").css("display","block");var a="/member/sendmail/contact";var b={name:$("#name").val(),email:$("#email").val(),sdt:$("#phone").val(),address:$("#address").val(),content:$("#content").val(),Capchar:$("#txtImgVerify").val()};setTimeout(1000);$.ajax({type:"POST",url:a,data:b,success:function(c){if(c=="true"){alert("Gửi mail thành công!");$(".verifycode").attr("src","/member/captcha/"+Math.random());$('.container-pageinfo input[type="text"]').val("");$(".container-pageinfo textarea").val("")}else{if(c=="capcharfalse"){$(".verifycode").attr("src","/member/captcha/"+Math.random());alert("Mã xác thực không đúng, Vui lòng thử lại.")}else{$(".verifycode").attr("src","/member/captcha/"+Math.random());alert("Gửi email không thành công.")}}$(".overlay").css("display","none")}});return true}})};function setcookies(){if(getCookie("HaveImage")==1){$("#filtertoolallbutton").attr("src","https://img1.banxehoi.com/Static/Images/filter-tatca-active2.png");$("#filtertoolcoanhbutton").attr("src","https://img1.banxehoi.com/Static/Images/filter-coanh-deactive.png");$(".filter #cbhaveimg").attr("checked","checked")}if(getCookie("HaveImage")==2){$("#filtertoolallbutton").attr("src","https://img1.banxehoi.com/Static/Images/filter-tatca-active2.png");$("#filtertoolcoanhbutton").attr("src","https://img1.banxehoi.com/Static/Images/filter-coanh-deactive.png");$(".filter #cbhavenotimg").attr("checked","checked")}else{if(getCookie("HaveImage")==0){$("#filtertoolallbutton").attr("src","https://img1.banxehoi.com/Static/Images/filter-tatca-deactive.png");$("#filtertoolcoanhbutton").attr("src","https://img1.banxehoi.com/Static/Images/filter-coanh-active2.png");$(".filter #cbhaveimg").removeAttr("checked");$(".filter #cbhavenotimg").removeAttr("checked")}}if(getCookie("IsThumbView")==1){$("#filtertoollistviewbutton").attr("src","https://img1.banxehoi.com/Static/Images/filter-listview-active2.png");$("#filtertoolthumbviewbutton").attr("src","https://img1.banxehoi.com/Static/Images/filter-thumbview-deactive.png");$("#liststyle").attr("src","https://img1.banxehoi.com/Static/Images/list-deactive.png");$("#gridstyle").attr("src","https://img1.banxehoi.com/Static/Images/grid-active.png")}else{if(getCookie("IsThumbView")==0){$("#filtertoollistviewbutton").attr("src","https://img1.banxehoi.com/Static/Images/filter-listview-deactive.png");$("#filtertoolthumbviewbutton").attr("src","https://img1.banxehoi.com/Static/Images/filter-thumbview-active2.png");$("#liststyle").attr("src","https://img1.banxehoi.com/Static/Images/list-active.png");$("#gridstyle").attr("src","https://img1.banxehoi.com/Static/Images/grid-deactive.png")}}if(getCookie("isTestDriver")==1){$(".filter #cbtestdriver").attr("checked","checked")}else{if(getCookie("isTestDriver")==0){$(".filter #cbtestdriver").removeAttr("checked")}}}function activelinkrightsearch(b){$(".rightsearch .item h3").click(function(){var f=$(this).find("a").attr("href");location.href=f});$(".rightsearch .item p").click(function(){var f=$(this).find("a").attr("href");location.href=f});var a=window.location.href.replace("http://").replace("https://");var e=a.substring(a.indexOf("/"),a.length);var c="";$(".rightsearch .item a").removeClass("active");var d=null;$(".rightsearch .item a").each(function(){var f=$(this);if(e.indexOf($(this).attr("href"))!=-1&&$(this).attr("id")!="all"&&$(this).attr("id")!="allcity"){c=$(this).attr("href");d=f;if(d==null){d=f}else{if(f.attr("href").length>d.attr("href").length){d=f}}}});if(d==null){d=$("#all");$("#allcity").parent().addClass("active");if(b=="ismodel"){typemodel="ismodel"}}d.parent().addClass("active");if(typemodel!=""){$("#allcity").parent().removeClass("active")}if(e.length>c.length&&c.length!=0){$("#.rightsearch .item a").parent().removeClass("active")}}function activelinkrightsearchsalon(){$(".rightsearch .item p").click(function(){var d=$(this).find("a").attr("href");location.href=d});var a=window.location.href.replace("http://").replace("https://");var c=a.substring(a.indexOf("/"),a.length);$(".rightsearch .item a").removeClass("active");var b=null;$(".rightsearch .item a").each(function(){var d=$(this);if(c.indexOf($(this).attr("href"))!=-1){b=d;if(b==null){b=d}else{if(d.attr("href").length>b.attr("href").length){b=d}}}});if(b==null){b=$("#all")}b.parent().addClass("active")}$.fn.tabcreate=function(){this.click(function(d){var c=$("#tabvalid").val();if(c.indexOf(d.target.id)!=-1){if(c.trim()!=0){c=c.trimstart(",");var a=c.split(",");for(var b=0;b<a.length;b++){$("#tabitem #"+a[b]).addClass("checked")}}$("#tabitem .active").removeClass("active");$("#tabitem #"+d.target.id).addClass("active");$("#tabitem #"+d.target.id).removeClass("checked");$("#tabcontent .box").hide();$("#tabcontent ."+d.target.id).fadeIn();$("#tabcontent .specialtab").show();$(".createautoright").show();$(".tooltipfirst").hide();$(window).scrollTop($(".list-content").offset().top);return false}})};(function(a){a.fn.syncHeight=function(d){if(d!=""&&d!="undefined"&&d!=null){var b=0;var c=d;a(this).each(function(e){if(a(this).is(":visible")){var f=a(a(c)[e]).height();if(f>b){b=f}if(e%3==2){a(a(c)[e]).height(b);a(a(c)[e-1]).height(b);a(a(c)[e-2]).height(b);b=0}}})}else{var b=0;a(this).each(function(){if(a(this).is(":visible")){var e=a(this).height();if(e>b){b=e}}});a(this).each(function(){a(this).height(b)})}return this}})(jQuery);(function(a){a.fn.syncWidth=function(c){var b=0;a(this).each(function(){if(a(this).is(":visible")){var d=a(this).width();if(d>b){b=d}}});a(this).each(function(){a(this).width(b+10)});return this}})(jQuery);$.fn.tabcreateviewall=function(){this.click(function(f){var d=$("#tabvalid").val();if(d.indexOf("baseinfo")!=-1&&d.indexOf("multil")!=-1&&d.indexOf("price")!=-1&&d.indexOf("techology")!=-1&&d.indexOf("contact")!=-1){if(d.trim()!=0){d=d.trimstart(",");var a=d.split(",");for(var c=0;c<a.length;c++){$("#tabitem #"+a[c]).addClass("checked")}}$("#tabitem .active").removeClass("active");$("#tabitem #"+f.target.id).addClass("active");$("#tabcontent .box").show();$("#tabcontent .specialtab").hide();$(".createautoright").hide();var b="";b+="<span>Chú ý: </span>";b+="<p>Vui lòng rà soát lại toàn bộ tin đăng của bạn để đảm bảo các trường bắt buộc đã được điền đẩy đủ.</p>";b+="<p>Vui lòng kiểm tra lại các thông số cơ bản của xe nhằm đảm bảo tính xác thực của tin đăng.</p>";$(".tooltipfirst").html(b);$(".tooltipfirst").show();$(window).scrollTop($(".list-content").offset().top);return false}})};$.fn.tabnews=function(){this.click(function(a){$(".title-tabs .activetab").removeClass("activetab");$(".title-tabs #"+a.target.id).addClass("activetab");$(".contanertab .box").hide();$(".contanertab ."+a.target.id).show();return false})};$.fn.tabauto4u=function(){this.click(function(a){$(".auto4u_tabs .activetab").removeClass("activetab");$(".auto4u_tabs #"+a.target.id).addClass("activetab");$(".autoforyou .containertab .box").hide();$(".autoforyou .containertab ."+a.target.id).show();$(".contentnewauto .sell-car-griditem").syncHeight(".contentnewauto .sell-car-griditem");$(".contentnewauto .fixheightinfo").syncHeight(".contentnewauto .fixheightinfo");$(".contentnewauto .sell-car-griditem .tit").syncHeight(".contentnewauto .sell-car-griditem .tit");return false})};$.fn.tabextendcomment=function(a){this.click(function(b){var c=$(this).attr("id");$("."+a+" .activetab").removeClass("activetab");$("."+a+" #"+c).addClass("activetab");$(".container-comment .box").hide();$(".container-comment ."+c).show();$(".container-comment ."+c).removeClass("gg");$(".mainvideo .comment").resize();return false})};$.fn.tabautohotnew=function(){this.click(function(a){$(".newsright .tabs_item .activetab").removeClass("activetab");$(".newsright .tabs_item #"+a.target.id).addClass("activetab");$(".newsright .containertab .box").hide();$(".newsright .containertab ."+a.target.id).show();return false})};$.fn.tabautodgx=function(){this.click(function(a){$(".dgx .tabs_item .activetab").removeClass("activetab");$(".dgx .tabs_item #"+a.target.id).addClass("activetab");$(".dgx .containertab .box").hide();$(".dgx .containertab ."+a.target.id).show();return false})};$.fn.tabautoright=function(){this.click(function(a){$(".tabs_autoitem .activetab").removeClass("activetab");$(".tabs_autoitem #"+a.target.id).addClass("activetab");$(".auto_rightlist .containertab .box").hide();$(".auto_rightlist .containertab ."+a.target.id).show();return false})};$.fn.tabautodetail=function(){this.click(function(a){$(".autodetail .tab .activetab").removeClass("activetab");$(".autodetail .tab #"+a.target.id).addClass("activetab");$(".autodetail .container-tab .box").hide();$(".autodetail .container-tab ."+a.target.id).show();return false})};$.fn.tabvideos=function(){this.click(function(a){$(".categoryvideo .tabitem .active").removeClass("active");$(".categoryvideo .tabitem #"+a.target.id).parent().addClass("active");$(".categoryvideo .container .box").hide();$(".categoryvideo .container ."+a.target.id).show();return false})};$.fn.tabcarreview=function(){this.click(function(c){var a=$(".tabsitem").outerHeight(true);var b=$(".detail-carreview .container-tabsitem ."+c.target.id);if($(document).scrollTop()<300){a+=40}$("html,body").animate({scrollTop:(b.offset().top-a)},"slow");return false})};$.fn.tabcarcompare=function(){this.click(function(c){var a=$(".tabsitem").outerHeight(true);var b=$(".comparepage .containertab ."+c.target.id);if($(document).scrollTop()<300){a+=40}$("html,body").animate({scrollTop:(b.offset().top-a)},"slow");return false})};$.fn.tab=function(){$(this).click(function(){$(".title-tabs-detail .activetab").removeClass("activetab");var b=$(this);$(this).addClass("activetab");var c=$(".title-tabs-detail  ."+$(this).attr("id"));$(".title-tabs-detail .box").not(c).slideUp(1000);if(c.is(":visible")){c.slideUp(1000)}if(c.is(":hidden")){c.slideDown(1000)}return false})};$.fn.tabcreateauto=function(){$(this).click(function(){var a=$(this).attr("id");if($("."+a).is(":visible")){$(this).addClass("active")}else{$(this).removeClass("active")}$("."+a).toggle("slow")})};$.fn.activemenusalon=function(){var a=window.location.href.replace("http://").replace("https://");var b=a.substring(a.indexOf("/"),a.length);this.each(function(){if(b==($(this).attr("href"))){$(this).parent().addClass("active");return}})};$.fn.pagenum=function(){var b=0,a=0;this.each(function(){if(b%3==0){a++}$(this).find(".grid-title").addClass("grid-title-row"+a);b++;if(a==4){a=0}})};$.fn.playVideo=function(a){if(!a){a=false}this.each(function(){var j=$(this);var f=j.attr("data-type");var g=j.attr("data-video");var e=j.attr("data-width");var b=j.attr("data-height");var h=j.attr("data-image");if(!h){h=""}g=g.replace("https://youtu.be/","https://www.youtube.com/embed/");g=g.replace("https://www.youtube.com/watch?v=","https://www.youtube.com/embed/");var d=g.indexOf("&");if(d!=-1){g=g.substring(0,d)}var c="<iframe width='"+e+"' height='"+b+"' src='"+g+"?showinfo=0&autoplay="+a+"' frameborder='0' allowfullscreen></iframe>";j.html(c)})};$.fn.prettyPhotos=function(){$(this).each(function(){var a=$(this);var c=a.attr("title");var b=a.attr("src");if(b=="/assets/img/video.png"||b=="/assets/img/embed.png"||b=="/content/images/video.png"||b=="/images/gl.png"||b=="/images/fb.png"){return}a.addClass("prettyPhotos");a.replaceWith("<a href = '"+b+"' title = '"+c+"' rel='prettyPhoto[pp_gal]'>"+this.outerHTML+"</a>")});$("a[rel^='prettyPhoto']").prettyPhoto({animation_speed:"normal",theme:"light_square",slideshow:5000,autoplay_slideshow:false,social_tools:"",deeplinking:false,allow_resize:false})};$.fn.sliderCompare=function(){this.each(function(){var c=$(this);var b=c.attr("data-width");var a=c.attr("data-height");c.css("border","none");c.find("img").each(function(){var d=$(this);d.css("width",b);d.css("height",a)});c.addClass("twentytwenty-container").twentytwenty({default_offset_pct:0.7})})};$.fn.cropImage=function(){DOMAIN_IMAGE_STORAGE="https://img.banxehoi.com";DOMAIN_IMAGE_STORAGE_1="https://img1.banxehoi.com";this.each(function(){var d=$(this);var b=d.attr("width");var a=d.attr("height");var c=d.attr("src");if(!b){b=d.css("width").replace("px","")}if(!a){a=d.css("height").replace("px","")}if(!b||!a){return}if(c.indexOf(DOMAIN_IMAGE_STORAGE_1)>=0){c=c.replace(DOMAIN_IMAGE_STORAGE_1,DOMAIN_IMAGE_STORAGE_1+"/crop/"+b+"x"+a)}else{if(c.indexOf(DOMAIN_IMAGE_STORAGE)>=0){c=c.replace(DOMAIN_IMAGE_STORAGE,DOMAIN_IMAGE_STORAGE+"/crop"+b+"x"+a)}}d.attr("src",c)})};$.fn.ShowHideDiv=function(){$(this).click(function(){if($(".tdleft").hasClass("hide")){$(".tdleft").removeClass("hide");$(this).removeClass("icon-show")}else{$(".tdleft").addClass("hide");$(this).addClass("icon-show")}})};function formatPrice(b,g,f){var a=b;var e=b.length;if(e>3){a="";for(var d=e-1,c=1;d>=0;d--,c++){a=b[d]+a;if(d!=0&&c%3==0){a=g+a}}}a+=f?" "+f:"";return a}var get_radio_value=function(b){var a;for(a=0;a<b.length;a++){if(b[a].checked){return b[a].value}}return null};var ShowVoteResult=function(){var c;var b;b=550/2;c=screen.availWidth/2-b;var a=window.open("/member/vote","_blank","height=250,width=560,location=0,status=0,scrollbars=0, resizable=0");a.moveTo(c,c/2)};var Vote=function(){var c=get_radio_value(document.getElementsByName("bc"));if(c==null){alert("Bạn chưa chọn câu trả lời!");return false}else{var d;var b;b=550/2;d=screen.availWidth/2-b;var a=window.open("/member/vote-"+c,"_blank","height=250,width=560,location=0,status=0,scrollbars=0, resizable=0");a.moveTo(d,d/2)}};$.fn.addHighLight=function(){$(this).each(function(a,b){if(a%2==0){$(this).addClass("highlight")}})};$.fn.addHighLightCompare=function(){$(this).each(function(a,b){if((a+1)%2==0){$(this).addClass("highlight")}})};function isEmpty(a){return !$.trim(a.html())}$.fn.CheckContent=function(){$(this).each(function(a,b){if(isEmpty($(this))){$(this).parent().hide()}})};$.fn.sidebanner=function(){var a=1000;var b=100;var d=100;$(window).scroll(function(){c()});$(window).resize(function(){c()});var c=function(){var f=(($(window).width()-a)/2)-b-10;var l=(($(window).width()-a)/2)+a+10;if($(window).width()<a+b+d+20){$(".ban_scroll").css("display","none");return}else{$(".ban_scroll").css("display","block")}var h=0;var k=$(window).scrollTop();var g=42;var e=210;var j=0;var m=$(".newfooter").position().top-$(".ban_scroll").height()-50;if(k<=e){j=e;$("#ban_left").css("position","absolute");$("#ban_right").css("position","absolute");$("#ban_left").stop().animate({top:j,left:f},0);$("#ban_right").stop().animate({top:j,left:l},0)}else{if(k>=m){j=m;$("#ban_left").css("position","absolute");$("#ban_right").css("position","absolute");$("#ban_left").stop().animate({top:j,left:f},0);$("#ban_right").stop().animate({top:j,left:l},0)}else{$("#ban_left").css("position","fixed");$("#ban_left").css("top",g);$("#ban_left").css("left",f);$("#ban_right").css("position","fixed");$("#ban_right").css("top",g);$("#ban_right").css("left",l)}}h=k};c()};$.fn.multibanner=function(className){var showMultiBanner=function(className,index){$("."+className).hide();$($("."+className)[index]).show();saveCookieMultiBanner(className,index)};var saveCookieMultiBanner=function(className,index){var d=new Date();d.setTime(d.getTime()+(1*24*60*60*1000));var expires="expires="+d.toUTCString();document.cookie=className+"Index="+index+"; "+expires+"; path=/"};var index=getCookie(className+"Index");if(index!=""){index=eval(index)+1;if(index>=$("."+className).length){index=0}}else{index=0}showMultiBanner(className,index)};$(document).ready(function(){$("#slideModel").newsslide(230);$(".focusnews .nbs-flexisel-nav-right").css("top","17px");$(".focusnews .nbs-flexisel-nav-right").css("right","21px");$(".focusnews .nbs-flexisel-nav-left").css("top","17px")});$(function(){$("#toTop").scrollToTop(1000)});$(document).ready(function(){var a=jQuery(window).width();jQuery(".pagewrap").append('<div id="buttonfly"><img src="https://img1.banxehoi.com/Static/Images/buttonfly-miniv2.png" border="0"/><img src="https://img1.banxehoi.com/Static/Images/buttonflyv2.png" style="display:none" border="0"/></div>');jQuery(window).scroll(function(){if(jQuery(window).scrollTop()>180){jQuery("#buttonfly").fadeIn()}else{jQuery("#buttonfly").fadeOut()}});jQuery("#buttonfly").click(function(){location.href="/dang-tin-ban-xe"});jQuery("#buttonfly").hover(function(){$(this).addClass("buttonfly-mini");$($(this).find("img")[0]).hide();$($(this).find("img")[1]).show()});$("#buttonfly").live("mouseleave",function(){$(this).removeClass("buttonfly-mini");$($(this).find("img")[0]).show();$($(this).find("img")[1]).hide()});jQuery(window).resize(function(){jQuery("#buttonfly").remove();var b=jQuery(window).width();if(jQuery(window).width()>1000){var c=jQuery("#buttonfly");if(c.length<1){jQuery("body").append('<div id="buttonfly"></div>')}jQuery(window).scroll(function(){if(jQuery(window).scrollTop()>180){jQuery("#buttonfly").fadeIn()}else{jQuery("#buttonfly").fadeOut()}});jQuery("#buttonfly").click(function(){location.href="/dang-tin-ban-xe"})}else{jQuery("#buttonfly").remove()}})});function ItemClick(a){$.ajax({type:"POST",cache:false,url:"/AutoCompares/GetAutoCompareByID",data:{autoCompareId:a},success:function(c){if(c!=""){if($(".autocompare-item").find("table").length>4){alert("Tối đa chỉ chọn được 5 xe.");return}else{if($(".autocompare-item").find("table[id='"+a+"']").length>0){alert("Xe này đã có trong danh sách so sánh.")}else{$.ajax({type:"POST",cache:false,url:"/AutoCompares/GetAutoCompareHeaderByID",data:{autoCompareId:a},success:function(d){if(d!=""){$(".content-header .header-fly").append(d)}}});$(".autocompare-item").append(c);var b=location.href+"-"+a;window.history.pushState("string","Title",b);$(".popupseachauto").hide();$(".tblCompare .count").text($(".autocompare-item").find(".item").length);$(".autocompare-item").resize();$(".autocompare-item .item").each(function(){$(this).find("tr").addHighLightCompare()});NextBack();SetScroll()}}}}})}function DeleteItemCompare(_this,id){$(_this).parent().parent().remove();$(".autocompare-item").find("#"+id).parent().remove();var count=eval($("#fix .count").text())-1;$("#fix .count").text(count);SetUrl();$(".autocompare-item .contentscroll").resize();NextBack();SetScroll()}function SetUrl(){var a=location.href;var b="";$(".autocompare-item .item").each(function(){b+=$(this).attr("id")+"-"});b=b.trimEnd("-");a=a.substring(0,a.lastIndexOf("/")+1)+b;window.history.pushState("string","Title",a)}function SetScroll(){var b=$(".autocompare-item .item").length;var a=b*230;$(".autocompare-item").css("width",""+a+"px");$(".header-fly").css("width",""+a+"px")}function SelectItem(a){$.ajax({type:"POST",cache:false,url:"/AutoCompares/GetAutoCompareByIDSearch",data:{autoCompareId:a},success:function(b){if(b!=""){if($(".selectedauto .itemselect").find(".item").length>4){alert("Tối đa chỉ chọn được 5 xe!")}else{if($(".selectedauto .itemselect").find(".item[rel='"+a+"']").length>0){alert("Xe này đã có trong danh sách so sánh!")}else{$(".selectedauto .itemselect").append(b);$(".selectedauto .count .countnumb").text($(".selectedauto .itemselect").find(".item").length)}}}}})}function DeleteItem(_this){$(_this).parent().parent().remove();var count=eval($(".selectedauto .count .countnumb").text())-1;$(".selectedauto .count .countnumb").text(count)}function DeleteAllItem(){$(".selectedauto .itemselect").empty();$(".selectedauto .count .countnumb").text(0)}function NextBack(){$(".header-fly .itemhead").find(".next").show();$(".header-fly .itemhead").find(".preview").show();$(".header-fly .itemhead:last").find(".next").hide();$(".header-fly .itemhead:first").find(".preview").hide();SetUrl()}function next(d){var f=$(d).parent().parent();var a=f.next();var e=$(f).attr("id");if(a.length==0){return}f.animate({opacity:0.2},500,function(){f.remove();a.css("opacity","0").animate({opacity:1},300);a.after('<div id="'+e+'" class="itemhead">'+f.html()+"</div>");NextBack();a.next().animate({opacity:1},500)});var b=$(".autocompare-item").find("#"+e).parent();var c=b.next();if(c.length==0){return}b.animate({opacity:0.2},500,function(){b.remove();c.css("opacity","0").animate({opacity:1},300);c.after("<div style = 'opacity:0'>"+b.html()+"</div>");NextBack();c.next().animate({opacity:1},500)})}function preview(d){var f=$(d).parent().parent();var a=f.prev();var e=$(f).attr("id");if(a.length==0){return}f.animate({opacity:0.2},500,function(){f.remove();a.css("opacity","0").animate({opacity:1},300);a.before('<div id="'+e+'" class="itemhead">'+f.html()+"</div>");NextBack();a.prev().animate({opacity:1},500)});var b=$(".autocompare-item").find("#"+e).parent();var c=b.prev();if(c.length==0){return}b.animate({opacity:0.2},500,function(){b.remove();c.css("opacity","0").animate({opacity:1},300);c.before("<div style = 'opacity:0'>"+b.html()+"</div>");NextBack();c.prev().animate({opacity:1},500)})}$.fn.pricemask=function(maxleng){$(this).keyup(function(){var val=$(this).val().replace(/\./g,"").replace(/,/g,"");if(typeof maxleng!="undefined"&&maxleng!="undefined"&&eval(maxleng)>0){if(val.length>maxleng){val=val.substr(0,maxleng)}}$(this).val(val).formatCurrency({roundToDecimalPlace:-1,symbol:""});val=$(this).val().replace(/,/g,".");$(this).val(val)})};$.fn.numbersOnly=function(){this.keyup(function(){this.value=this.value.replace(/[^0-9]/g,"")})};$.fn.numbersOnly2=function(){this.keyup(function(){this.value=this.value.replace(/[^0-9\.]/g,"")})};function RedirectLinkViewMore(){$.removeCookie("OrderYear",{domain:domainOfCookieName,path:"/"});$.removeCookie("OrderPrice",{domain:domainOfCookieName,path:"/"});location.href="/ban-xe"}function addDays(a,b){return new Date(a.getTime()+b*24*60*60*1000)}function SaveOwnerAuto(a){$.ajax({type:"POST",cache:false,url:"/member/ownerauto/saveauto",data:{ownerAutoID:a},success:function(b){if(b!=null&&b.Result){alert("Lưu tin chính chủ thành công.");$(".detailownerauto").remove()}else{alert("Có lỗi xảy ra.")}}})}function HiddenOwnerAuto(a){$.ajax({type:"POST",cache:false,url:"/member/ownerauto/hiddenauto",data:{ownerAutoID:a},success:function(b){if(b!=null&&b.Result){alert("Ẩn tin chính chủ thành công.");$(".detailownerauto").remove()}else{alert("Có lỗi xảy ra.")}}})}function UnSaveOwnerAuto(a){$.ajax({type:"POST",cache:false,url:"/member/ownerauto/unsaveauto",data:{ownerAutoID:a},success:function(b){if(b!=null&&b.Result){alert("Hoàn tác tin chính chủ thành công.");$(".detailownerauto").remove()}else{alert("Có lỗi xảy ra.")}}})}function UnHidenOwnerAuto(a){$.ajax({type:"POST",cache:false,url:"/member/ownerauto/unhidenauto",data:{ownerAutoID:a},success:function(b){if(b!=null&&b.Result){alert("Hoàn tác tin chính chủ thành công.");$(".detailownerauto").remove()}else{alert("Có lỗi xảy ra.")}}})}function CommentOwnerAuto(a){$("#OwnerAutoID").val(a);$.fancybox.open({fitToView:false,href:"#popupcomment",padding:0,closeBtn:true,autoCenter:false})}function OwnerAutoView(c,b){var a="";$.ajax({type:"POST",cache:false,url:"/member/ownerauto/ownerautoview",data:{ownerAutoID:c},async:false,success:function(f){if(f!=null){var e=f.lsImage==null?0:f.lsImage.length;var g=f.BaseInfoAuto;a+="<tr class='detailownerauto' id='detail_"+f.OwnerAutoID+"'>";a+='                        <td colspan="5" class="alleft"> ';a+='                            <div class="autodetail" >';a+='                                <div class="tit">';a+="                                    <h1>"+f.Title+"</h1>";a+="                                </div>";a+='                                <div class="tab">';a+="                                    <ul>";a+='                                        <li id="anh" class="activetab oswaldlarge-tab">Hình ảnh ('+e+")</li>";a+="                                    </ul>";a+="                                </div>";a+='                                <div class="bound" style="border:none;">';a+='                                    <div class="img">';a+='                                        <div class="container-tab">';a+='                                            <div class="anh box" style="display:block;">';if(e==1){a+=' <div class="imageslide">';a+='                                    <div class="imagecontainer">';a+='                                        <a href="javascript:void(0)" rel="nofollow">';a+='                                            <img src="'+f.lsImage[0].FileName.replace("/crop/115x85","/crop/400x225")+'" alt="'+f.Title+'" title="'+f.Title+'" />';a+="                                        </a>";a+="                                    </div>";a+="                                </div>"}else{if(e>1){a+='                                                <div class="imageslide">';a+='                                                    <div class="gallery clearfix" id="osgslide">';for(var d=0;d<e;d++){a+='                                                        <span id="imageGallery-'+d+'" class="imageGallery" data-desc="'+f.Title+'" data-src="'+f.lsImage[d].FileName.replace("/crop/115x85","")+'" style="display:none">';a+='                                                            <img alt="'+f.Title+" -"+d+'" title="'+f.Title+" -"+d+'" src="'+f.lsImage[d].FileName.replace("/crop/115x85","")+'" >';a+="                                                        </span>";a+='                                                        <img rel="imageGallery-'+d+'" class="osgslideimg" title="'+f.Title+'" src="'+f.lsImage[d].FileName.replace("crop/115x85","crop/55x43")+'" alt="'+f.Title+'" style="display: none;">'}a+="                                                    </div>";a+="                                                </div>"}}a+="                                            </div>";a+="                                            <script>";a+="                                                $('#osgslide').osgslide('crop/55x43', 'crop/400x225', 59, eval("+(e-4>0?e-4:1)+"), eval("+e+"));";a+="                                            <\/script>";a+='                                            <div class="video box">';a+="                                            </div>";a+='                                            <div class="bando box">';a+='                                                <div id="map-canvas"></div>';a+="                                            </div>";a+="                                        </div>";a+='                                        <div class="infoauto">';a+='                                            <div class="price">';a+="                                                <label>Giá bán:</label>";a+="                                                <span>"+f.PriceDisplay+"</span>";a+="                                            </div>";a+='                                            <div class="rowinfoauto highlight">';a+="                                                <label>Tình trạng xe</label>";a+="                                                <span>: "+f.SecondHandName+"</span>";a+="                                            </div>";a+='                                            <div class="rowinfoauto">';a+="                                                <label>Xuất xứ</label>";a+="                                                <span>: "+f.MadeInName+"</span>";a+="                                            </div>";a+='                                            <div class="rowinfoauto highlight">';a+="                                                <label>Kiểu dáng</label>";a+="                                                <span>: "+f.ClassificationName+"</span>";a+="                                            </div>";a+='                                            <div class="rowinfoauto">';a+="                                                <label>Năm sản xuất</label>";a+="                                                <span>: "+f.Year+"</span>";a+="                                            </div>";a+='                                            <div class="rowinfoauto highlight">';a+="                                                <label>Ngày đăng</label>";a+="                                                <span>: "+f.CreateDateDisplay+"</span>";a+="                                            </div>";a+='                                            <div class="rowinfoauto">';a+="                                                <label>Mã tin</label>";a+="                                                <span>: "+f.OwnerAutoID+"</span>";a+="                                            </div>";a+='                                            <div class="rowinfoauto">';a+='                                               <a class="btnaction" onclick=\'CommentOwnerAuto('+f.OwnerAutoID+")'>Bình luận</a>";if(b=="tcc"||b=="read"){a+='                                               <a class="btnaction" onclick=\'SaveOwnerAuto('+f.OwnerAutoID+")' >Lưu tin</a>";a+='                                               <a class="btnaction" onclick=\'HiddenOwnerAuto('+f.OwnerAutoID+")'>Ẩn tin</a>"}if(b=="saved"){a+='                                               <a class="btnaction" onclick=\'UnSaveOwnerAuto('+f.OwnerAutoID+")' >Hoàn tác</a>"}if(b=="hidden"){a+='                                               <a class="btnaction" onclick=\'UnHidenOwnerAuto('+f.OwnerAutoID+")' >Hoàn tác</a>"}a+="                                            </div>";a+="                                        </div>";a+="                                    </div>";a+='                                    <div class="desc">';a+='                                        <p class="description">'+f.Description+"</p>";a+="                                    </div>";a+='                                    <div style="height:10px;width:680px;float:left;"></div>';a+='                                    <div class="infotechv2">';if(g!=null&&g.length>0){count=g.length;numleft=0;numleft=Math.floor(count/2);numright=numleft;mod=count%2;numleft=numleft+mod;a+='                                        <div class="baseinfo">';a+='                                            <div class="titlebox">Thông số cơ bản</div>';a+='                                            <div class="colleft">';for(var d=0;d<numleft&&d<count;d++){a+='                                                <div class="row">';a+="                                                    <label >"+g[d].Text+"</label>";a+="                                                    <span>"+g[d].Value+"</span>";a+="                                                </div>"}a+="                                            </div>";a+='                                            <div class="colright">';for(var d=numleft;d<count;d++){a+='                                                <div class="row">';a+="                                                    <label >"+g[d].Text+"</label>";a+="                                                    <span>"+g[d].Value+"</span>";a+="                                                </div>"}a+="                                        </div> ";a+="                                    </div>"}a+="                                    </div>";a+='                                    <div class="contact">';a+='                                        <div class="contactinfo">';a+='                                            <h2 class="tit">Thông tin người bán</h2>';a+='                                            <div class="fullname">'+f.FullName+"</div>";a+='                                            <div class="mobile">'+f.Mobile+"</div>";a+='                                            <div class="location">'+f.Address+"</div>";a+="                                        </div>";a+="                                    </div>";a+="                                </div> ";a+='                                <div class="actiontcc">';a+='                                               <a class="btnaction" onclick=\'CommentOwnerAuto('+f.OwnerAutoID+")'>Bình luận</a>";if(b=="tcc"||b=="read"){a+='                                               <a class="btnaction" onclick=\'SaveOwnerAuto('+f.OwnerAutoID+")' >Lưu tin</a>";a+='                                               <a class="btnaction" onclick=\'HiddenOwnerAuto('+f.OwnerAutoID+")'>Ẩn tin</a>"}if(b=="saved"){a+='                                               <a class="btnaction" onclick=\'UnSaveOwnerAuto('+f.OwnerAutoID+")' >Bỏ lưu</a>"}if(b=="hidden"){a+='                                               <a class="btnaction" onclick=\'UnHidenOwnerAuto('+f.OwnerAutoID+")' >Bỏ ẩn</a>"}a+="                                </div>";a+="                            </div>";a+="                        </td>";a+="                    </tr>";a+="<script>";a+="$.fn.tabs = function () {";a+="        this.click(function (e) {            ";a+='            $(".tabs-tcc .active").removeClass("active");';a+='            $(".tabs-tcc #" + e.target.id).addClass("active");';a+='            $(".container-tcc .box").hide();';a+='            $(".container-tcc ." + e.target.id).show();';a+="            return false;";a+="        });";a+="    };";a+='    $(".tabs-tcc li").tabs();';a+="    $('.autodetail .tab li').tabautodetail();";a+="    $('.baseinfo .colleft label').syncWidth();";a+="    $('.baseinfo .colright label').syncWidth();";a+="<\/script>"}}});return a}function pagingAjax(a,b){$("#divPaging1").paging(b,{format:"[< ncnnn >]",onSelect:function(d){var c=$(".tabs-tcc .active").attr("id");if(c=="tcc-saved"){SearchSaved(d)}else{if(c=="tcc-hidden"){SearchHidden(d)}else{if(c=="tcc-read"){SearchRead(d)}else{if(c=="tcc-new"){SearchTcc(d)}}}}},setPage:a,perpage:20,onFormat:function(d){switch(d){case"block":var c="";if(this.value==this.page){c=' class="jp-current"'}return'<a href="javascript:void(0)" '+c+">"+this.value+"</a>&nbsp;";case"next":return'<a href="javascript:void(0)" class="next">&nbsp;</a>&nbsp;';case"prev":return'<a href="javascript:void(0)" class="preview">&nbsp;</a>&nbsp;';case"first":return'<a href="javascript:void(0)" class="first">&nbsp;</a>&nbsp;';case"last":return'<a href="javascript:void(0)" class="last">&nbsp;</a>'}}})}function SearchTcc(pageIndex){var totalRecord=0;var makeid=$("#MakeID").val();var modelid=$("#ModelID").val();var cityid=$("#CityID").val();var madein=$("#MadeIn").val()!=""?$("#MadeIn").val():0;var fueltype=$("#FuelType").val()!=""?$("#FuelType").val():0;var transmissionid=$("#Transmission").val()!=""?$("#Transmission").val():0;var classifications=$("#Classifications").val()!=""?$("#Classifications").val():0;var exteriorColor=$("#ExteriorColor").val()!=""?eval($("#ExteriorColor").val()):0;var interiorColor=$("#InteriorColor").val()!=""?eval($("#InteriorColor").val()):0;var numOfDoor=$("#NumOfDoor").val()!=""?$("#NumOfDoor").val():0;minprice=$("#minprice").val();if(minprice==0||minprice==""||minprice=="Từ"){minprice=minvalueprice}maxprice=$("#maxprice").val();if(maxprice==0||maxprice==""||maxprice=="Đến"){maxprice=maxvalueprice}minyear=$("#minyear").val();if(minyear==0||minyear==""||minyear=="Từ"){minyear=minvalueyear}maxyear=$("#maxyear").val();if(maxyear==0||maxyear==""||maxyear=="Đến"){maxyear=maxvalueyear}var bitValue=eval(transmissionid)+eval(madein)+eval(fueltype)+eval(classifications)+eval(numOfDoor);minprice=eval(minprice);maxprice=eval(maxprice);minyear=eval(minyear);maxyear=eval(maxyear);var colorValue=exteriorColor+"-"+interiorColor;var url="/member/ownerauto/search";var param={makeID:makeid,modelID:modelid,cityID:cityid,minPrice:minprice,maxPrice:maxprice,minYear:minyear,maxYear:maxyear,filterValue:bitValue,colorValue:colorValue,pageIndex:pageIndex};$.ajax({type:"POST",cache:false,url:url,data:param,async:false,success:function(data){if(data!=null&&data!=""){totalRecord=data[0].TotalRecord;var html="";html+=' <table class="tbltcc">';html+="                    <tr class='trhead'>";html+='                        <th class="title">Tên xe</th>';html+='                        <th class="price">Giá tiền (triệu)</th>';html+='                        <th class="km">Số km đã đi</th>';html+="                        <th class='ct'>Các thông số khác</th>";html+='                        <th class="date">Ngày đăng</th>';html+="                    </tr>";var trhightlight="";for(var i=0;i<data.length;i++){if(i%2==1){trhightlight="trhightlight"}else{trhightlight=""}var status=data[i].Status;var statusName="";if((status&(1<<1))==(1<<1)){statusName='<span class="approved">(Đã kiểm duyệt)</span>'}else{if((status&(1<<5))==(1<<5)){statusName='<span class="sold">(Đã bán)</span>'}else{if((status&(1<<7))==(1<<7)){statusName='<span class="issalon">(Tin môi giới)</span>'}else{if((status&(1<<6))==(1<<6)){statusName='<span class="notreal">(Tin không có thật)</span>'}}}}html+=' <tr data-id="'+data[i].OwnerAutoID+'" id="'+data[i].OwnerAutoID+'" class="'+trhightlight+'" >';html+='<td class="alleft">';html+=statusName;html+="<span class='nameDetail' id='nameDetail_"+data[i].OwnerAutoID+"'>"+data[i].MakeName+" "+data[i].ModelName+" - "+data[i].Year+"</span>";html+="</td>";html+="<td>";html+=data[i].Price4List;html+="</td>";html+="<td>";html+=data[i].KmDisplay;html+="</td>";html+='<td class="alleft">';html+=data[i].ExtendInfo;html+="</td>";html+="<td>";html+=data[i].CreateDateDisplay;html+="</td>";html+="</tr>"}html+=" </table>";$("#contenttccnew").html(html);$("#totalrecord").html(totalRecord+" tin");$(".tbltcc tr:not(.trhead)").click(function(){var ownerid=$(this).attr("data-id");var div_detail="detail_"+ownerid;if($("#"+div_detail).is(":visible")){$("#"+div_detail).remove();$("#nameDetail_"+ownerid).removeClass("tinccreadding")}else{var htmlDetail=OwnerAutoView(ownerid,"tcc");if(htmlDetail!=null&&htmlDetail!=""&&htmlDetail!=undefined){$(".detailownerauto").remove();$(this).after(htmlDetail);$(".nameDetail").removeClass("tinccreadding");$("#nameDetail_"+ownerid).addClass("tinccreadding");$("html, body").animate({scrollTop:$("#"+ownerid).offset().top},500)}else{$.fancybox.open({fitToView:false,href:"#limited",padding:0,closeBtn:true,autoCenter:false})}}})}else{$("#totalrecord").html("0 tin");$("#contenttccnew").html("<center style='color: red;margin: 10px auto;'>Không có tin chính chủ nào thỏa mãn yêu cầu tìm kiếm!</center>")}},complete:function(){$("html,body").animate({scrollTop:($(".listtcc").offset().top-40)},"fast")}});return totalRecord}function SearchSaved(a){totalRecord=0;var b="/member/ownerauto/ownerautosaved";var c={pageIndex:a};$.ajax({type:"POST",cache:false,url:b,data:c,async:false,success:function(j){if(j!=null&&j!=""){totalRecord=j[0].TotalRecord;var h="";h+=' <table class="tbltcc">';h+="                    <tr class='trhead'>";h+='                        <th class="title">Tên xe</th>';h+='                        <th class="price">Giá tiền (triệu)</th>';h+='                        <th class="km">Số km đã đi</th>';h+="                        <th class='ct'>Các thông số khác</th>";h+='                        <th class="date">Ngày đăng</th>';h+="                    </tr>";var d="";for(var g=0;g<j.length;g++){if(g%2==1){d="trhightlight"}else{d=""}var e=j[g].Status;var f="";if((e&(1<<1))==(1<<1)){f='<span class="approved">(Đã kiểm duyệt)</span>'}else{if((e&(1<<5))==(1<<5)){f='<span class="sold">(Đã bán)</span>'}else{if((e&(1<<7))==(1<<7)){f='<span class="issalon">(Tin môi giới)</span>'}else{if((e&(1<<6))==(1<<6)){f='<span class="notreal">(Tin không có thật)</span>'}}}}h+=' <tr data-id="'+j[g].OwnerAutoID+'" id="'+j[g].OwnerAutoID+'" class="'+d+'"> ';h+='<td class="alleft">';h+=f;h+="<span class='nameDetail' id='nameDetail_"+j[g].OwnerAutoID+"'>"+j[g].MakeName+" "+j[g].ModelName+" - "+j[g].Year+"</span>";h+="</td>";h+="<td>";h+=j[g].Price4List;h+="</td>";h+="<td>";h+=j[g].KmDisplay;h+="</td>";h+='<td class="alleft">';h+=j[g].ExtendInfo;h+="</td>";h+="<td>";h+=j[g].CreateDateDisplay;h+="</td>";h+="</tr>"}h+=" </table>";$("#contenttccsaved").html(h);$("#totalrecord").html(totalRecord+" tin")}else{$("#totalrecord").html("0 tin");$("#contenttccsaved").html("<center style='color: red;margin: 10px auto;'>Không có tin chính chủ nào thỏa mãn yêu cầu tìm kiếm!</center>")}$(".tbltcc tr:not(.trhead)").click(function(){var m=$(this).attr("data-id");var k="detail_"+m;if($("#"+k).is(":visible")){$("#"+k).remove();$("#nameDetail_"+m).removeClass("tinccreadding")}else{var l=OwnerAutoView(m,"saved");if(l!=null&&l!=""&&l!=undefined){$(".detailownerauto").remove();$(this).after(l);$(".nameDetail").removeClass("tinccreadding");$("#nameDetail_"+m).addClass("tinccreadding");$("html, body").animate({scrollTop:$("#"+m).offset().top},500)}}})},complete:function(){$("html,body").animate({scrollTop:($(".listtcc").offset().top-40)},"fast")}});return totalRecord}function SearchHidden(a){totalRecord=0;var b="/member/ownerauto/ownerautohidden";var c={pageIndex:a};$.ajax({type:"POST",cache:false,url:b,data:c,async:false,success:function(j){if(j!=null&&j!=""){totalRecord=j[0].TotalRecord;var h="";h+=' <table class="tbltcc">';h+="                    <tr class='trhead'>";h+='                        <th class="title">Tên xe</th>';h+='                        <th class="price">Giá tiền (triệu)</th>';h+='                        <th class="km">Số km đã đi</th>';h+="                        <th class='ct'>Các thông số khác</th>";h+='                        <th class="date">Ngày đăng</th>';h+="                    </tr>";var d="";for(var g=0;g<j.length;g++){if(g%2==1){d="trhightlight"}else{d=""}var e=j[g].Status;var f="";if((e&(1<<1))==(1<<1)){f='<span class="approved">(Đã kiểm duyệt)</span>'}else{if((e&(1<<5))==(1<<5)){f='<span class="sold">(Đã bán)</span>'}else{if((e&(1<<7))==(1<<7)){f='<span class="issalon">(Tin môi giới)</span>'}else{if((e&(1<<6))==(1<<6)){f='<span class="notreal">(Tin không có thật)</span>'}}}}h+=' <tr data-id="'+j[g].OwnerAutoID+'" id="'+j[g].OwnerAutoID+'" class="'+d+'"> ';h+='<td class="alleft">';h+=f;h+="<span class='nameDetail' id='nameDetail_"+j[g].OwnerAutoID+"'>"+j[g].MakeName+" "+j[g].ModelName+" - "+j[g].Year+"</span>";h+="</td>";h+="<td>";h+=j[g].Price4List;h+="</td>";h+="<td>";h+=j[g].KmDisplay;h+="</td>";h+='<td class="alleft">';h+=j[g].ExtendInfo;h+="</td>";h+="<td>";h+=j[g].CreateDateDisplay;h+="</td>";h+="</tr>"}h+=" </table>";$("#contenttcchidden").html(h);$("#totalrecord").html(totalRecord+" tin")}else{$("#totalrecord").html("0 tin");$("#contenttcchidden").html("<center style='color: red;margin: 10px auto;'>Không có tin chính chủ nào thỏa mãn yêu cầu tìm kiếm!</center>")}$(".tbltcc tr:not(.trhead)").click(function(){var m=$(this).attr("data-id");var k="detail_"+m;if($("#"+k).is(":visible")){$("#"+k).remove();$("#nameDetail_"+m).removeClass("tinccreadding")}else{var l=OwnerAutoView(m,"hidden");if(l!=null&&l!=""&&l!=undefined){$(".detailownerauto").remove();$(this).after(l);$(".nameDetail").removeClass("tinccreadding");$("#nameDetail_"+m).addClass("tinccreadding");$("html, body").animate({scrollTop:$("#"+m).offset().top},500)}}})},complete:function(){$("html,body").animate({scrollTop:($(".listtcc").offset().top-40)},"fast")}});return totalRecord}function SearchRead(a){totalRecord=0;var b="/member/ownerauto/ownerautoread";var c={pageIndex:a};$.ajax({type:"POST",cache:false,url:b,data:c,async:false,success:function(j){if(j!=null&&j!=""){totalRecord=j[0].TotalRecord;var h="";h+=' <table class="tbltcc">';h+="                    <tr class='trhead'>";h+='                        <th class="title">Tên xe</th>';h+='                        <th class="price">Giá tiền (triệu)</th>';h+='                        <th class="km">Số km đã đi</th>';h+="                        <th class='ct'>Các thông số khác</th>";h+='                        <th class="date">Ngày đăng</th>';h+="                    </tr>";var d="";for(var g=0;g<j.length;g++){if(g%2==1){d="trhightlight"}else{d=""}var e=j[g].Status;var f="";if((e&(1<<1))==(1<<1)){f='<span class="approved">(Đã kiểm duyệt)</span>'}else{if((e&(1<<5))==(1<<5)){f='<span class="sold">(Đã bán)</span>'}else{if((e&(1<<7))==(1<<7)){f='<span class="issalon">(Tin môi giới)</span>'}else{if((e&(1<<6))==(1<<6)){f='<span class="notreal">(Tin không có thật)</span>'}}}}h+=' <tr data-id="'+j[g].OwnerAutoID+'" id="'+j[g].OwnerAutoID+'" class="'+d+' "> ';h+='<td class="alleft">';h+=f;h+="<span class='nameDetail' id='nameDetail_"+j[g].OwnerAutoID+"'>"+j[g].MakeName+" "+j[g].ModelName+" - "+j[g].Year+"</span>";h+="</td>";h+="<td>";h+=j[g].Price4List;h+="</td>";h+="<td>";h+=j[g].KmDisplay;h+="</td>";h+='<td class="alleft">';h+=j[g].ExtendInfo;h+="</td>";h+="<td>";h+=j[g].CreateDateDisplay;h+="</td>";h+="</tr>"}h+=" </table>";$("#contenttccread").html(h);$("#totalrecord").html(totalRecord+" tin")}else{$("#totalrecord").html("0 tin");$("#contenttccread").html("<center style='color: red;margin: 10px auto;'>Không có tin chính chủ nào thỏa mãn yêu cầu tìm kiếm!</center>")}$(".tbltcc tr:not(.trhead)").click(function(){var m=$(this).attr("data-id");var k="detail_"+m;if($("#"+k).is(":visible")){$("#"+k).remove();$("#nameDetail_"+m).removeClass("tinccreadding")}else{var l=OwnerAutoView(m,"read");if(l!=null&&l!=""&&l!=undefined){$(".detailownerauto").remove();$(this).after(l);$(".nameDetail").removeClass("tinccreadding");$("#nameDetail_"+m).addClass("tinccreadding");$("html, body").animate({scrollTop:$("#"+m).offset().top},500)}}})},complete:function(){$("html,body").animate({scrollTop:($(".listtcc").offset().top-40)},"fast")}});return totalRecord}(function(a){a.widget("custom.combobox",{_create:function(){this.wrapper=a("<span>").addClass("cuscombobox").insertAfter(this.element);this.element.hide();this._createAutocomplete();this._createShowAllButton()},_createAutocomplete:function(){var c=this.element.children(":selected"),d=c.val()?c.text():"";this.input=a("<input>").appendTo(this.wrapper).val(d).addClass("inputselect").autocomplete({delay:0,minLength:0,source:a.proxy(this,"_source")}).tooltip({tooltipClass:"ui-state-highlight"});var b="";this.input.focus(function(e){b=a(this).val();if(b=="-- Chọn hãng sản xuất --"||b=="-- Chọn Model --"){a(this).val("");a(this).autocomplete("search","")}});this.input.blur(function(e){if(a(this).val()==""){a(this).val(b)}});this._on(this.input,{autocompleteselect:function(e,f){f.item.option.selected=true;this._trigger("select",e,{item:f.item.option})},autocompletechange:"_removeIfInvalid"})},_createShowAllButton:function(){var b=this.input,c=false;a("<span>").attr("tabIndex",-1).tooltip().appendTo(this.wrapper).addClass("selctbutton").button({icons:{primary:"ui-icon-triangle-1-s"},text:false}).removeClass("ui-corner-all").addClass("selctbutton").mousedown(function(){c=b.autocomplete("widget").is(":visible")}).click(function(){b.focus();if(c){return}b.autocomplete("search","")})},_source:function(c,b){var d=new RegExp(a.ui.autocomplete.escapeRegex(c.term),"i");b(this.element.children("option").map(function(){var m=a(this).text();var g=m.split(" ");var k=UnicodeToKoDau(m);var h=c.term.split(" ");for(var e=0;e<g.length;e++){var l=g[e];for(var f=0;f<h.length;f++){if((UnicodeToKoDau(h[f]).toLowerCase()==UnicodeToKoDau(l).toLowerCase())||(this.value&&(!c.term||d.test(k)))){return{label:m,value:m,option:this}}}}}))},_removeIfInvalid:function(d,f){if(f.item){return}var e=this.input.val(),b=e.toLowerCase(),c=false;this.element.children("option").each(function(){if(a(this).text().toLowerCase()===b){this.selected=c=true;return false}});if(c){return}this.input.data("ui-autocomplete").term=""},_destroy:function(){this.wrapper.remove();this.element.show()}})})(jQuery);$.fn.autocomplatemake=function(c,e,d,a,b){this.each(function(){var h=$(this).attr("data-id");var j=$(this);$(j).addClass("dvcombo");$(j).width(a);var f="/Make/JsonAllMake";var g="";g+='<input type="hidden" name="MakeID" id="MakeID" value="'+c+'" />';g+='<input type="hidden" name="ShortMakeName" id="ShortMakeName" value="'+d+'" />';g+='<input type="hidden" name="MakeName" id="MakeName"  value="'+e+'" />';g+='<select id="'+h+'">';g+="<option value='0' data-shortname=''>Hãng xe</option>";$.ajax({type:"POST",cache:false,url:f,success:function(m){if(m!=null&&m.length>0){for(var k=0;k<m.length;k++){var l="";if(c==m[k].MakeID){l="selected='selected'"}g+="<option value='"+m[k].MakeID+"' data-shortname='"+m[k].ShortMakeName+"' "+l+" >"+m[k].MakeName+"</option>"}g+="</select>"}$(j).html(g);$("#"+h).combobox({select:function(o,p){var n=p.item.value;var q=p.item.text;var r=p.item.getAttribute("data-shortname");$(j).find("#MakeID").val(n);$(j).find("#ShortMakeName").val(r);$(j).find("#MakeName").val(q);$("#divModelSearch").autocomplatemodel(n,0,"Dòng xe","",175,"")}})}})})};$.fn.autocomplatemodel=function(initValueMake,initValueModel,initTextModel,initShortModel,datawidth,className){this.each(function(){var objId=$(this).attr("data-id");var _this=$(this);$(_this).addClass("dvcombo");$(_this).width(datawidth);var url="/model/jsonallmodels/"+eval(initValueMake);var html="";html+='<input type="hidden" name="ModelID" id="ModelID" value="'+initValueModel+'" />';html+='<input type="hidden" name="ShortModelName" id="ShortModelName" value="'+initShortModel+'" />';html+='<input type="hidden" name="ModelName" id="ModelName"  value="'+initTextModel+'" />';html+='<select id="'+objId+'">';html+="<option value='0' data-shortname=''>Dòng xe</option>";var count=0;$.getJSON(url,function(data){if(data!=null&&data.length>0){count=data.length;for(var i=0;i<data.length;i++){var selected="";if(initValueModel==data[i].ModelID){selected="selected='selected'"}html+="<option value='"+data[i].ModelID+"' data-shortname='"+data[i].ShortModelName+"' "+selected+" >"+data[i].ModelName+"</option>"}html+="</select>"}$(_this).html(html);$("#"+objId).combobox({select:function(event,ui){var modelId=ui.item.value;var modelName=ui.item.text;var shortModelName=ui.item.getAttribute("data-shortname");$(_this).find("#ModelID").val(modelId);$(_this).find("#ShortModelName").val(shortModelName);$(_this).find("#ModelName").val(modelName)}});$(_this).click(function(){var makeID=$("#MakeID").val();if(count==0&&(makeID==0||makeID==null)){$(".ui-autocomplete").hide();alert("Bạn phải chọn hãng xe trước!")}})})})};$.fn.autocomplatecity=function(b,d,c,a,e){this.each(function(){var j=$(this).attr("data-id");var m=$(this);$(m).addClass("dvcombo");$(m).width(a);var l=allCityData;var h="";h+='<input type="hidden" name="CityID" id="CityID" value="'+b+'" />';h+='<input type="hidden" name="ShortCityName" id="ShortCityName" value="'+c+'" />';h+='<input type="hidden" name="CityName" id="CityName"  value="'+d+'" />';h+='<select id="'+j+'">';h+="<option value='0' data-shortname=''>Tỉnh/Tp</option>";if(l!=null&&l.length>0){for(var g=0;g<l.length;g++){var k="";if(b==l[g].CityID){k="selected='selected'"}h+="<option value='"+l[g].CityID+"' data-shortname='"+l[g].ShortCityName+"' "+k+" >"+l[g].CityName+"</option>"}h+="</select>"}$(m).html(h);var f=$("#"+j).combobox({select:function(p,q){var r=q.item.value;var n=q.item.text;var o=q.item.getAttribute("data-shortname");$(m).find("#CityID").val(r);$(m).find("#ShortCityName").val(o);$(m).find("#CityName").val(n)}})})};$.fn.SelectMake=function(initValueMake,initTextMake,initShortMake,datawidth,className){this.each(function(){var objId=$(this).attr("data-id");var _this=$(this);var url="/Make/JsonAllMake";var newArray=[];if(initTextMake==""){initTextMake="Hãng xe"}var data;var html="";html+='<div class="autocomplateselect selectmake">';html+='   <input class="inputsearch" value="'+initTextMake+'" id="MakeSearch" style="width:'+datawidth+"px;background-position:"+eval(datawidth+15)+'px 13px;" />';html+='   <input type="hidden" id="MakeID" name="MakeID" value="'+initValueMake+'" >';html+='   <input type="hidden" id="MakeName" name="MakeName" value="'+initTextMake+'" >';html+='   <input type="hidden" id="ShortMake" name="ShortMake" value="'+initShortMake+'" />';html+='   <div class="bounditemsearch" style="width:'+eval(datawidth+25)+'px">';html+='       <div class="first" style="width:'+eval(datawidth+25)+'px">';html+='       <div class="itemsearch"><a href="javascript:void(0)" rel="0" data-title="" >Hãng xe</a></div>';html+='       <div class="col col1"></div>';html+='       <a class="expandCol" id="expandCol">Xem toàn bộ »</a>';html+="       </div>";html+='       <div class="extend">';html+='       <div class="col col2"></div>';html+='       <div class="col col3"></div>';html+='       <div class="col col4"></div>';html+='       <div class="col col5"></div>';html+='       <div class="col col6"></div>';html+='       <div class="col col7"></div>';html+='       <a class="colapeCol" id="colapeCol">Thu gọn</a>';html+="       </div>";html+="   </div>";html+="   </div>";$(_this).html(html);$.ajax({type:"POST",cache:false,url:url,async:false,success:function(result){if(result!=null&&result.length>0){data=result;filter("")}}});function filter(text){if(text!=null&&text!=""){newArray=$.grep(data,function(e){return UnicodeToKoDau(e.MakeName).toLowerCase().indexOf(UnicodeToKoDau(text).toLowerCase())>=0})}else{newArray=data}var isExpand=false;var firstHtml="";var col2="",col3="",col4="",col5="",col6="",col7="";for(var i=0;i<newArray.length;i++){var item='<div class="itemsearch"><a href="javascript:void(0)" rel="'+newArray[i].ShortMakeName+'" data-value="'+newArray[i].MakeID+'" data-title="" >'+newArray[i].MakeName+"</a></div>";if(i<=14){firstHtml+=item}else{if(i<24){col2+=item}else{if(i>=24&&i<41){col3+=item}else{if(i>=41&&i<58){col4+=item}else{if(i>=58&&i<75){col5+=item}else{if(i>=75&&i<92){col6+=item}else{if(i>=92&&i<newArray.length){col7+=item}}}}}}}}$(".bounditemsearch .col1").html(firstHtml);$(".bounditemsearch .col2").html(col2);$(".bounditemsearch .col3").html(col3);$(".bounditemsearch .col4").html(col4);$(".bounditemsearch .col5").html(col5);$(".bounditemsearch .col6").html(col6);$(".bounditemsearch .col7").html(col7)}$("#"+objId).bind("input",function(){var inputVal=$("#"+objId).val();$(".bounditemsearch").show();$(".bounditemsearch .extend").hide();var self=this;inputVal=self.value;if(timer){clearTimeout(timer)}var timer=setTimeout(function(){filter(inputVal)},150)});$(".itemsearch a").click(function(){if($(this).attr("id")=="expandColumn"){return}if($(this).attr("id")=="colapeColumn"){return}var text=$(this).text();var shortname=$(this).attr("rel");var value=$(this).attr("data-value");$(".bounditemsearch a").removeClass("selected");$(this).addClass("selected");$("#MakeName").val(text);$("#ShortMake").val(shortname);$("#MakeID").val(value)});$("#expandCol").click(function(){$("#expandCol").hide();$(".bounditemsearch").css("width",950);$(".bounditemsearch .extend").show()});$("#colapeCol").click(function(){$("#expandCol").show();$(".bounditemsearch").css("width",datawidth+25);$(".bounditemsearch .extend").hide()})})};String.prototype.replaceAll=function(a,b){if(typeof a=="undefined"){return this}var c=this;return c.replace(new RegExp(a,"g"),b)};var BxhAutoCompleteCombo=function(obj,ShowDefaultCombo,ShowAllData,parameters){this.Defaults=$.extend({initIdentity:0,initName:"",initShortName:"",className:"",isRightAlign:false,height:29},parameters);var _this=$(obj);var _instance=this;var _isHaveMouseUpEvent;var _currentIdentity;var _timeOut;this.identityHiddenInput=$('<input type="hidden" class="targetObj"/>').attr("id",this.Defaults.IdentityInputID).attr("name",this.Defaults.IdentityInputID).val(this.Defaults.initIdentity);this.nameHiddenInput=$('<input type="hidden" />').attr("id",this.Defaults.NameInputID).attr("name",this.Defaults.NameInputID).val(this.Defaults.initName);this.shortNameHiddenInput=$('<input type="hidden" />').attr("id",this.Defaults.ShortNameInputID).attr("name",this.Defaults.ShortNameInputID).val(this.Defaults.initShortName);this.divCombo=$('<div class="bxh-dropdowlist"></div>');this.DropdownListTextInput=$('<input type="text" />').attr("id","bxh-dropdowlist-input").attr("name","bxh-dropdowlist-input").val(this.Defaults.initName);this.DropdownListDart=$('<span class="bxh-dropdowlist-dartdown"></span>');this.autocompleteContainer=$("<div></div>").addClass("autocomplete-container").addClass(this.Defaults.autocompleteContainerClassName).attr("id","autocompleteContainer"+_this.attr("id"));this.autocompleteListAll;this.InitHTML=function(){_instance.Dispone();$(_this).addClass("default-auto-complete-combo");$(_this).addClass(parameters.className);_instance.identityHiddenInput.appendTo(_this);_instance.nameHiddenInput.appendTo(_this);_instance.shortNameHiddenInput.appendTo(_this);_instance.divCombo.appendTo(_this);_instance.DropdownListTextInput.appendTo(_instance.divCombo).wrap('<span class="bxh-dropdowlist-text"></span>');_instance.DropdownListDart.appendTo(_instance.divCombo);_currentIdentity=this.Defaults.initIdentity;$("body").append(_instance.autocompleteContainer);if(parameters.functionOnFocusWhenHaveValue!=null){parameters.functionOnFocusWhenHaveValue()}};this.Dispone=function(){$(_this).html("");$("#autocompleteContainer"+_this.attr("id")).remove()};this.DropdownListDart.on("click",function(){if(_instance.autocompleteContainer==null||_instance.autocompleteContainer.css("display")=="none"){_instance.DropdownListTextInput.focus()}else{_instance.HideDefaultCombo()}});this.HideDefaultCombo=function(){if(_instance.autocompleteListAll!=null){_instance.autocompleteListAll.getNiceScroll().remove()}_instance.autocompleteContainer.hide();DestroyMouseUp();if(_instance.IsDefaultText()){_instance.DropdownListTextInput.val(_instance.Defaults.defaultText)}};this.IsDefaultText=function(){if(_instance.DropdownListTextInput.val()==_instance.Defaults.defaultText||_instance.DropdownListTextInput.val()==""){return true}else{return false}};var FillData2Combo=function(text,value,shortname){if(value==null||eval(value)==0){_instance.DropdownListTextInput.val(_instance.Defaults.defaultText);_instance.identityHiddenInput.val("");_instance.nameHiddenInput.val("");_instance.shortNameHiddenInput.val("");return}if(value!=null&&eval(value)!=0){_instance.identityHiddenInput.val(value)}if(text!=null){_instance.DropdownListTextInput.val(text);_instance.nameHiddenInput.val(text)}if(shortname!=null){_instance.shortNameHiddenInput.val(shortname)}};var FinishCombo=function(text,value,shortname){var isChange=false;if(value!=null&&_currentIdentity!=value){isChange=true}FillData2Combo(text,value,shortname);_instance.HideDefaultCombo();_currentIdentity=value;if(parameters.functionOnChange!=null&&isChange){parameters.functionOnChange()}};var FormatText=function(html){return html.replaceAll("<span>","").replaceAll("</span>","").replaceAll('<span class="gray">',"")};var ItemSelect=function(item){var text=FormatText(item.html());var value=item.attr("rel");var shortname=item.attr("data-title");FillData2Combo(text,value,shortname)};this.ItemClick=function(item){var text=FormatText($(item).html());var value=$(item).attr("rel");var shortname=$(item).attr("data-title");FinishCombo(text,value,shortname)};this.DropdownListTextInput.on("keydown",function(event){if(event.which==9){if(_instance.autocompleteListAll.find("li").length==2&&_instance.autocompleteListAll.find("li:eq(0) a").text().replaceAll("<span>","").replaceAll("</span>","").toLowerCase()==_instance.DropdownListTextInput.val().toLowerCase()){_instance.autocompleteListAll.find("li:eq(0) a").click()}else{for(i=0;i<_instance.autocompleteListAll.find("li").length;i++){if(_instance.autocompleteListAll.find("li:eq("+i+")").hasClass("current-choose")){_instance.autocompleteListAll.find("li:eq("+i+") a").click();return}}}}else{if(event.which==13){for(i=0;i<_instance.autocompleteListAll.find("li").length;i++){if(_instance.autocompleteListAll.find("li:eq("+i+")").hasClass("current-choose")){_instance.autocompleteListAll.find("li:eq("+i+") a").click();return}}_instance.HideDefaultCombo()}else{if(event.which==38){if(_instance.autocompleteContainer.css("display")!="none"){var isHaveOneChoose=false;for(i=0;i<_instance.autocompleteListAll.find("li").length;i++){if(_instance.autocompleteListAll.find("li:eq("+i+")").hasClass("current-choose")){if(i-1>=0){_instance.autocompleteListAll.find("li:eq("+i+")").removeClass("current-choose");_instance.autocompleteListAll.find("li:eq("+eval(i-1)+")").addClass("current-choose")}break}}ItemSelect(_instance.autocompleteListAll.find("li.current-choose a"))}}else{if(event.which==40){if(_instance.autocompleteContainer.css("display")!="none"){var isHaveOneChoose=false;for(i=0;i<_instance.autocompleteListAll.find("li").length;i++){if(_instance.autocompleteListAll.find("li:eq("+i+")").hasClass("current-choose")){if(i+1<_instance.autocompleteListAll.find("li").length){_instance.autocompleteListAll.find("li:eq("+i+")").removeClass("current-choose");_instance.autocompleteListAll.find("li:eq("+eval(i+1)+")").addClass("current-choose");isHaveOneChoose=true}break}}if(!isHaveOneChoose){_instance.autocompleteListAll.find("li:eq(0)").addClass("current-choose")}ItemSelect(_instance.autocompleteListAll.find("li.current-choose a"))}}}}}});this.DropdownListTextInput.on("keyup",function(event){var inp=String.fromCharCode(event.keyCode);if(_instance.IsDefaultText()&&event.which==13){FillData2Combo("",0,"")}if(/[a-zA-Z0-9-_ ]/.test(inp)||event.which==8){clearTimeout(_timeOut);_timeOut=setTimeout(function(){ShowDefaultCombo();InitMouseUp()},1000)}});this.DropdownListTextInput.on("focus",function(event){setTimeout(function(){if(_instance.Defaults.MakeID==null||_instance.Defaults.MakeID==0){if(parameters.functionOnFocusWhenDefaulValue!=null){parameters.functionOnFocusWhenDefaulValue()}}if(_instance.autocompleteContainer.css("display")=="none"){if(parameters.functionOnFocusWhenDefaulValue!=null&&(_instance.Defaults.MakeID==null||_instance.Defaults.MakeID==0)){return}ShowDefaultCombo();InitMouseUp()}if(_instance.IsDefaultText()){_instance.DropdownListTextInput.val("")}},10)});this.autocompleteContainer.on("click","a.combo-item",function(){_instance.ItemClick(this)});this.autocompleteContainer.on("click","#comboItemViewAll",function(){_instance.HideDefaultCombo();ShowAllData();InitMouseUp()});this.ShowScroll=function(){_instance.autocompleteListAll.niceScroll({cursorcolor:"#1260ab",cursoropacitymin:0.3,background:"#d7d7d7",cursorborder:"0",autohidemode:false,cursorminheight:30,cursorborderradius:4,cursorwidth:9,horizrailenabled:false})};this.HideScroll=function(){if(_instance.autocompleteListAll!=null&&_instance.autocompleteListAll.getNiceScroll().length==1){_instance.autocompleteListAll.getNiceScroll().remove()}};var DestroyMouseUp=function(){_isHaveMouseUpEvent=false};var InitMouseUp=function(){_isHaveMouseUpEvent=true};$(document).mouseup(function(e){if(!_isHaveMouseUpEvent){return}if(!_instance.DropdownListTextInput.is(e.target)&&!_instance.DropdownListDart.is(e.target)&&!_instance.autocompleteContainer.is(e.target)&&(_instance.autocompleteListAll!=null&&$(_instance.autocompleteListAll.getNiceScroll()).attr("id")!=$(e.target).attr("id"))&&_instance.autocompleteContainer.has(e.target).length===0&&_instance.autocompleteContainer.css("display")!="none"){FinishCombo(_instance.nameHiddenInput.val(),_instance.identityHiddenInput.val(),_instance.shortNameHiddenInput.val())}})};$.fn.BxhAutoCompleteMakeCombo=function(a){return this.each(function(){var c=$(this);var b=this;this.ShowDefaultCombo=function(){var d;if(b.bxhAutoCompleteCombo.IsDefaultText()){d=b.bxhAutoCompleteCombo.Defaults.urlSearchByName+"allmake"}else{d=b.bxhAutoCompleteCombo.Defaults.urlSearchByName+b.bxhAutoCompleteCombo.DropdownListTextInput.val()}$.ajax({type:"POST",cache:false,url:d,success:function(e){if(e!=null){b.DrawExpandCombo(e);b.bxhAutoCompleteCombo.ShowScroll();b.bxhAutoCompleteCombo.autocompleteContainer.show();b.bxhAutoCompleteCombo.autocompleteContainer.css("top",c.offset().top+b.bxhAutoCompleteCombo.Defaults.height);if(b.bxhAutoCompleteCombo.Defaults.isRightAlign){b.bxhAutoCompleteCombo.autocompleteContainer.css("left",c.offset().left-b.bxhAutoCompleteCombo.autocompleteContainer.width()+c.width())}else{b.bxhAutoCompleteCombo.autocompleteContainer.css("left",c.offset().left)}}}})};this.ShowAllData=function(){var d=b.bxhAutoCompleteCombo.Defaults.urlSearchByName+"allmake";$.ajax({type:"POST",cache:false,url:d,success:function(e){if(e!=null){b.DrawExpandCombo(e);b.bxhAutoCompleteCombo.ShowScroll();b.bxhAutoCompleteCombo.autocompleteContainer.show();b.bxhAutoCompleteCombo.autocompleteContainer.css("top",c.offset().top+b.bxhAutoCompleteCombo.Defaults.height);if(b.bxhAutoCompleteCombo.Defaults.isRightAlign){b.bxhAutoCompleteCombo.autocompleteContainer.css("left",c.offset().left-b.bxhAutoCompleteCombo.autocompleteContainer.width()+c.width())}else{b.bxhAutoCompleteCombo.autocompleteContainer.css("left",c.offset().left)}}}})};this.DrawExpandCombo=function(h){b.bxhAutoCompleteCombo.HideScroll();b.bxhAutoCompleteCombo.autocompleteContainer.html("");var g=$("<div></div>").addClass("autocomplete-container-default");b.bxhAutoCompleteCombo.autocompleteListAll=$("<div></div>").addClass("autocomplete-list-all");var d="";d+="        <ul>";for(var e=0;e<h.length;e++){d+='            <li><a class="combo-item" href="javascript:void(0)" data-title="'+h[e].ShortMakeName+'" rel="'+h[e].MakeID+'">'+h[e].MakeName+"</a></li>"}if(!b.bxhAutoCompleteCombo.IsDefaultText()){d+='            <li class="expand"><a id="comboItemViewAll" href="javascript:void(0)" data-title="expand" rel="0" >Xem toàn bộ »</a></li>'}d+="        </ul>";$(d).appendTo(b.bxhAutoCompleteCombo.autocompleteListAll);var f="";f+='    <div class="autocomplete-list-favorite">';f+='        <div class="autocomplete-list-favorite-caption">Một số hãng tiêu biểu</div>';f+='        <ul class="autocomplete-list-favorite-col1">';f+='            <li><div class="logomake"><span class="center"></span><img src=\'https://img1.banxehoi.com/Static/Images/logoacura.png\' /></div><a class="combo-item" href="javascript:void(0)" data-title="acura" rel="1">Acura</a></li>';f+='            <li><div class="logomake"><span class="center"></span><img src=\'https://img1.banxehoi.com/Static/Images/logoaudi.png\' /></div><a class="combo-item" href="javascript:void(0)" data-title="audi" rel="5">Audi</a></li>';f+='            <li><div class="logomake"><span class="center"></span><img src=\'https://img1.banxehoi.com/Static/Images/logobmw.png\' /></div><a class="combo-item" href="javascript:void(0)" data-title="bmw" rel="7">BMW</a></li>';f+='            <li><div class="logomake"><span class="center"></span><img src=\'https://img1.banxehoi.com/Static/Images/logochevrolet.png\' /></div><a class="combo-item" href="javascript:void(0)" data-title="chevrolet" rel="13">Chevrolet</a></li>';f+='            <li><div class="logomake"><span class="center"></span><img src=\'https://img1.banxehoi.com/Static/Images/logoford1.png\' /></div><a class="combo-item" href="javascript:void(0)" data-title="ford" rel="22">Ford</a></li>';f+='            <li><div class="logomake"><span class="center"></span><img src=\'https://img1.banxehoi.com/Static/Images/logohonda.png\' /></div><a class="combo-item" href="javascript:void(0)" data-title="honda" rel="28">Honda</a></li>';f+='            <li><div class="logomake"><span class="center"></span><img src=\'https://img1.banxehoi.com/Static/Images/logohyundai.png\' /></div><a class="combo-item" href="javascript:void(0)" data-title="hyundai" rel="30">Hyundai</a></li>';f+='            <li><div class="logomake"><span class="center"></span><img src=\'https://img1.banxehoi.com/Static/Images/logokia.png\' /></div><a class="combo-item" href="javascript:void(0)" data-title="kia" rel="35">Kia</a></li>';f+='            <li><div class="logomake"><span class="center"></span><img src=\'https://img1.banxehoi.com/Static/Images/logolandrover.png\' /></div><a class="combo-item" href="javascript:void(0)" data-title="landrover" rel="39">LandRover</a></li>';f+="        </ul>";f+='        <ul class="autocomplete-list-favorite-col2">';f+='            <li><div class="logomake"><span class="center"></span><img src=\'https://img1.banxehoi.com/Static/Images/logolexus.png\' /></div><a class="combo-item" href="javascript:void(0)" data-title="lexus" rel="40">Lexus</a></li>';f+='            <li><div class="logomake"><span class="center"></span><img src=\'https://img1.banxehoi.com/Static/Images/logomazda.png\' /></div><a class="combo-item" href="javascript:void(0)" data-title="mazda" rel="48">Mazda</a></li>';f+='            <li><div class="logomake"><span class="center"></span><img src=\'https://img1.banxehoi.com/Static/Images/logomercedes.png\' /></div><a class="combo-item" href="javascript:void(0)" data-title="mercedes-benz" rel="92">Mercedes-Benz</a></li>';f+='            <li><div class="logomake"><span class="center"></span><img src=\'https://img1.banxehoi.com/Static/Images/logonissan.png\' /></div><a class="combo-item" href="javascript:void(0)" data-title="nissan" rel="55">Nissan</a></li>';f+='            <li><div class="logomake"><span class="center"></span><img src=\'https://img1.banxehoi.com/Static/Images/logosuzuki.png\' /></div><a class="combo-item" href="javascript:void(0)" data-title="suzuki" rel="76">Suzuki</a></li>';f+='            <li><div class="logomake"><span class="center"></span><img src=\'https://img1.banxehoi.com/Static/Images/logothaco.png\' /></div><a class="combo-item" href="javascript:void(0)" data-title="thaco" rel="78">Thaco</a></li>';f+='            <li><div class="logomake"><span class="center"></span><img src=\'https://img1.banxehoi.com/Static/Images/logotoyota.png\' /></div><a class="combo-item" href="javascript:void(0)" data-title="toyota" rel="79">Toyota</a></li>';f+='            <li><div class="logomake"><span class="center"></span><img src=\'https://img1.banxehoi.com/Static/Images/logovolkswagen.png\' /></div><a class="combo-item" href="javascript:void(0)" data-title="volkswagen" rel="81">Volkswagen</a></li>';f+="        </ul>";f+="    </div>";if(b.bxhAutoCompleteCombo.Defaults.isRightAlign){$(f).appendTo(g);b.bxhAutoCompleteCombo.autocompleteListAll.appendTo(g);$(g).appendTo(b.bxhAutoCompleteCombo.autocompleteContainer)}else{b.bxhAutoCompleteCombo.autocompleteListAll.appendTo(g);$(f).appendTo(g);$(g).appendTo(b.bxhAutoCompleteCombo.autocompleteContainer)}};this.bxhAutoCompleteCombo=new BxhAutoCompleteCombo(this,this.ShowDefaultCombo,this.ShowAllData,a);this.bxhAutoCompleteCombo.InitHTML()})};$.fn.BxhAutoCompleteModelCombo=function(a){this.each(function(){var c=$(this);var b=this;this.ShowDefaultCombo=function(){if(b.bxhAutoCompleteCombo.Defaults.MakeID==null||b.bxhAutoCompleteCombo.Defaults.MakeID==0){return}var d;if(b.bxhAutoCompleteCombo.IsDefaultText()){d=b.bxhAutoCompleteCombo.Defaults.urlSearchByName+b.bxhAutoCompleteCombo.Defaults.MakeID+"/allmodel"}else{d=b.bxhAutoCompleteCombo.Defaults.urlSearchByName+b.bxhAutoCompleteCombo.Defaults.MakeID+"/"+b.bxhAutoCompleteCombo.DropdownListTextInput.val()}$.ajax({type:"POST",cache:false,url:d,success:function(e){if(e!=null){b.DrawExpandCombo(e);b.bxhAutoCompleteCombo.ShowScroll();b.bxhAutoCompleteCombo.autocompleteContainer.show();b.bxhAutoCompleteCombo.autocompleteContainer.css("top",c.offset().top+b.bxhAutoCompleteCombo.Defaults.height);b.bxhAutoCompleteCombo.autocompleteContainer.css("left",c.offset().left)}}})};this.ShowAllData=function(){if(b.bxhAutoCompleteCombo.Defaults.MakeID==null||b.bxhAutoCompleteCombo.Defaults.MakeID==0){return}var d=b.bxhAutoCompleteCombo.Defaults.urlSearchByName+b.bxhAutoCompleteCombo.Defaults.MakeID+"/allmodel";$.ajax({type:"POST",cache:false,url:d,success:function(e){if(e!=null){b.DrawExpandCombo(e);b.bxhAutoCompleteCombo.ShowScroll();b.bxhAutoCompleteCombo.autocompleteContainer.show();b.bxhAutoCompleteCombo.autocompleteContainer.css("top",c.offset().top+b.bxhAutoCompleteCombo.Defaults.height);b.bxhAutoCompleteCombo.autocompleteContainer.css("left",c.offset().left)}}})};this.DrawExpandCombo=function(g){b.bxhAutoCompleteCombo.HideScroll();b.bxhAutoCompleteCombo.autocompleteContainer.html("");var f=$("<div></div>").addClass("autocomplete-container-default");b.bxhAutoCompleteCombo.autocompleteListAll=$("<div></div>").addClass("autocomplete-list-all");var d="";d+="        <ul>";for(var e=0;e<g.length;e++){d+='            <li><a class="combo-item" href="javascript:void(0)" data-title="'+g[e].ShortModelName+'" rel="'+g[e].ModelID+'">'+g[e].ModelName+"</a></li>"}if(!b.bxhAutoCompleteCombo.IsDefaultText()){d+='            <li class="expand"><a id="comboItemViewAll" href="javascript:void(0)" data-title="expand" rel="0" >Xem toàn bộ »</a></li>'}d+="        </ul>";$(d).appendTo(b.bxhAutoCompleteCombo.autocompleteListAll);b.bxhAutoCompleteCombo.autocompleteListAll.appendTo(f);$(f).appendTo(b.bxhAutoCompleteCombo.autocompleteContainer)};this.bxhAutoCompleteCombo=new BxhAutoCompleteCombo(this,this.ShowDefaultCombo,this.ShowAllData,a);this.bxhAutoCompleteCombo.InitHTML()})};$.fn.BxhAutoCompleteCityCombo=function(a){return this.each(function(){var c=$(this);var b=this;this.ShowDefaultCombo=function(){var d;if(b.bxhAutoCompleteCombo.IsDefaultText()){d=b.bxhAutoCompleteCombo.Defaults.urlSearchByName+"allcity"}else{d=b.bxhAutoCompleteCombo.Defaults.urlSearchByName+b.bxhAutoCompleteCombo.DropdownListTextInput.val()}$.ajax({type:"POST",cache:false,url:d,success:function(e){if(e!=null){b.DrawExpandCombo(e);b.bxhAutoCompleteCombo.ShowScroll();b.bxhAutoCompleteCombo.autocompleteContainer.show();b.bxhAutoCompleteCombo.autocompleteContainer.css("top",c.offset().top+b.bxhAutoCompleteCombo.Defaults.height);if(b.bxhAutoCompleteCombo.Defaults.isRightAlign){b.bxhAutoCompleteCombo.autocompleteContainer.css("left",c.offset().left-b.bxhAutoCompleteCombo.autocompleteContainer.width()+c.width())}else{b.bxhAutoCompleteCombo.autocompleteContainer.css("left",c.offset().left)}}}})};this.ShowAllData=function(){var d=b.bxhAutoCompleteCombo.Defaults.urlSearchByName+"allcity";$.ajax({type:"POST",cache:false,url:d,success:function(e){if(e!=null){b.DrawExpandCombo(e);b.bxhAutoCompleteCombo.ShowScroll();b.bxhAutoCompleteCombo.autocompleteContainer.show();b.bxhAutoCompleteCombo.autocompleteContainer.css("top",c.offset().top+b.bxhAutoCompleteCombo.Defaults.height);if(b.bxhAutoCompleteCombo.Defaults.isRightAlign){b.bxhAutoCompleteCombo.autocompleteContainer.css("left",c.offset().left-b.bxhAutoCompleteCombo.autocompleteContainer.width()+c.width())}else{b.bxhAutoCompleteCombo.autocompleteContainer.css("left",c.offset().left)}}}})};this.DrawExpandCombo=function(j){b.bxhAutoCompleteCombo.HideScroll();b.bxhAutoCompleteCombo.autocompleteContainer.html("");var g=$("<div></div>").addClass("autocomplete-container-default");b.bxhAutoCompleteCombo.autocompleteListAll=$("<div></div>").addClass("autocomplete-list-all");var d="";if(!b.bxhAutoCompleteCombo.IsDefaultText()){d+='            <div class="allcity"><a id="comboItemViewAll" class="combo-item" style="color: #1260ab;font-weight: bold; padding-left: 10px;" href="javascript:void(0)" data-title="expand" rel="0" >Toàn quốc</a></div>'}var k='<div class="city-area"><ul>';var h='<div class="city-area"><ul>';var f='<div class="city-area"><ul>';if(a.isHaveArea){k+='            <li><a class="combo-item" style="color: #1260ab;font-weight: bold;" href="javascript:void(0)" data-title="mien-bac" rel="10">Miền Bắc</a></li>';h+='            <li><a class="combo-item" style="color: #1260ab;font-weight: bold;" href="javascript:void(0)" data-title="mien-trung" rel="11">Miền Trung</a></li>';f+='            <li><a class="combo-item" style="color: #1260ab;font-weight: bold;" href="javascript:void(0)" data-title="mien-nam" rel="12">Miền Nam</a></li>'}for(var e=0;e<j.length;e++){if(j[e].Area==1){k+='            <li><a class="combo-item" href="javascript:void(0)" data-title="'+j[e].ShortCityName+'" rel="'+j[e].CityID+'">'+j[e].CityName+"</a></li>"}if(j[e].Area==2){h+='            <li><a class="combo-item" href="javascript:void(0)" data-title="'+j[e].ShortCityName+'" rel="'+j[e].CityID+'">'+j[e].CityName+"</a></li>"}if(j[e].Area==3){f+='            <li><a class="combo-item" href="javascript:void(0)" data-title="'+j[e].ShortCityName+'" rel="'+j[e].CityID+'">'+j[e].CityName+"</a></li>"}}k+="</div>";h+="</div>";f+="</div>";$(d).appendTo(b.bxhAutoCompleteCombo.autocompleteListAll);$(k).appendTo(b.bxhAutoCompleteCombo.autocompleteListAll);$(h).appendTo(b.bxhAutoCompleteCombo.autocompleteListAll);$(f).appendTo(b.bxhAutoCompleteCombo.autocompleteListAll);b.bxhAutoCompleteCombo.autocompleteListAll.appendTo(g);$(g).appendTo(b.bxhAutoCompleteCombo.autocompleteContainer)};this.bxhAutoCompleteCombo=new BxhAutoCompleteCombo(this,this.ShowDefaultCombo,this.ShowAllData,a);this.bxhAutoCompleteCombo.InitHTML()})};var getpricename=function(b,a){if(b==minvalueprice&&a==maxvalueprice){return"Giá"}else{if(b==minvalueprice&&a!=maxvalueprice){return"Dưới "+GetMoneyText2(a*1000000)}else{if(b!=minvalueprice&&a==maxvalueprice){return"Trên "+GetMoneyText2(b*1000000)}else{return GetMoneyText2(b*1000000)+" - "+GetMoneyText2(a*1000000)}}}};$.fn.BxhPriceCombo=function(parameters){var defaults={initMinValue:(parameters==null||parameters.initMinValue==null)?null:parameters.initMinValue,initMaxValue:(parameters==null||parameters.initMaxValue==null)?null:parameters.initMaxValue,datawidth:(parameters==null||parameters.datawidth==null)?null:parameters.datawidth,type:(parameters==null||parameters.type==null)?null:parameters.type,minpriceObjID:(parameters==null||parameters.minpriceObjID==null)?"minprice":parameters.minpriceObjID.replace(".","\\."),maxpriceObjID:(parameters==null||parameters.maxpriceObjID==null)?"maxprice":parameters.maxpriceObjID.replace(".","\\.")};this.each(function(){var objId=$(this).attr("id");var htmlbefore='<div style="width:'+defaults.datawidth+'px" class="dvcombo"><span class="combotext" style="width:'+eval(defaults.datawidth-28)+'px">'+getpricename(defaults.initMinValue,defaults.initMaxValue)+'</span><span class="dartdown"></span></div>';if(defaults.type==2){$("#"+objId).html(htmlbefore+'<div class="pricecombogridcontainer pricecombogridcontainerright combogridcontainer" style="display:none;width:125px;" >')}else{$("#"+objId).html(htmlbefore+'<div class="pricecombogridcontainer pricecombogridcontainerv2 combogridcontainer" style="display:none;width:153px;" >')}if(defaults.initMinValue==minvalueprice&&defaults.initMaxValue==maxvalueprice){defaults.initMinValue="";defaults.initMaxValue=""}var htmlafter="";var inputWidth="";if(defaults.type==2){inputWidth=";width: 38px"}htmlafter+='    <div class="dualbox" >';htmlafter+='        <input type="text" id="'+defaults.minpriceObjID.replace("\\","")+'" name="'+defaults.minpriceObjID.replace("\\","")+'" maxlength="5" style="'+inputWidth+'" class="priceOnly" placeholder="Từ" value="'+defaults.initMinValue+'">';htmlafter+='        <input type="text" id="'+defaults.maxpriceObjID.replace("\\","")+'" name="'+defaults.maxpriceObjID.replace("\\","")+'" maxlength="5" style="text-align: left'+inputWidth+'" class="priceOnly" placeholder="Đến" value="'+defaults.initMaxValue+'">';htmlafter+="    </div>";htmlafter+="    <div class='readprice'></div>";var colwidth="";if(defaults.type==2){colwidth=' style="width: 52px !important"'}htmlafter+='    <div id="combogridcontainer_col1" class="combogridcontainer_col pricecolleft" '+colwidth+">";var htmlSelected=(defaults.initMinValue==0)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkprice" href="javascript:void(0)" '+htmlSelected+' rel="0" >0<sup class="linkprice">tr</sup></a></div>';htmlSelected=(defaults.initMinValue==50)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkprice" href="javascript:void(0)" '+htmlSelected+' rel="50" >50<sup class="linkprice">tr</sup></a></div>';htmlSelected=(defaults.initMinValue==100)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkprice" href="javascript:void(0)" '+htmlSelected+' rel="100" >100<sup class="linkprice">tr</sup></a></div>';htmlSelected=(defaults.initMinValue==150)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkprice" href="javascript:void(0)" '+htmlSelected+' rel="150" >150<sup class="linkprice">tr</sup></a></div>';htmlSelected=(defaults.initMinValue==200)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkprice" href="javascript:void(0)" '+htmlSelected+' rel="200" >200<sup class="linkprice">tr</sup></a></div>';for(var i=3;i<=9;i++){var p=i*100;htmlSelected=(defaults.initMinValue==p)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkprice" href="javascript:void(0)" '+htmlSelected+' rel="'+p+'" >'+p+'<sup class="linkprice">tr</sup></a></div>'}htmlSelected=(defaults.initMinValue==1000)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkprice" href="javascript:void(0)" '+htmlSelected+' rel="1000" >1<sup class="linkprice">tỷ</sup> trở lên</a></div>';htmlafter+="    </div>";htmlafter+='    <div id="combogridcontainer_col2" class="combogridcontainer_col pricecolright" '+colwidth+">";htmlSelected=(defaults.initMinValue==50)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkpricecolright" href="javascript:void(0)" '+htmlSelected+' rel="50" >50<sup class="linkprice">tr</sup></a></div>';htmlSelected=(defaults.initMinValue==100)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkpricecolright" href="javascript:void(0)" '+htmlSelected+' rel="100" >100<sup class="linkprice">tr</sup></a></div>';htmlSelected=(defaults.initMinValue==150)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkpricecolright" href="javascript:void(0)" '+htmlSelected+' rel="150" >150<sup class="linkprice">tr</sup></a></div>';htmlSelected=(defaults.initMinValue==200)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkpricecolright" href="javascript:void(0)" '+htmlSelected+' rel="200" >200<sup class="linkprice">tr</sup></a></div>';for(var i=3;i<=9;i++){var p=i*100;htmlSelected=(defaults.initMinValue==p)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkpricecolright" href="javascript:void(0)" '+htmlSelected+' rel="'+p+'" >'+p+'<sup class="linkprice">tr</sup></a></div>'}htmlSelected=(defaults.initMinValue>1000)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkpricecolright" href="javascript:void(0)" '+htmlSelected+' rel="'+maxvalueprice+'" > Trên 1<sup class="linkprice">tỷ</sup></a></div>';htmlafter+="    </div>";$(".pricecombogridcontainer").html(htmlafter);jQuery(".priceOnly").keyup(function(){this.value=this.value.replace(/[^0-9]/g,"");var text;if(this.value==""){text="0"}else{var milionValue=eval($(this).val().replace(/\b0(\d+)\b/g,"$1"));text=milionValue}$(this).html(text)});$("#"+objId+" .dvcombo").click(function(){if($(this).hasClass("segmentedsectionactive")){finishprice()}else{$(this).addClass("segmentedsectionactive");$(".pricecombogridcontainer").show();$("#"+defaults.minpriceObjID).focus();if(defaults.type==10){$(".pricecombogridcontainer").css("top","220px");$(".pricecombogridcontainer").css("left","")}else{if(defaults.type==0){$(".pricecombogridcontainer").css("top","159px");$(".pricecombogridcontainer").css("left","27px")}else{$(".pricecombogridcontainer").css("top",$("#"+objId).offset().top+29);$(".pricecombogridcontainer").css("left",$("#"+objId).offset().left)}}$(document).mouseup(function(e){if(e.target.id==defaults.minpriceObjID){return}if(e.target.id==defaults.maxpriceObjID){return}if($(e.target).hasClass("linkprice")){return}if($(e.target).hasClass("linkpricecolright")){return}var container=$("#"+objId);if(!container.is(e.target)&&container.has(e.target).length===0&&$("#"+objId+" .dvcombo").hasClass("segmentedsectionactive")){finishprice()}})}});$("#"+defaults.minpriceObjID).focus(function(){$(this).addClass("active");$("#"+defaults.maxpriceObjID).removeClass("active");$(".pricecolleft").show();$(".pricecolright").hide();readprice()});$("#"+defaults.maxpriceObjID).focus(function(){$(this).addClass("active");$("#"+defaults.minpriceObjID).removeClass("active");$(".pricecolleft").hide();$(".pricecolright").show();var minPriceVal=$("#"+defaults.minpriceObjID).val();if(eval(minPriceVal)>50){var htmlAfter="";for(var i=(Math.floor(eval(minPriceVal))/100);i<=9;i++){var p=Math.floor(i*100);htmlSelected=(defaults.initMinValue==p)?'class="selected"':"";htmlAfter+='        <div class="combogridcontainer_item"><a class="linkpricecolright" href="javascript:void(0)" '+htmlSelected+' rel="'+p+'" >'+p+'<sup class="linkprice">tr</sup></a></div>'}htmlSelected=(defaults.initMinValue>1000)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkpricecolright" href="javascript:void(0)" '+htmlSelected+' rel="'+maxvalueprice+'" > Trên 1<sup class="linkprice">tỷ</sup></a></div>';$(".pricecombogridcontainer #combogridcontainer_col2").html(htmlAfter)}readprice()});$(".pricecombogridcontainer").on("click","a",function(){if($(this).hasClass("linkprice")){$("#"+defaults.minpriceObjID).val($(this).attr("rel"));$(".pricecombogridcontainer #combogridcontainer_col1 a").removeClass("selected");$(this).addClass("selected");$("#"+defaults.maxpriceObjID).focus()}else{$("#"+defaults.maxpriceObjID).val($(this).attr("rel"));$(".pricecombogridcontainer #combogridcontainer_col2 a").removeClass("selected");$(this).addClass("selected");finishprice()}});var finishprice=function(){var minval,maxval;minval=$("#"+defaults.minpriceObjID).val();if(minval==0||minval==""||minval=="Từ"){minval=minvalueprice}maxval=$("#"+defaults.maxpriceObjID).val();if(maxval==0||maxval==""||maxval=="Đến"){maxval=maxvalueprice}minval=eval(minval);maxval=eval(maxval);$("#"+objId+" .combotext").html(getpricename(minval,maxval));$("#"+objId+" .dvcombo").removeClass("segmentedsectionactive");$(".pricecombogridcontainer").hide()};$("#"+defaults.maxpriceObjID).keypress(function(e){if(e.which==13){finishprice()}});$("#"+defaults.minpriceObjID).keypress(function(e){if(e.which==13){$("#"+defaults.maxpriceObjID).focus()}});$("#"+defaults.minpriceObjID).keyup(function(){readprice()});$("#"+defaults.maxpriceObjID).keyup(function(){readprice()});var readprice=function(){var valueMin=$("#"+defaults.minpriceObjID).val();var valueMax=$("#"+defaults.maxpriceObjID).val();var from="";var to="";if(eval(valueMax)>0&&valueMin==""){to=" Dưới "+GetMoneyText(valueMax*1000000)}else{if(eval(valueMax)>0){to=" đến "+GetMoneyText(valueMax*1000000)}}if(eval(valueMin)>0&&valueMax==""){from="Trên "+GetMoneyText(valueMin*1000000)}else{if(eval(valueMin)>0){from="Từ "+GetMoneyText(valueMin*1000000)}}$(".readprice").html(from+to)}})};function GetMoneyText(a){if(a==0){return"<span>0</span> triệu"}a=Math.round(a*10)/10;var b=0;if(a>=1000000000){b=a/1000000000;return"<span>"+b.toString().replace(".",",")+"</span> tỷ"}if(a>=1000000){b=a/1000000;return"<span>"+b+"</span> triệu"}}var getyearname=function(b,a){if(b==minvalueprice&&a==maxvalueyear){return"Năm"}else{if(b==minvalueprice&&a!=maxvalueyear){return"Trước "+a}else{if(b!=minvalueprice&&a==maxvalueyear){return"Sau "+b}else{return b+" - "+a}}}};$.fn.BxhYearCombo=function(parameters){var defaults={initMinValue:(parameters==null||parameters.initMinValue==null)?null:parameters.initMinValue,initMaxValue:(parameters==null||parameters.initMaxValue==null)?null:parameters.initMaxValue,initText:(parameters==null||parameters.initText==null)?null:parameters.initText,datawidth:(parameters==null||parameters.datawidth==null)?null:parameters.datawidth,type:(parameters==null||parameters.type==null)?null:parameters.type,minyearObjID:(parameters==null||parameters.minyearObjID==null)?"minyear":parameters.minyearObjID.replace(".","\\."),maxyearObjID:(parameters==null||parameters.maxyearObjID==null)?"maxyear":parameters.maxyearObjID.replace(".","\\.")};this.each(function(){var objId=$(this).attr("id");var htmlbefore='<div style="width:'+defaults.datawidth+'px" class="dvcombo"><span class="combotext" style="width:'+eval(defaults.datawidth-28)+'px">'+getyearname(defaults.initMinValue,defaults.initMaxValue)+'</span><span class="dartdown"></span></div>';if(defaults.type==2){$("#"+objId).html(htmlbefore+'<div class="yearcombogridcontainer yearcombogridcontainerv2 yearcombogridcontainerright combogridcontainer" style="display:none;width:135px;" >')}else{$("#"+objId).html(htmlbefore+'<div class="yearcombogridcontainer yearcombogridcontainerv2 combogridcontainer" style="display:none;width:163px;" >')}if(defaults.initMinValue==minvalueprice&&defaults.initMaxValue==maxvalueyear){defaults.initMinValue="";defaults.initMaxValue=""}var htmlafter="";var inputWidth="";if(defaults.type==2){inputWidth=";width: 55px"}htmlafter+='    <div class="dualbox" >';htmlafter+='        <input type="text" id="'+defaults.minyearObjID.replace("\\","")+'" name="'+defaults.minyearObjID.replace("\\","")+'" maxlength="5" style="'+inputWidth+'" class="priceOnly" placeholder="Từ" value="'+defaults.initMinValue+'">';htmlafter+='        <input type="text" id="'+defaults.maxyearObjID.replace("\\","")+'" name="'+defaults.maxyearObjID.replace("\\","")+'" maxlength="5" style="text-align: right'+inputWidth+'" class="priceOnly" placeholder="Đến" value="'+defaults.initMaxValue+'">';htmlafter+="    </div>";htmlafter+="    <div class='chooseyear'>Hoặc chọn</div>";var colwidth="";if(defaults.type==2){colwidth=' style="width: 52px !important"'}htmlafter+='    <div id="combogridcontainer_col1" class="combogridcontainer_col pricecolleft" '+colwidth+">";var htmlSelected=(defaults.initMinValue==0)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkprice" href="javascript:void(0)" '+htmlSelected+' rel="1991" >Trước 1991</a></div>';htmlSelected=(defaults.initMinValue==1991&&defaults.initMaxValue==2000)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkprice" href="javascript:void(0)" '+htmlSelected+' rel="1991" data-title="2000" >Từ 1991 - đến 2000</a></div>';htmlSelected=(defaults.initMinValue==2000&&defaults.initMaxValue==2005)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkprice" href="javascript:void(0)" '+htmlSelected+' rel="2000" data-title="2005">Từ 2000 - đến 2005</a></div>';htmlSelected=(defaults.initMinValue==2006)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkprice" href="javascript:void(0)" '+htmlSelected+' rel="2006" >Từ 2006 </a></div>';htmlSelected=(defaults.initMinValue==2007)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkprice" href="javascript:void(0)" '+htmlSelected+' rel="2007" >Từ 2007</a></div>';htmlSelected=(defaults.initMinValue==2008)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkprice" href="javascript:void(0)" '+htmlSelected+' rel="2008" >Từ 2008</a></div>';htmlSelected=(defaults.initMinValue==2009)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkprice" href="javascript:void(0)" '+htmlSelected+' rel="2009" >Từ 2009</a></div>';for(var i=2010;i<=2017;i++){var p=i;htmlSelected=(defaults.initMinValue==p)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkprice" href="javascript:void(0)" '+htmlSelected+' rel="'+p+'" >Từ '+p+"</a></div>"}htmlafter+="    </div>";htmlafter+='    <div id="combogridcontainer_col2" class="combogridcontainer_col pricecolright" '+colwidth+">";htmlSelected=(defaults.initMinValue==2006)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkpricecolright" href="javascript:void(0)" '+htmlSelected+' rel="2006" >đến 2006</a></div>';htmlSelected=(defaults.initMinValue==2007)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkpricecolright" href="javascript:void(0)" '+htmlSelected+' rel="2007" >đến 2007</a></div>';htmlSelected=(defaults.initMinValue==2008)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkpricecolright" href="javascript:void(0)" '+htmlSelected+' rel="2008" >đến 2008</a></div>';htmlSelected=(defaults.initMinValue==2009)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkpricecolright" href="javascript:void(0)" '+htmlSelected+' rel="2009" >đến 2009</a></div>';for(var i=2010;i<=2017;i++){var p=i;htmlSelected=(defaults.initMinValue==p)?'class="selected"':"";htmlafter+='        <div class="combogridcontainer_item"><a class="linkpricecolright" href="javascript:void(0)" '+htmlSelected+' rel="'+p+'" >đến '+p+"</a></div>"}htmlafter+="    </div>";htmlafter+="</div>";$(".yearcombogridcontainer").html(htmlafter);jQuery(".priceOnly").keyup(function(){this.value=this.value.replace(/[^0-9]/g,"");var text;if(this.value==""){text="0"}else{var milionValue=eval($(this).val().replace(/\b0(\d+)\b/g,"$1"));text=milionValue}$(this).html(text)});$("#"+objId+" .dvcombo").click(function(){if($(this).hasClass("segmentedsectionactive")){finishyear()}else{$(this).addClass("segmentedsectionactive");$(".yearcombogridcontainer").show();$("#"+defaults.minyearObjID).focus();if(defaults.type==10){$(".yearcombogridcontainer").css("top","220px");$(".yearcombogridcontainer").css("left","")}else{if(defaults.type==0){$(".yearcombogridcontainer").css("top","159px");$(".yearcombogridcontainer").css("left","222px")}else{$(".yearcombogridcontainer").css("top",$(this).offset().top+29);$(".yearcombogridcontainer").css("left",$(this).offset().left)}}$(document).mouseup(function(e){if(e.target.id==defaults.minyearObjID){return}if(e.target.id==defaults.maxyearObjID){return}if($(e.target).hasClass("linkprice")){return}if($(e.target).hasClass("linkpricecolright")){return}var container=$("#"+objId);if(!container.is(e.target)&&container.has(e.target).length===0&&$("#"+objId+" .dvcombo").hasClass("segmentedsectionactive")){finishyear()}})}});$("#"+defaults.minyearObjID).focus(function(){if($(this).val()==""){$(".yearcombogridcontainer #combogridcontainer_col1 a").removeClass("selected")}$(this).addClass("active");$("#"+ +defaults.maxyearObjID).removeClass("active");$(".pricecolleft").show();$(".pricecolright").hide()});$("#"+defaults.maxyearObjID).focus(function(){if($(this).val()==""){$(".yearcombogridcontainer #combogridcontainer_col2 a").removeClass("selected")}$(this).addClass("active");$("#"+defaults.minyearObjID).removeClass("active");$(".pricecolleft").hide();$(".pricecolright").show();var minyearVal=$("#"+defaults.minyearObjID).val();if(eval(minyearVal)>2005){var htmlAfter="";for(var i=eval(minyearVal);i<=2017;i++){var p=i;htmlSelected=(defaults.initMinValue==p)?'class="selected"':"";htmlAfter+='        <div class="combogridcontainer_item"><a class="linkpricecolright" href="javascript:void(0)" '+htmlSelected+' rel="'+p+'" >đến '+p+"</a></div>"}$(".yearcombogridcontainer #combogridcontainer_col2").html(htmlAfter)}});$(".yearcombogridcontainer").on("click","a",function(){if($(this).hasClass("linkprice")){var toYear=$(this).attr("data-title");if(toYear!=""&&eval(toYear)>0){$("#"+defaults.minyearObjID).val($(this).attr("rel"));$("#"+defaults.maxyearObjID).val(toYear);finishyear()}else{if(eval($(this).attr("rel"))==1991){$("#"+defaults.minyearObjID).val(0);$("#"+defaults.maxyearObjID).val($(this).attr("rel"));finishyear()}else{$("#"+defaults.minyearObjID).val($(this).attr("rel"));$(".yearcombogridcontainer #combogridcontainer_col1 a").removeClass("selected");$(this).addClass("selected");$("#"+defaults.maxyearObjID).focus()}}}else{$("#"+defaults.maxyearObjID).val($(this).attr("rel"));$(".yearcombogridcontainer #combogridcontainer_col2 a").removeClass("selected");$(this).addClass("selected");finishyear()}});var finishyear=function(){var minval,maxval;minval=$("#"+defaults.minyearObjID).val();if(minval==0||minval==""||minval=="Từ"){minval=minvalueyear}$(".yearcombogridcontainer #combogridcontainer_col2 a").removeClass("selected");maxval=$("#"+defaults.maxyearObjID).val();if(maxval==0||maxval==""||maxval=="Đến"){maxval=maxvalueyear}minval=eval(minval);maxval=eval(maxval);$("#"+objId+" .combotext").html(getyearname(minval,maxval));$("#"+objId+" .dvcombo").removeClass("segmentedsectionactive");$(".yearcombogridcontainer").hide()};$("#"+defaults.maxyearObjID).keypress(function(e){if(e.which==13){finishyear()}});$("#"+defaults.minyearObjID).keypress(function(e){if(e.which==13){$("#"+defaults.maxyearObjID).focus()}})})};$.fn.BxhClassificationCombo=function(parameters){var defaults={data:(parameters==null||parameters.data==null)?null:parameters.data,initValue:(parameters==null||parameters.initValue==null)?0:parameters.initValue,initText:(parameters==null||parameters.initText==null)?null:parameters.initText,datawidth:(parameters==null||parameters.datawidth==null)?null:parameters.datawidth,inputObjId:(parameters==null||parameters.inputObjId==null)?null:parameters.inputObjId.replace(".","\\."),inputObjName:(parameters==null||parameters.inputObjName==null)?null:parameters.inputObjName.replace(".","\\."),divContainerId:(parameters==null||parameters.divContainerId==null)?null:parameters.divContainerId,type:(parameters==null||parameters.type==null)?null:parameters.type,className:(parameters==null||parameters.className==null)?null:parameters.className,relName:(parameters==null||parameters.relName==null)?null:parameters.relName,isMulti:(parameters==null||parameters.isMulti==null)?null:parameters.isMulti,defaultText:"Kiểu dáng"};this.each(function(){var objId=$(this).attr("id");if(typeof defaults.initText=="undefined"||defaults.initText==""){defaults.initText=defaults.defaultText}var endhtml='<input class="chooseclass" type="button" value="Chọn" />';var htmlbefore='<input id="'+defaults.inputObjName.replace("\\","")+'" type="hidden" name="'+defaults.inputObjName.replace("\\","")+'" value="'+defaults.initText+'">';htmlbefore+='<input id="'+defaults.inputObjId.replace("\\","")+'" type="hidden" name="'+defaults.inputObjId.replace("\\","")+'" class="'+defaults.className+'" rel="'+defaults.relName+'" value="'+defaults.initValue+'">';htmlbefore+='<div style="width:'+defaults.datawidth+'px" class="dvcombo"><span class="combotext" style="width:'+eval(defaults.datawidth-28)+'px">'+defaults.initText+'</span><span class="dartdown"></span></div>';$("#"+objId).html(htmlbefore);var htmlafter='<div id="'+defaults.divContainerId+'" class="classificationscontainer classificationscontainerv2" style="display:none;width:720px;padding:12px;" >';htmlafter+='    <a href="javascript:void(0)" class="selectoptioncontainer_closebutton"><img src="https://img1.banxehoi.com/Static/Images/iconcloseclass.png" border="0"></a>';for(var i=0;i<defaults.data.length;i++){var htmlSelected="";if(defaults.type==4||defaults.type==3||defaults.type==5){if(defaults.data[i].ShortName==defaults.initValue){htmlSelected='class="selected"';$("#"+defaults.inputObjName).val(defaults.data[i].Text);$("#"+objId+" .combotext").html(defaults.data[i].Text)}}else{htmlSelected=(HasState(defaults.data[i].Value,defaults.initValue))?'class="selected"':""}var isSelected=(defaults.initValue==defaults.data[i].Value);if(defaults.type==4||defaults.type==5){isSelected=defaults.data[i].ShortName==defaults.initValue}var imgAvatar=defaults.data[i].Value;var value=(defaults.type==3||defaults.type==4||defaults.type==5)?defaults.data[i].ShortName:defaults.data[i].Value;htmlafter+='    <div class="selectoptioncontainer_item">';htmlafter+="        <a "+htmlSelected+' href="javascript:void(0)" data-title="'+value+'" rel="'+value+'" >';htmlafter+='            <img rel="'+value+'" src="https://img1.banxehoi.com/Static/Images/ClassificationsSearch/'+imgAvatar+'.png" '+(isSelected?'style=""':"")+"/>";htmlafter+="            <span>"+defaults.data[i].Text+"</span>";htmlafter+="        </a>";htmlafter+="    </div>"}htmlafter+=endhtml;htmlafter+="</div>";$("body").append(htmlafter);var finishclassifications=function(){var thisvalue=0;var thistext="";$("#"+defaults.divContainerId+" .selectoptioncontainer_item").each(function(){if($(this).find("a").hasClass("selected")){thisvalue+=eval($(this).find("a").attr("rel"));thistext+=$(this).find("a").find("span").html()+", "}});if(thistext.length>0){thistext=thistext.substring(0,thistext.length-2)}else{thistext=defaults.defaultText}$("#"+defaults.inputObjId).val(thisvalue);if(thistext!=""){$("#"+defaults.inputObjId).next().find(".combotext").html(thistext);$("#"+defaults.inputObjName).val(thistext)}$("#"+objId+" .dvcombo").removeClass("segmentedsectionactive")};$("#"+defaults.divContainerId+" .selectoptioncontainer_closebutton").click(function(){finishclassifications();$("#"+defaults.divContainerId).hide()});$("#"+defaults.divContainerId+" .chooseclass").click(function(){finishclassifications();$("#"+defaults.divContainerId).hide()});$("#"+objId+" .dvcombo").click(function(){if($(this).hasClass("segmentedsectionactive")){finishclassifications()}else{$(this).addClass("segmentedsectionactive");$("#"+defaults.divContainerId).show();$("#"+defaults.divContainerId).css("top",$(this).offset().top+29);if(defaults.type==1){$("#"+defaults.divContainerId).css("left",$(this).offset().left-195)}else{if(defaults.type==3){$("#"+defaults.divContainerId).css("left",$(this).offset().left)}else{if(defaults.type==2){var leftindex=$(this).offset().left-eval($(".classificationscontainer").css("width").replace("px",""))+121;$("#"+defaults.divContainerId).css("left",leftindex)}else{if(defaults.type==4){var element=$(".classificationscontainer");var left=$(".search-carreview").offset().left;element.css("left",left)}else{if(defaults.type==5){var element=$(".classificationscontainer");var left=$(".rightboxnews").offset().left;element.css("left",left-448)}}}}}}$(document).mouseup(function(e){if($(e.target).parent().hasClass("selectoptioncontainer_item")||$(e.target).parent().parent().hasClass("selectoptioncontainer_item")){return}var container=$("#"+objId);if(!container.is(e.target)&&container.has(e.target).length===0&&$("#"+objId+" .dvcombo").hasClass("segmentedsectionactive")){finishclassifications();$("#"+defaults.divContainerId).hide()}})});$("#"+defaults.divContainerId+" a").hover(function(){if($(this).hasClass("selectoptioncontainer_closebutton")){return}});$("#"+defaults.divContainerId+" a").live("mouseleave",function(){if($(this).hasClass("selected")){return}});$("#"+defaults.divContainerId+" a").click(function(){if(defaults.isMulti){$(this).toggleClass("selected")}else{if($(this).hasClass("selected")){$("#"+defaults.divContainerId+" a").removeClass("selected");$("#"+defaults.inputObjId).val("0");$("#"+objId+" .combotext").html("Kiểu dáng");$("#"+defaults.inputObjName).val("Kiểu dáng");$(this).mouseleave()}else{$("#"+defaults.inputObjId).val($(this).attr("rel"));var text=$(this).find("span").html();if(text!=null&&text!=""){$("#"+objId+" .combotext").html(text);$("#"+defaults.inputObjName).val(text)}$("#"+defaults.divContainerId+" a").removeClass("selected");$(this).addClass("selected")}$("#"+defaults.divContainerId+" a").each(function(){$(this).mouseleave()});finishclassifications()}})})};function MobileClick(type,autoId,_this){if(eval(autoId)>0){$.get("/view-mobile-"+autoId,function(data){if(data!=null&&data.Result){if(type==1){var mobile=$(_this).attr("data-mobile");$(_this).text(mobile)}else{$(".viewmobile .btnview").hide();$(".viewmobile .mobile").show()}$(_this).removeAttr("onclick")}});ga("send","event","Product","XemSDT")}}$.fn.bxhArticlePromotionSearch=function(){$(this).click(function(){var d=$("#PromotionTypeId").val();var b=$("#txtPromotionFromDate").val();var a=$("#txtPromotionToDate").val();var c="";switch(d){case"69":c="/khuyen-mai";break;case"70":c="/khuyen-mai/khuyen-mai-tren-ban-xe-hoi";break;case"71":c="/khuyen-mai/khuyen-mai-tu-cac-hang";break;default:c="/khuyen-mai"}if(b.trim()!=""){b=b.replace("/","").replace("/","")}else{b="0"}if(a.trim()!=""){a=a.replace("/","").replace("/","")}else{a="0"}if(b!="0"||a!="0"){c=c+"/"+b+"-"+a}ga("send","event","AutoPromotion","Search");location.href=c})};$.fn.bxhArticleImproveSearch=function(){$(this).click(function(){var a=$("#txtImproveSearch").val();if(a.trim()==""){$("#txtImproveSearch").focus();return}a=a.replace(/\./g,"");a=removeSpecial(a.trim());var b="/cai-tien-tinh-nang-moi/k="+encodeURI(a);ga("send","event","Improve","Search");location.href=b})};$.fn.bxhCreateGiaXe=function(){var a=$(this).attr("id");$("#"+a+" .dataprice ").each(function(){var e=$(this);var c=e.attr("data");var d;if(c&&c!=""){d=b(c)}e.html(d);e.attr("style","")});function b(d){var g="";var h=$.parseJSON(d);if(h&&h!=null){if(h.Caption&&h.Caption!=null&&h.Visible&&h.Visible!=null){$.each(h.Caption,function(m,j){g+="<th>"+j+"</th>"})}else{return""}g='<tr class="highlight" style="font-weight:bold; background:#ebebeb;"><td>STT</td>'+g+"</tr>";var k="";if(h.Value&&h.Value!=null){var l=h.Caption.length;var c=h.Value.length;var f;var e;for(f=0;f<c;f++){htmData="";for(e=0;e<l;e++){htmData+="<td>"+h.Value[f][e]+"</td>"}htmData="<tr> <td>"+(f+1)+"</td>"+htmData+"</tr>";g+=htmData}}g='<table class="responsive giaxe" style="border-spacing: 0 !important;">'+g+"</table>"}return g}};