@using IMIC.BUSINESSOBJECTS.EntityObject
@using IMIC.CONTROLLERS.BCL
@model PostObject

@{
    ViewBag.Title = "Create2";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}
<link href="~/Areas/Admin/Content/file/MainStyle-mini.css" rel="stylesheet" />
<link href="/Areas/Admin/Content/file/css.css" rel="stylesheet" type="text/css">
<style>
    .dvcombo {
        width: 100% !important;
    }
</style>
<div class="center">
    <div class="path"></div>
    <div class="createauto" id="validateCreateAuto">
        <div class="title">Đăng tin bán xe</div>
        <div class="supportpost">Người dùng cần hỗ trợ xin liên hệ: 0974.131.292</div>
        <div class="content">

            @using (Html.BeginForm())
            {
                @Html.AntiForgeryToken()
                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                @Html.HiddenFor(m => m.IsDeleted)
                @Html.HiddenFor(m => m.PostId)
                <div class="colleft">
                    <div class="divcreateautocontent">
                        <div class="tit">Thông tin mô tả</div>
                        <div class="left">
                            <div class="rowitem">
                                <label class="text">Xuất xứ (*)</label>
                                <div class="value">
                                    @Html.DropDownListFor(q => q.MadeInId, new SelectList(new MadeInCarBCL().ExecuteOf_GetElements(), "MadeInID", "MadeInName"), "Chọn", new { @class = "dvcombo", required = "required" })
                                </div>
                            </div>
                            <div class="rowitem">
                                <label class="text">Trạng thái bán xe (*)</label>
                                <div class="value">
                                    @Html.DropDownListFor(q => q.CarStatusID, new SelectList(new CarStatus_BCL().GetAll(), "CarStatusID", "CarStatusName"), "Chọn", new { @class = "dvcombo", required = "required" })
                                </div>
                            </div>
                            <div class="rowitem">
                                <label class="text">Trạng thái mua bán (*)</label>
                                <div class="value">
                                    @Html.DropDownListFor(q => q.SaleStatusCarID, new SelectList(new SaleStatusCarBCL().GetAll(), "SaleStatusCarID", "SaleStatusCarName"), "Chọn", new { @class = "dvcombo", required = "required" })
                                </div>
                            </div>
                            <div class="rowitem">
                                <label class="text">Kiểu xe</label>
                                <div class="value">
                                    @Html.DropDownListFor(q => q.TypeOfCarID, new SelectList(new TypeOfCar_BCL().GetAll(), "TypeOfCarID", "TypeName"), "Chọn", new { @class = "dvcombo", required = "required" })
                                </div>
                            </div>
                            <div class="rowitem">
                                <label class="text">Số KM đã đi</label>
                                <div class="value">
                                    @Html.TextBoxFor(q => q.KmWent, new { @class = "dvcombo", type = "number", required = "required" })
                                </div>
                            </div>
                            <div class="rowitem">
                                <label class="text">Nội thất (*)</label>
                                <div class="value">
                                    @Html.DropDownListFor(q => q.FurnitureColorID, new SelectList(new ExteriorFurnitureColor_BCL().GetAll(), "ExteriorFurnitureColorID", "ExteriorFurnitureColorName"), "Chọn", new { @class = "dvcombo", required = "required" })
                                </div>
                            </div>
                        </div>
                        <div class="right">
                            <div class="rowitem">
                                <label class="text">Ngoại thất (*)</label>
                                <div class="value">
                                    @Html.DropDownListFor(q => q.ExteriorColorID, new SelectList(new ExteriorFurnitureColor_BCL().GetAll(), "ExteriorFurnitureColorID", "ExteriorFurnitureColorName"), "Chọn", new { @class = "dvcombo", required = "required" })
                                </div>
                            </div>
                            <div class="rowitem">
                                <label class="text">Số cửa (*)</label>
                                <div class="value">
                                    @Html.DropDownListFor(q => q.NumberOfDoorId, new SelectList(new NumberOfDoor_BCL().ExecuteOf_GetElements(), "NumberOfDoorId", "NumberOfDoorName"), "Chọn", new { @class = "dvcombo", required = "required" })
                                </div>
                            </div>
                            <div class="rowitem">
                                <label class="text">Số ghế (*)</label>
                                <div class="value">
                                    @Html.DropDownListFor(q => q.NumberOfSeatId, new SelectList(new NumberOfSeatBCL().ExecuteOf_GetElements(), "NumberOfSeatId", "NumberOfSeatName"), "Chọn", new { @class = "dvcombo", required = "required" })
                                </div>
                            </div>
                            <div class="rowitem numOfKm" style="min-height: 30px;">
                                <label class="text">Nhiên liệu (*)</label>
                                <div class="value">
                                    @Html.DropDownListFor(q => q.FuelID, new SelectList(new FuelCar_BCL().GetAll(), "FuelID", "FuelName"), "Chọn", new { @class = "dvcombo", required = "required" })
                                </div>
                            </div>
                            <div class="rowitem">
                                <label class="text">Hộp số (*)</label>
                                <div class="value">
                                    @Html.DropDownListFor(q => q.CarGearId, new SelectList(new GearCar_BCL().GetAll(), "CarGearId", "CarGearName"), "Chọn", new { @class = "dvcombo", required = "required" })
                                </div>
                            </div>
                            <div class="rowitem">
                                <label class="text">Giá tiền (*)</label>
                                <div class="value">
                                    @Html.TextBoxFor(q => q.CarPrice, new { @class = "dvcombo", type = "number", required = "required" })
                                </div>
                            </div>
                        </div>


                        <div class="rowitem">
                            <label>Tiêu đề</label>
                            @Html.TextBoxFor(q => q.PostTitle, new { @class = "longtitle bxhInputValidate bxhInputValidateNotContainHTMLTag", required = "required" })
                        </div>
                        <div class="rowitem">
                            <label>Nội dung (*)</label>
                            <textarea name="PostContent" id="PostContent" validatemessage="Nội dung" class="bxhInputValidate  bxhInputValidateMaxLength bxhInputValidateNotContainHTMLTag" cols="20" maxlenght="3000" placeholder="Mô tả chi tiết về xe được rao bán kèm các ưu đãi khác (nếu có)" rel="Nội dung" rows="2" style="border: 1px solid #e8e8e8;border-radius: 3px;height: 96px;padding-left: 10px;width: 528px;" tabindex="5"></textarea>
                        </div>
                        <div class="rowitem">
                            <label>&nbsp;</label>
                            <div class="count"><span>Tối đa chỉ 3000 kí tự. &nbsp;</span><span class="note" id="havewordcount"></span></div>
                        </div>

                        <div class="tit">Thông số cơ bản</div>
                        <div class="left">
                            <div class="rowitem">
                                <label class="text">Dẫn động (*)</label>
                                <div class="value">
                                    @Html.DropDownListFor(q => q.WheelDriveId, new SelectList(new WheelDrive_BCL().GetAll(), "WheelDriveId", "WheelDriveName"), "Chọn", new { @class = "dvcombo", required = "required" })
                                </div>
                            </div>
                            <div class="rowitem">
                                <label class="text">Trạng thái sử dụng(*)</label>
                                <div class="value">
                                    @Html.DropDownListFor(q => q.CarStatusID, new SelectList(new CarStatus_BCL().GetAll(), "CarStatusID", "CarStatusName"), "Chọn", new { @class = "dvcombo", required = "required" })
                                </div>
                            </div>
                            <div class="rowitem">
                                <label class="text">Năm sản xuất</label>
                                <div class="value">
                                    <select name="ProducedYear" id="ProducedYear" class="dvcombo" required>
                                        <option>Chọn năm sản xuất</option>
                                        @for (int i = DateTime.Now.Year; i >= 1990; i--)
                                        {
                                            <option value='@i'>@i</option>
                                        }
                                    </select>
                                </div>
                            </div>
                            <div class="rowitem">
                                <label class="text">Ghi chú</label>
                                <div class="value">
                                    <textarea name="Note" id="Note" class="bxhInputValidate  bxhInputValidateMaxLength bxhInputValidateNotContainHTMLTag bxhvalierror" cols="20" maxlenght="3000" name="Description" placeholder="Mô tả chi tiết về xe được rao bán kèm các ưu đãi khác (nếu có)" rel="Nội dung" rows="2" style="border: 1px solid #e8e8e8;border-radius: 3px;height: 67px;padding-left: 10px;width: 528px;"> </textarea>
                                </div>
                            </div>
                        </div>


                        <!--Hình ảnh-->
                        @Html.Partial("pv_image",Model.PostId)

                        @Html.Partial("pv_user", Model.AccountPostJoin)

                        <div class="tit">Hoàn thành</div>
                        <div class="rowitem mgt">
                            <input id="btnPreview" type="button" name="preview" value="Xem trước" class="btn btn-success" />
                            <input id="btnSubmit" type="submit" name="submit" value="Đăng tin" class="btn btn-success" />
                        </div>
                    </div>

                </div>
            }

            <div class="colright">
                <div class="divcreateautocontent">

                    @Html.Partial("pv_thongSoKiThuat", (IEnumerable<DigitalDetail_Object>)@ViewBag.DigitalDetail)

                    @Html.Partial("pv_tienNghi", (IEnumerable<UtilitiesDetail_Object>)@ViewBag.UtilitiesDetail)

                    @Html.Partial("pv_anToan", (IEnumerable<SafeDetail_Object>)@ViewBag.SafeDetail)

                </div>
            </div>
        </div>
    </div>
    
    @*<script src="/Areas/Admin/Content/file/bxhupload.js" type="text/javascript"></script>*@
</div>
@section script_footer
{
    <script>
        //submit form
        $('#btnSubmit').click(function () {
            $(".frm-pv").each(function () {
                valuesToSend = $(this).serialize();
                $.ajax({
                    url: $(this).attr('action'),
                    type: 'post',
                    data: valuesToSend
                })
            });
        });
    </script>
}